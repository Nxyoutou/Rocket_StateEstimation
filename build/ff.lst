ARM GAS  /tmp/ccBfkcjf.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 1
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"ff.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text.ld_word,"ax",%progbits
  17              		.align	1
  18              		.arch armv7e-m
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu fpv5-d16
  24              	ld_word:
  25              	.LVL0:
  26              	.LFB350:
  27              		.file 1 "Middlewares/Third_Party/FatFs/src/ff.c"
   1:Middlewares/Third_Party/FatFs/src/ff.c **** /*----------------------------------------------------------------------------/
   2:Middlewares/Third_Party/FatFs/src/ff.c **** /  FatFs - Generic FAT file system module  R0.12c                             /
   3:Middlewares/Third_Party/FatFs/src/ff.c **** /-----------------------------------------------------------------------------/
   4:Middlewares/Third_Party/FatFs/src/ff.c **** /
   5:Middlewares/Third_Party/FatFs/src/ff.c **** / Copyright (C) 2017, ChaN, all right reserved.
   6:Middlewares/Third_Party/FatFs/src/ff.c **** /
   7:Middlewares/Third_Party/FatFs/src/ff.c **** / FatFs module is an open source software. Redistribution and use of FatFs in
   8:Middlewares/Third_Party/FatFs/src/ff.c **** / source and binary forms, with or without modification, are permitted provided
   9:Middlewares/Third_Party/FatFs/src/ff.c **** / that the following condition is met:
  10:Middlewares/Third_Party/FatFs/src/ff.c **** /
  11:Middlewares/Third_Party/FatFs/src/ff.c **** / 1. Redistributions of source code must retain the above copyright notice,
  12:Middlewares/Third_Party/FatFs/src/ff.c **** /    this condition and the following disclaimer.
  13:Middlewares/Third_Party/FatFs/src/ff.c **** /
  14:Middlewares/Third_Party/FatFs/src/ff.c **** / This software is provided by the copyright holder and contributors "AS IS"
  15:Middlewares/Third_Party/FatFs/src/ff.c **** / and any warranties related to this software are DISCLAIMED.
  16:Middlewares/Third_Party/FatFs/src/ff.c **** / The copyright owner or contributors be NOT LIABLE for any damages caused
  17:Middlewares/Third_Party/FatFs/src/ff.c **** / by use of this software.
  18:Middlewares/Third_Party/FatFs/src/ff.c **** /----------------------------------------------------------------------------*/
  19:Middlewares/Third_Party/FatFs/src/ff.c **** 
  20:Middlewares/Third_Party/FatFs/src/ff.c **** 
  21:Middlewares/Third_Party/FatFs/src/ff.c **** #include "ff.h"			/* Declarations of FatFs API */
  22:Middlewares/Third_Party/FatFs/src/ff.c **** #include "diskio.h"		/* Declarations of device I/O functions */
  23:Middlewares/Third_Party/FatFs/src/ff.c **** 
  24:Middlewares/Third_Party/FatFs/src/ff.c **** 
  25:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------------------------
  26:Middlewares/Third_Party/FatFs/src/ff.c **** 
  27:Middlewares/Third_Party/FatFs/src/ff.c ****    Module Private Definitions
  28:Middlewares/Third_Party/FatFs/src/ff.c **** 
  29:Middlewares/Third_Party/FatFs/src/ff.c **** ---------------------------------------------------------------------------*/
  30:Middlewares/Third_Party/FatFs/src/ff.c **** 
  31:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FATFS != 68300	/* Revision ID */
ARM GAS  /tmp/ccBfkcjf.s 			page 2


  32:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong include file (ff.h).
  33:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
  34:Middlewares/Third_Party/FatFs/src/ff.c **** 
  35:Middlewares/Third_Party/FatFs/src/ff.c **** 
  36:Middlewares/Third_Party/FatFs/src/ff.c **** /* DBCS code ranges and SBCS upper conversion tables */
  37:Middlewares/Third_Party/FatFs/src/ff.c **** 
  38:Middlewares/Third_Party/FatFs/src/ff.c **** #if _CODE_PAGE == 932	/* Japanese Shift-JIS */
  39:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81	/* DBC 1st byte range 1 start */
  40:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0x9F	/* DBC 1st byte range 1 end */
  41:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF2S	0xE0	/* DBC 1st byte range 2 start */
  42:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF2E	0xFC	/* DBC 1st byte range 2 end */
  43:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x40	/* DBC 2nd byte range 1 start */
  44:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x7E	/* DBC 2nd byte range 1 end */
  45:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0x80	/* DBC 2nd byte range 2 start */
  46:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0xFC	/* DBC 2nd byte range 2 end */
  47:Middlewares/Third_Party/FatFs/src/ff.c **** 
  48:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 936	/* Simplified Chinese GBK */
  49:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81
  50:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0xFE
  51:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x40
  52:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x7E
  53:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0x80
  54:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0xFE
  55:Middlewares/Third_Party/FatFs/src/ff.c **** 
  56:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 949	/* Korean */
  57:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81
  58:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0xFE
  59:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x41
  60:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x5A
  61:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0x61
  62:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0x7A
  63:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS3S	0x81
  64:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS3E	0xFE
  65:Middlewares/Third_Party/FatFs/src/ff.c **** 
  66:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 950	/* Traditional Chinese Big5 */
  67:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81
  68:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0xFE
  69:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x40
  70:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x7E
  71:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0xA1
  72:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0xFE
  73:Middlewares/Third_Party/FatFs/src/ff.c **** 
  74:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 437	/* U.S. */
  75:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
  76:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x45,0x41,0x8E,0x41,0x8F,0x80,0x45,0x45,0x45,0x49,0x49,0x49,0x8E,0x8F, \
  77:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0x4F,0x99,0x4F,0x55,0x55,0x59,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
  78:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
  79:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
  80:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
  81:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
  82:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
  83:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
  84:Middlewares/Third_Party/FatFs/src/ff.c **** 
  85:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 720	/* Arabic */
  86:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
  87:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
  88:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
ARM GAS  /tmp/ccBfkcjf.s 			page 3


  89:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
  90:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
  91:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
  92:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
  93:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
  94:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
  95:Middlewares/Third_Party/FatFs/src/ff.c **** 
  96:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 737	/* Greek */
  97:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
  98:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
  99:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0x93,0x94,0x95,0x96,0x97,0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87, \
 100:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x90,0x91,0xAA,0x92,0x93,0x94,0x95,0x96, \
 101:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 102:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 103:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 104:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x97,0xEA,0xEB,0xEC,0xE4,0xED,0xEE,0xEF,0xF5,0xF0,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 105:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 106:Middlewares/Third_Party/FatFs/src/ff.c **** 
 107:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 771	/* KBL */
 108:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 109:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 110:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 111:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 112:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 113:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 114:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDC,0xDE,0xDE, \
 115:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 116:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF0,0xF2,0xF2,0xF4,0xF4,0xF6,0xF6,0xF8,0xF8,0xFA,0xFA,0xFC,0xFC,0xFE,0xFF}
 117:Middlewares/Third_Party/FatFs/src/ff.c **** 
 118:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 775	/* Baltic */
 119:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 120:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x91,0xA0,0x8E,0x95,0x8F,0x80,0xAD,0xED,0x8A,0x8A,0xA1,0x8D,0x8E,0x8F, \
 121:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0xE2,0x99,0x95,0x96,0x97,0x97,0x99,0x9A,0x9D,0x9C,0x9D,0x9E,0x9F, \
 122:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xE0,0xA3,0xA3,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 123:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 124:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 125:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB5,0xB6,0xB7,0xB8,0xBD,0xBE,0xC6,0xC7,0xA5,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 126:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE5,0xE5,0xE6,0xE3,0xE8,0xE8,0xEA,0xEA,0xEE,0xED,0xEE,0xEF, \
 127:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 128:Middlewares/Third_Party/FatFs/src/ff.c **** 
 129:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 850	/* Latin 1 */
 130:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 131:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x43,0x55,0x45,0x41,0x41,0x41,0x41,0x43,0x45,0x45,0x45,0x49,0x49,0x49,0x41,0x41, \
 132:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x45,0x92,0x92,0x4F,0x4F,0x4F,0x55,0x55,0x59,0x4F,0x55,0x4F,0x9C,0x4F,0x9E,0x9F, \
 133:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 134:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0x41,0x41,0x41,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 135:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0x41,0x41,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 136:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD1,0xD1,0x45,0x45,0x45,0x49,0x49,0x49,0x49,0xD9,0xDA,0xDB,0xDC,0xDD,0x49,0xDF, \
 137:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x4F,0xE1,0x4F,0x4F,0x4F,0x4F,0xE6,0xE8,0xE8,0x55,0x55,0x55,0x59,0x59,0xEE,0xEF, \
 138:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 139:Middlewares/Third_Party/FatFs/src/ff.c **** 
 140:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 852	/* Latin 2 */
 141:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 142:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0xB6,0x8E,0xDE,0x8F,0x80,0x9D,0xD3,0x8A,0x8A,0xD7,0x8D,0x8E,0x8F, \
 143:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x91,0xE2,0x99,0x95,0x95,0x97,0x97,0x99,0x9A,0x9B,0x9B,0x9D,0x9E,0xAC, \
 144:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB5,0xD6,0xE0,0xE9,0xA4,0xA4,0xA6,0xA6,0xA8,0xA8,0xAA,0x8D,0xAC,0xB8,0xAE,0xAF, \
 145:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBD,0xBF, \
ARM GAS  /tmp/ccBfkcjf.s 			page 4


 146:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC6,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 147:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD1,0xD1,0xD2,0xD3,0xD2,0xD5,0xD6,0xD7,0xB7,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 148:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE3,0xD5,0xE6,0xE6,0xE8,0xE9,0xE8,0xEB,0xED,0xED,0xDD,0xEF, \
 149:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xEB,0xFC,0xFC,0xFE,0xFF}
 150:Middlewares/Third_Party/FatFs/src/ff.c **** 
 151:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 855	/* Cyrillic */
 152:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 153:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x81,0x81,0x83,0x83,0x85,0x85,0x87,0x87,0x89,0x89,0x8B,0x8B,0x8D,0x8D,0x8F,0x8F, \
 154:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x91,0x91,0x93,0x93,0x95,0x95,0x97,0x97,0x99,0x99,0x9B,0x9B,0x9D,0x9D,0x9F,0x9F, \
 155:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA1,0xA1,0xA3,0xA3,0xA5,0xA5,0xA7,0xA7,0xA9,0xA9,0xAB,0xAB,0xAD,0xAD,0xAE,0xAF, \
 156:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB6,0xB6,0xB8,0xB8,0xB9,0xBA,0xBB,0xBC,0xBE,0xBE,0xBF, \
 157:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC7,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 158:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD1,0xD1,0xD3,0xD3,0xD5,0xD5,0xD7,0xD7,0xDD,0xD9,0xDA,0xDB,0xDC,0xDD,0xE0,0xDF, \
 159:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE2,0xE2,0xE4,0xE4,0xE6,0xE6,0xE8,0xE8,0xEA,0xEA,0xEC,0xEC,0xEE,0xEE,0xEF, \
 160:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF2,0xF2,0xF4,0xF4,0xF6,0xF6,0xF8,0xF8,0xFA,0xFA,0xFC,0xFC,0xFD,0xFE,0xFF}
 161:Middlewares/Third_Party/FatFs/src/ff.c **** 
 162:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 857	/* Turkish */
 163:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 164:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0xB6,0x8E,0xB7,0x8F,0x80,0xD2,0xD3,0xD4,0xD8,0xD7,0x49,0x8E,0x8F, \
 165:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0xE2,0x99,0xE3,0xEA,0xEB,0x98,0x99,0x9A,0x9D,0x9C,0x9D,0x9E,0x9E, \
 166:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB5,0xD6,0xE0,0xE9,0xA5,0xA5,0xA6,0xA6,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 167:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 168:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC7,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 169:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0x49,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 170:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE5,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xDE,0xED,0xEE,0xEF, \
 171:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 172:Middlewares/Third_Party/FatFs/src/ff.c **** 
 173:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 860	/* Portuguese */
 174:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 175:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0x8F,0x8E,0x91,0x86,0x80,0x89,0x89,0x92,0x8B,0x8C,0x98,0x8E,0x8F, \
 176:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x8C,0x99,0xA9,0x96,0x9D,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 177:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x86,0x8B,0x9F,0x96,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 178:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 179:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 180:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 181:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 182:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 183:Middlewares/Third_Party/FatFs/src/ff.c **** 
 184:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 861	/* Icelandic */
 185:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 186:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0x41,0x8E,0x41,0x8F,0x80,0x45,0x45,0x45,0x8B,0x8B,0x8D,0x8E,0x8F, \
 187:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0x4F,0x99,0x8D,0x55,0x97,0x97,0x99,0x9A,0x9D,0x9C,0x9D,0x9E,0x9F, \
 188:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA4,0xA5,0xA6,0xA7,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 189:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 190:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 191:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 192:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 193:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 194:Middlewares/Third_Party/FatFs/src/ff.c **** 
 195:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 862	/* Hebrew */
 196:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 197:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 198:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 199:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 200:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 201:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 202:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
ARM GAS  /tmp/ccBfkcjf.s 			page 5


 203:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 204:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 205:Middlewares/Third_Party/FatFs/src/ff.c **** 
 206:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 863	/* Canadian-French */
 207:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 208:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x43,0x55,0x45,0x41,0x41,0x41,0x86,0x43,0x45,0x45,0x45,0x49,0x49,0x8D,0x41,0x8F, \
 209:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x45,0x45,0x45,0x4F,0x45,0x49,0x55,0x55,0x98,0x4F,0x55,0x9B,0x9C,0x55,0x55,0x9F, \
 210:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0x4F,0x55,0xA4,0xA5,0xA6,0xA7,0x49,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 211:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 212:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 213:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 214:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 215:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 216:Middlewares/Third_Party/FatFs/src/ff.c **** 
 217:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 864	/* Arabic */
 218:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 219:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x45,0x41,0x8E,0x41,0x8F,0x80,0x45,0x45,0x45,0x49,0x49,0x49,0x8E,0x8F, \
 220:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0x4F,0x99,0x4F,0x55,0x55,0x59,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 221:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 222:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 223:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 224:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 225:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 226:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 227:Middlewares/Third_Party/FatFs/src/ff.c **** 
 228:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 865	/* Nordic */
 229:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 230:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0x41,0x8E,0x41,0x8F,0x80,0x45,0x45,0x45,0x49,0x49,0x49,0x8E,0x8F, \
 231:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0x4F,0x99,0x4F,0x55,0x55,0x59,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 232:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 233:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 234:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 235:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 236:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 237:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 238:Middlewares/Third_Party/FatFs/src/ff.c **** 
 239:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 866	/* Russian */
 240:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 241:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 242:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 243:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 244:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 245:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 246:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 247:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 248:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF0,0xF2,0xF2,0xF4,0xF4,0xF6,0xF6,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 249:Middlewares/Third_Party/FatFs/src/ff.c **** 
 250:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 869	/* Greek 2 */
 251:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 252:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 253:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x86,0x9C,0x8D,0x8F,0x90, \
 254:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x91,0x90,0x92,0x95,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 255:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 256:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 257:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xA4,0xA5,0xA6,0xD9,0xDA,0xDB,0xDC,0xA7,0xA8,0xDF, \
 258:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA9,0xAA,0xAC,0xAD,0xB5,0xB6,0xB7,0xB8,0xBD,0xBE,0xC6,0xC7,0xCF,0xCF,0xD0,0xEF, \
 259:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xD1,0xD2,0xD3,0xF5,0xD4,0xF7,0xF8,0xF9,0xD5,0x96,0x95,0x98,0xFE,0xFF}
ARM GAS  /tmp/ccBfkcjf.s 			page 6


 260:Middlewares/Third_Party/FatFs/src/ff.c **** 
 261:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1	/* ASCII (for only non-LFN cfg) */
 262:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
 263:Middlewares/Third_Party/FatFs/src/ff.c **** #error Cannot enable LFN without valid code page.
 264:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 265:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 266:Middlewares/Third_Party/FatFs/src/ff.c **** 
 267:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 268:Middlewares/Third_Party/FatFs/src/ff.c **** #error Unknown code page
 269:Middlewares/Third_Party/FatFs/src/ff.c **** 
 270:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 271:Middlewares/Third_Party/FatFs/src/ff.c **** 
 272:Middlewares/Third_Party/FatFs/src/ff.c **** 
 273:Middlewares/Third_Party/FatFs/src/ff.c **** /* Character code support macros */
 274:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsUpper(c)	(((c)>='A')&&((c)<='Z'))
 275:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsLower(c)	(((c)>='a')&&((c)<='z'))
 276:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDigit(c)	(((c)>='0')&&((c)<='9'))
 277:Middlewares/Third_Party/FatFs/src/ff.c **** 
 278:Middlewares/Third_Party/FatFs/src/ff.c **** #if _DF1S != 0	/* Code page is DBCS */
 279:Middlewares/Third_Party/FatFs/src/ff.c **** 
 280:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _DF2S	/* Two 1st byte areas */
 281:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS1(c)	(((BYTE)(c) >= _DF1S && (BYTE)(c) <= _DF1E) || ((BYTE)(c) >= _DF2S && (BYTE)(c) 
 282:Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* One 1st byte area */
 283:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS1(c)	((BYTE)(c) >= _DF1S && (BYTE)(c) <= _DF1E)
 284:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 285:Middlewares/Third_Party/FatFs/src/ff.c **** 
 286:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _DS3S	/* Three 2nd byte areas */
 287:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS2(c)	(((BYTE)(c) >= _DS1S && (BYTE)(c) <= _DS1E) || ((BYTE)(c) >= _DS2S && (BYTE)(c) 
 288:Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* Two 2nd byte areas */
 289:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS2(c)	(((BYTE)(c) >= _DS1S && (BYTE)(c) <= _DS1E) || ((BYTE)(c) >= _DS2S && (BYTE)(c) 
 290:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 291:Middlewares/Third_Party/FatFs/src/ff.c **** 
 292:Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* Code page is SBCS */
 293:Middlewares/Third_Party/FatFs/src/ff.c **** 
 294:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS1(c)	0
 295:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS2(c)	0
 296:Middlewares/Third_Party/FatFs/src/ff.c **** 
 297:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _DF1S */
 298:Middlewares/Third_Party/FatFs/src/ff.c **** 
 299:Middlewares/Third_Party/FatFs/src/ff.c **** 
 300:Middlewares/Third_Party/FatFs/src/ff.c **** /* Additional file attribute bits for internal use */
 301:Middlewares/Third_Party/FatFs/src/ff.c **** #define	AM_VOL		0x08	/* Volume label */
 302:Middlewares/Third_Party/FatFs/src/ff.c **** #define AM_LFN		0x0F	/* LFN entry */
 303:Middlewares/Third_Party/FatFs/src/ff.c **** #define AM_MASK		0x3F	/* Mask of defined bits */
 304:Middlewares/Third_Party/FatFs/src/ff.c **** 
 305:Middlewares/Third_Party/FatFs/src/ff.c **** 
 306:Middlewares/Third_Party/FatFs/src/ff.c **** /* Additional file access control and file status flags for internal use */
 307:Middlewares/Third_Party/FatFs/src/ff.c **** #define FA_SEEKEND	0x20	/* Seek to end of the file on file open */
 308:Middlewares/Third_Party/FatFs/src/ff.c **** #define FA_MODIFIED	0x40	/* File has been modified */
 309:Middlewares/Third_Party/FatFs/src/ff.c **** #define FA_DIRTY	0x80	/* FIL.buf[] needs to be written-back */
 310:Middlewares/Third_Party/FatFs/src/ff.c **** 
 311:Middlewares/Third_Party/FatFs/src/ff.c **** 
 312:Middlewares/Third_Party/FatFs/src/ff.c **** /* Name status flags in fn[] */
 313:Middlewares/Third_Party/FatFs/src/ff.c **** #define NSFLAG		11		/* Index of the name status byte */
 314:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_LOSS		0x01	/* Out of 8.3 format */
 315:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_LFN		0x02	/* Force to create LFN entry */
 316:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_LAST		0x04	/* Last segment */
ARM GAS  /tmp/ccBfkcjf.s 			page 7


 317:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_BODY		0x08	/* Lower case flag (body) */
 318:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_EXT		0x10	/* Lower case flag (ext) */
 319:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_DOT		0x20	/* Dot entry */
 320:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_NOLFN	0x40	/* Do not find LFN */
 321:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_NONAME	0x80	/* Not followed */
 322:Middlewares/Third_Party/FatFs/src/ff.c **** 
 323:Middlewares/Third_Party/FatFs/src/ff.c **** 
 324:Middlewares/Third_Party/FatFs/src/ff.c **** /* Limits and boundaries */
 325:Middlewares/Third_Party/FatFs/src/ff.c **** #define MAX_DIR		0x200000		/* Max size of FAT directory */
 326:Middlewares/Third_Party/FatFs/src/ff.c **** #define MAX_DIR_EX	0x10000000		/* Max size of exFAT directory */
 327:Middlewares/Third_Party/FatFs/src/ff.c **** #define MAX_FAT12	0xFF5			/* Max FAT12 clusters (differs from specs, but correct for real DOS/Windo
 328:Middlewares/Third_Party/FatFs/src/ff.c **** #define	MAX_FAT16	0xFFF5			/* Max FAT16 clusters (differs from specs, but correct for real DOS/Wind
 329:Middlewares/Third_Party/FatFs/src/ff.c **** #define	MAX_FAT32	0x0FFFFFF5		/* Max FAT32 clusters (not specified, practical limit) */
 330:Middlewares/Third_Party/FatFs/src/ff.c **** #define	MAX_EXFAT	0x7FFFFFFD		/* Max exFAT clusters (differs from specs, implementation limit) */
 331:Middlewares/Third_Party/FatFs/src/ff.c **** 
 332:Middlewares/Third_Party/FatFs/src/ff.c **** 
 333:Middlewares/Third_Party/FatFs/src/ff.c **** /* FatFs refers the FAT structure as simple byte array instead of structure member
 334:Middlewares/Third_Party/FatFs/src/ff.c **** / because the C structure is not binary compatible between different platforms */
 335:Middlewares/Third_Party/FatFs/src/ff.c **** 
 336:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_JmpBoot			0		/* x86 jump instruction (3-byte) */
 337:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_OEMName			3		/* OEM name (8-byte) */
 338:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_BytsPerSec		11		/* Sector size [byte] (WORD) */
 339:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_SecPerClus		13		/* Cluster size [sector] (BYTE) */
 340:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_RsvdSecCnt		14		/* Size of reserved area [sector] (WORD) */
 341:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_NumFATs			16		/* Number of FATs (BYTE) */
 342:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_RootEntCnt		17		/* Size of root directory area for FAT12/16 [entry] (WORD) */
 343:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_TotSec16		19		/* Volume size (16-bit) [sector] (WORD) */
 344:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_Media			21		/* Media descriptor byte (BYTE) */
 345:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FATSz16			22		/* FAT size (16-bit) [sector] (WORD) */
 346:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_SecPerTrk		24		/* Track size for int13h [sector] (WORD) */
 347:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_NumHeads		26		/* Number of heads for int13h (WORD) */
 348:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_HiddSec			28		/* Volume offset from top of the drive (DWORD) */
 349:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_TotSec32		32		/* Volume size (32-bit) [sector] (DWORD) */
 350:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_DrvNum			36		/* Physical drive number for int13h (BYTE) */
 351:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_NTres			37		/* Error flag (BYTE) */
 352:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootSig			38		/* Extended boot signature (BYTE) */
 353:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolID			39		/* Volume serial number (DWORD) */
 354:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolLab			43		/* Volume label string (8-byte) */
 355:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_FilSysType		54		/* File system type string (8-byte) */
 356:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootCode			62		/* Boot code (448-byte) */
 357:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_55AA				510		/* Signature word (WORD) */
 358:Middlewares/Third_Party/FatFs/src/ff.c **** 
 359:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FATSz32			36		/* FAT32: FAT size [sector] (DWORD) */
 360:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_ExtFlags32		40		/* FAT32: Extended flags (WORD) */
 361:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FSVer32			42		/* FAT32: File system version (WORD) */
 362:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_RootClus32		44		/* FAT32: Root directory cluster (DWORD) */
 363:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FSInfo32		48		/* FAT32: Offset of FSINFO sector (WORD) */
 364:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_BkBootSec32		50		/* FAT32: Offset of backup boot sector (WORD) */
 365:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_DrvNum32			64		/* FAT32: Physical drive number for int13h (BYTE) */
 366:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_NTres32			65		/* FAT32: Error flag (BYTE) */
 367:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootSig32		66		/* FAT32: Extended boot signature (BYTE) */
 368:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolID32			67		/* FAT32: Volume serial number (DWORD) */
 369:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolLab32			71		/* FAT32: Volume label string (8-byte) */
 370:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_FilSysType32		82		/* FAT32: File system type string (8-byte) */
 371:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootCode32		90		/* FAT32: Boot code (420-byte) */
 372:Middlewares/Third_Party/FatFs/src/ff.c **** 
 373:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_ZeroedEx		11		/* exFAT: MBZ field (53-byte) */
ARM GAS  /tmp/ccBfkcjf.s 			page 8


 374:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_VolOfsEx		64		/* exFAT: Volume offset from top of the drive [sector] (QWORD) */
 375:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_TotSecEx		72		/* exFAT: Volume size [sector] (QWORD) */
 376:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FatOfsEx		80		/* exFAT: FAT offset from top of the volume [sector] (DWORD) */
 377:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FatSzEx			84		/* exFAT: FAT size [sector] (DWORD) */
 378:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_DataOfsEx		88		/* exFAT: Data offset from top of the volume [sector] (DWORD) */
 379:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_NumClusEx		92		/* exFAT: Number of clusters (DWORD) */
 380:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_RootClusEx		96		/* exFAT: Root directory start cluster (DWORD) */
 381:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_VolIDEx			100		/* exFAT: Volume serial number (DWORD) */
 382:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FSVerEx			104		/* exFAT: File system version (WORD) */
 383:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_VolFlagEx		106		/* exFAT: Volume flags (BYTE) */
 384:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_ActFatEx		107		/* exFAT: Active FAT flags (BYTE) */
 385:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_BytsPerSecEx	108		/* exFAT: Log2 of sector size in unit of byte (BYTE) */
 386:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_SecPerClusEx	109		/* exFAT: Log2 of cluster size in unit of sector (BYTE) */
 387:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_NumFATsEx		110		/* exFAT: Number of FATs (BYTE) */
 388:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_DrvNumEx		111		/* exFAT: Physical drive number for int13h (BYTE) */
 389:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_PercInUseEx		112		/* exFAT: Percent in use (BYTE) */
 390:Middlewares/Third_Party/FatFs/src/ff.c **** #define	BPB_RsvdEx			113		/* exFAT: Reserved (7-byte) */
 391:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootCodeEx		120		/* exFAT: Boot code (390-byte) */
 392:Middlewares/Third_Party/FatFs/src/ff.c **** 
 393:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_Name			0		/* Short file name (11-byte) */
 394:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_Attr			11		/* Attribute (BYTE) */
 395:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_NTres			12		/* Lower case flag (BYTE) */
 396:Middlewares/Third_Party/FatFs/src/ff.c **** #define DIR_CrtTime10		13		/* Created time sub-second (BYTE) */
 397:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_CrtTime			14		/* Created time (DWORD) */
 398:Middlewares/Third_Party/FatFs/src/ff.c **** #define DIR_LstAccDate		18		/* Last accessed date (WORD) */
 399:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_FstClusHI		20		/* Higher 16-bit of first cluster (WORD) */
 400:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_ModTime			22		/* Modified time (DWORD) */
 401:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_FstClusLO		26		/* Lower 16-bit of first cluster (WORD) */
 402:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_FileSize		28		/* File size (DWORD) */
 403:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Ord			0		/* LFN: LFN order and LLE flag (BYTE) */
 404:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Attr			11		/* LFN: LFN attribute (BYTE) */
 405:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Type			12		/* LFN: Entry type (BYTE) */
 406:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Chksum			13		/* LFN: Checksum of the SFN (BYTE) */
 407:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_FstClusLO		26		/* LFN: MBZ field (WORD) */
 408:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_Type			0		/* exFAT: Type of exFAT directory entry (BYTE) */
 409:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_NumLabel		1		/* exFAT: Number of volume label characters (BYTE) */
 410:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_Label			2		/* exFAT: Volume label (11-WORD) */
 411:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_CaseSum		4		/* exFAT: Sum of case conversion table (DWORD) */
 412:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_NumSec			1		/* exFAT: Number of secondary entries (BYTE) */
 413:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_SetSum			2		/* exFAT: Sum of the set of directory entries (WORD) */
 414:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_Attr			4		/* exFAT: File attribute (WORD) */
 415:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_CrtTime		8		/* exFAT: Created time (DWORD) */
 416:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_ModTime		12		/* exFAT: Modified time (DWORD) */
 417:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_AccTime		16		/* exFAT: Last accessed time (DWORD) */
 418:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_CrtTime10		20		/* exFAT: Created time subsecond (BYTE) */
 419:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_ModTime10		21		/* exFAT: Modified time subsecond (BYTE) */
 420:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_CrtTZ			22		/* exFAT: Created timezone (BYTE) */
 421:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_ModTZ			23		/* exFAT: Modified timezone (BYTE) */
 422:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_AccTZ			24		/* exFAT: Last accessed timezone (BYTE) */
 423:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_GenFlags		33		/* exFAT: General secondary flags (WORD) */
 424:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_NumName		35		/* exFAT: Number of file name characters (BYTE) */
 425:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_NameHash		36		/* exFAT: Hash of file name (WORD) */
 426:Middlewares/Third_Party/FatFs/src/ff.c **** #define XDIR_ValidFileSize	40		/* exFAT: Valid file size (QWORD) */
 427:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_FstClus		52		/* exFAT: First cluster of the file data (DWORD) */
 428:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_FileSize		56		/* exFAT: File/Directory size (QWORD) */
 429:Middlewares/Third_Party/FatFs/src/ff.c **** 
 430:Middlewares/Third_Party/FatFs/src/ff.c **** #define	SZDIRE				32		/* Size of a directory entry */
ARM GAS  /tmp/ccBfkcjf.s 			page 9


 431:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DDEM				0xE5	/* Deleted directory entry mark set to DIR_Name[0] */
 432:Middlewares/Third_Party/FatFs/src/ff.c **** #define	RDDEM				0x05	/* Replacement of the character collides with DDEM */
 433:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LLEF				0x40	/* Last long entry flag in LDIR_Ord */
 434:Middlewares/Third_Party/FatFs/src/ff.c **** 
 435:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_LeadSig			0		/* FAT32 FSI: Leading signature (DWORD) */
 436:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_StrucSig		484		/* FAT32 FSI: Structure signature (DWORD) */
 437:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_Free_Count		488		/* FAT32 FSI: Number of free clusters (DWORD) */
 438:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_Nxt_Free		492		/* FAT32 FSI: Last allocated cluster (DWORD) */
 439:Middlewares/Third_Party/FatFs/src/ff.c **** 
 440:Middlewares/Third_Party/FatFs/src/ff.c **** #define MBR_Table			446		/* MBR: Offset of partition table in the MBR */
 441:Middlewares/Third_Party/FatFs/src/ff.c **** #define	SZ_PTE				16		/* MBR: Size of a partition table entry */
 442:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_Boot			0		/* MBR PTE: Boot indicator */
 443:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_StHead			1		/* MBR PTE: Start head */
 444:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_StSec			2		/* MBR PTE: Start sector */
 445:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_StCyl			3		/* MBR PTE: Start cylinder */
 446:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_System			4		/* MBR PTE: System ID */
 447:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_EdHead			5		/* MBR PTE: End head */
 448:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_EdSec			6		/* MBR PTE: End sector */
 449:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_EdCyl			7		/* MBR PTE: End cylinder */
 450:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_StLba			8		/* MBR PTE: Start in LBA */
 451:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_SizLba			12		/* MBR PTE: Size in LBA */
 452:Middlewares/Third_Party/FatFs/src/ff.c **** 
 453:Middlewares/Third_Party/FatFs/src/ff.c **** 
 454:Middlewares/Third_Party/FatFs/src/ff.c **** /* Post process after fatal error on file operation */
 455:Middlewares/Third_Party/FatFs/src/ff.c **** #define	ABORT(fs, res)		{ fp->err = (BYTE)(res); LEAVE_FF(fs, res); }
 456:Middlewares/Third_Party/FatFs/src/ff.c **** 
 457:Middlewares/Third_Party/FatFs/src/ff.c **** 
 458:Middlewares/Third_Party/FatFs/src/ff.c **** /* Reentrancy related */
 459:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 460:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1
 461:Middlewares/Third_Party/FatFs/src/ff.c **** #error Static LFN work area cannot be used at thread-safe configuration
 462:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 463:Middlewares/Third_Party/FatFs/src/ff.c **** #define	ENTER_FF(fs)		{ if (!lock_fs(fs)) return FR_TIMEOUT; }
 464:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LEAVE_FF(fs, res)	{ unlock_fs(fs, res); return res; }
 465:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 466:Middlewares/Third_Party/FatFs/src/ff.c **** #define	ENTER_FF(fs)
 467:Middlewares/Third_Party/FatFs/src/ff.c **** #define LEAVE_FF(fs, res)	return res
 468:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 469:Middlewares/Third_Party/FatFs/src/ff.c **** 
 470:Middlewares/Third_Party/FatFs/src/ff.c **** 
 471:Middlewares/Third_Party/FatFs/src/ff.c **** /* Definitions of volume - partition conversion */
 472:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MULTI_PARTITION
 473:Middlewares/Third_Party/FatFs/src/ff.c **** #define LD2PD(vol) VolToPart[vol].pd	/* Get physical drive number */
 474:Middlewares/Third_Party/FatFs/src/ff.c **** #define LD2PT(vol) VolToPart[vol].pt	/* Get partition index */
 475:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 476:Middlewares/Third_Party/FatFs/src/ff.c **** #define LD2PD(vol) (BYTE)(vol)	/* Each logical drive is bound to the same physical drive number */
 477:Middlewares/Third_Party/FatFs/src/ff.c **** #define LD2PT(vol) 0			/* Find first valid partition or in SFD */
 478:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 479:Middlewares/Third_Party/FatFs/src/ff.c **** 
 480:Middlewares/Third_Party/FatFs/src/ff.c **** 
 481:Middlewares/Third_Party/FatFs/src/ff.c **** /* Definitions of sector size */
 482:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_MAX_SS < _MIN_SS) || (_MAX_SS != 512 && _MAX_SS != 1024 && _MAX_SS != 2048 && _MAX_SS != 4096
 483:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong sector size configuration
 484:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 485:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS == _MIN_SS
 486:Middlewares/Third_Party/FatFs/src/ff.c **** #define	SS(fs)	((UINT)_MAX_SS)	/* Fixed sector size */
 487:Middlewares/Third_Party/FatFs/src/ff.c **** #else
ARM GAS  /tmp/ccBfkcjf.s 			page 10


 488:Middlewares/Third_Party/FatFs/src/ff.c **** #define	SS(fs)	((fs)->ssize)	/* Variable sector size */
 489:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 490:Middlewares/Third_Party/FatFs/src/ff.c **** 
 491:Middlewares/Third_Party/FatFs/src/ff.c **** 
 492:Middlewares/Third_Party/FatFs/src/ff.c **** /* Timestamp */
 493:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_NORTC == 1
 494:Middlewares/Third_Party/FatFs/src/ff.c **** #if _NORTC_YEAR < 1980 || _NORTC_YEAR > 2107 || _NORTC_MON < 1 || _NORTC_MON > 12 || _NORTC_MDAY < 
 495:Middlewares/Third_Party/FatFs/src/ff.c **** #error Invalid _FS_NORTC settings
 496:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 497:Middlewares/Third_Party/FatFs/src/ff.c **** #define GET_FATTIME()	((DWORD)(_NORTC_YEAR - 1980) << 25 | (DWORD)_NORTC_MON << 21 | (DWORD)_NORTC_
 498:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 499:Middlewares/Third_Party/FatFs/src/ff.c **** #define GET_FATTIME()	get_fattime()
 500:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 501:Middlewares/Third_Party/FatFs/src/ff.c **** 
 502:Middlewares/Third_Party/FatFs/src/ff.c **** 
 503:Middlewares/Third_Party/FatFs/src/ff.c **** /* File lock controls */
 504:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 505:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_READONLY
 506:Middlewares/Third_Party/FatFs/src/ff.c **** #error _FS_LOCK must be 0 at read-only configuration
 507:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 508:Middlewares/Third_Party/FatFs/src/ff.c **** typedef struct {
 509:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;		/* Object ID 1, volume (NULL:blank entry) */
 510:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clu;		/* Object ID 2, containing directory (0:root) */
 511:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ofs;		/* Object ID 3, offset in the directory */
 512:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD ctr;		/* Object open counter, 0:none, 0x01..0xFF:read mode open count, 0x100:write mode */
 513:Middlewares/Third_Party/FatFs/src/ff.c **** } FILESEM;
 514:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 515:Middlewares/Third_Party/FatFs/src/ff.c **** 
 516:Middlewares/Third_Party/FatFs/src/ff.c **** 
 517:Middlewares/Third_Party/FatFs/src/ff.c **** 
 518:Middlewares/Third_Party/FatFs/src/ff.c **** 
 519:Middlewares/Third_Party/FatFs/src/ff.c **** 
 520:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------------------------
 521:Middlewares/Third_Party/FatFs/src/ff.c **** 
 522:Middlewares/Third_Party/FatFs/src/ff.c ****    Module Private Work Area
 523:Middlewares/Third_Party/FatFs/src/ff.c **** 
 524:Middlewares/Third_Party/FatFs/src/ff.c **** ---------------------------------------------------------------------------*/
 525:Middlewares/Third_Party/FatFs/src/ff.c **** 
 526:Middlewares/Third_Party/FatFs/src/ff.c **** /* Remark: Variables defined here without initial value shall be guaranteed
 527:Middlewares/Third_Party/FatFs/src/ff.c **** /  zero/null at start-up. If not, the linker option or start-up routine is
 528:Middlewares/Third_Party/FatFs/src/ff.c **** /  not compliance with C standard. */
 529:Middlewares/Third_Party/FatFs/src/ff.c **** 
 530:Middlewares/Third_Party/FatFs/src/ff.c **** #if _VOLUMES < 1 || _VOLUMES > 10
 531:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong _VOLUMES setting
 532:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 533:Middlewares/Third_Party/FatFs/src/ff.c **** static FATFS *FatFs[_VOLUMES];	/* Pointer to the file system objects (logical drives) */
 534:Middlewares/Third_Party/FatFs/src/ff.c **** static WORD Fsid;				/* File system mount ID */
 535:Middlewares/Third_Party/FatFs/src/ff.c **** 
 536:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0 && _VOLUMES >= 2
 537:Middlewares/Third_Party/FatFs/src/ff.c **** static BYTE CurrVol;			/* Current drive */
 538:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 539:Middlewares/Third_Party/FatFs/src/ff.c **** 
 540:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 541:Middlewares/Third_Party/FatFs/src/ff.c **** static FILESEM Files[_FS_LOCK];	/* Open object lock semaphores */
 542:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 543:Middlewares/Third_Party/FatFs/src/ff.c **** 
 544:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 0		/* Non-LFN configuration */
ARM GAS  /tmp/ccBfkcjf.s 			page 11


 545:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEF_NAMBUF
 546:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_NAMBUF(fs)
 547:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_NAMBUF()
 548:Middlewares/Third_Party/FatFs/src/ff.c **** 
 549:Middlewares/Third_Party/FatFs/src/ff.c **** #else					/* LFN configuration */
 550:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_LFN < 12 || _MAX_LFN > 255
 551:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong _MAX_LFN value
 552:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 553:Middlewares/Third_Party/FatFs/src/ff.c **** #define MAXDIRB(nc)	((nc + 44U) / 15 * SZDIRE)
 554:Middlewares/Third_Party/FatFs/src/ff.c **** 
 555:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1		/* LFN enabled with static working buffer */
 556:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 557:Middlewares/Third_Party/FatFs/src/ff.c **** static BYTE	DirBuf[MAXDIRB(_MAX_LFN)];	/* Directory entry block scratchpad buffer */
 558:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 559:Middlewares/Third_Party/FatFs/src/ff.c **** static WCHAR LfnBuf[_MAX_LFN + 1];	/* LFN enabled with static working buffer */
 560:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEF_NAMBUF
 561:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_NAMBUF(fs)
 562:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_NAMBUF()
 563:Middlewares/Third_Party/FatFs/src/ff.c **** 
 564:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _USE_LFN == 2 	/* LFN enabled with dynamic working buffer on the stack */
 565:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 566:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEF_NAMBUF		WCHAR lbuf[_MAX_LFN+1]; BYTE dbuf[MAXDIRB(_MAX_LFN)];
 567:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_NAMBUF(fs)	{ (fs)->lfnbuf = lbuf; (fs)->dirbuf = dbuf; }
 568:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_NAMBUF()
 569:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 570:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEF_NAMBUF		WCHAR lbuf[_MAX_LFN+1];
 571:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_NAMBUF(fs)	{ (fs)->lfnbuf = lbuf; }
 572:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_NAMBUF()
 573:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 574:Middlewares/Third_Party/FatFs/src/ff.c **** 
 575:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _USE_LFN == 3 	/* LFN enabled with dynamic working buffer on the heap */
 576:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 577:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEF_NAMBUF		WCHAR *lfn;
 578:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_NAMBUF(fs)	{ lfn = ff_memalloc((_MAX_LFN+1)*2 + MAXDIRB(_MAX_LFN)); if (!lfn) LEAVE_FF
 579:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_NAMBUF()	ff_memfree(lfn)
 580:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 581:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEF_NAMBUF		WCHAR *lfn;
 582:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_NAMBUF(fs)	{ lfn = ff_memalloc((_MAX_LFN+1)*2); if (!lfn) LEAVE_FF(fs, FR_NOT_ENOUGH_C
 583:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_NAMBUF()	ff_memfree(lfn)
 584:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 585:Middlewares/Third_Party/FatFs/src/ff.c **** 
 586:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 587:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong _USE_LFN setting
 588:Middlewares/Third_Party/FatFs/src/ff.c **** 
 589:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 590:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* else _USE_LFN == 0 */
 591:Middlewares/Third_Party/FatFs/src/ff.c **** 
 592:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
 593:Middlewares/Third_Party/FatFs/src/ff.c **** static const BYTE ExCvt[] = _EXCVT;	/* Upper conversion table for SBCS extended characters */
 594:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 595:Middlewares/Third_Party/FatFs/src/ff.c **** 
 596:Middlewares/Third_Party/FatFs/src/ff.c **** 
 597:Middlewares/Third_Party/FatFs/src/ff.c **** 
 598:Middlewares/Third_Party/FatFs/src/ff.c **** 
 599:Middlewares/Third_Party/FatFs/src/ff.c **** 
 600:Middlewares/Third_Party/FatFs/src/ff.c **** 
 601:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------------------------
ARM GAS  /tmp/ccBfkcjf.s 			page 12


 602:Middlewares/Third_Party/FatFs/src/ff.c **** 
 603:Middlewares/Third_Party/FatFs/src/ff.c ****    Module Private Functions
 604:Middlewares/Third_Party/FatFs/src/ff.c **** 
 605:Middlewares/Third_Party/FatFs/src/ff.c **** ---------------------------------------------------------------------------*/
 606:Middlewares/Third_Party/FatFs/src/ff.c **** 
 607:Middlewares/Third_Party/FatFs/src/ff.c **** 
 608:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 609:Middlewares/Third_Party/FatFs/src/ff.c **** /* Load/Store multi-byte word in the FAT structure                       */
 610:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 611:Middlewares/Third_Party/FatFs/src/ff.c **** 
 612:Middlewares/Third_Party/FatFs/src/ff.c **** static
 613:Middlewares/Third_Party/FatFs/src/ff.c **** WORD ld_word (const BYTE* ptr)	/*	 Load a 2-byte little-endian word */
 614:Middlewares/Third_Party/FatFs/src/ff.c **** {
  28              		.loc 1 614 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
 615:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD rv;
  33              		.loc 1 615 2 view .LVU1
 616:Middlewares/Third_Party/FatFs/src/ff.c **** 
 617:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = ptr[1];
  34              		.loc 1 617 2 view .LVU2
  35              		.loc 1 617 10 is_stmt 0 view .LVU3
  36 0000 4278     		ldrb	r2, [r0, #1]	@ zero_extendqisi2
  37              	.LVL1:
 618:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[0];
  38              		.loc 1 618 2 is_stmt 1 view .LVU4
  39              		.loc 1 618 20 is_stmt 0 view .LVU5
  40 0002 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
  41              	.LVL2:
 619:Middlewares/Third_Party/FatFs/src/ff.c **** 	return rv;
  42              		.loc 1 619 2 is_stmt 1 view .LVU6
 620:Middlewares/Third_Party/FatFs/src/ff.c **** }
  43              		.loc 1 620 1 is_stmt 0 view .LVU7
  44 0004 40EA0220 		orr	r0, r0, r2, lsl #8
  45              	.LVL3:
  46              		.loc 1 620 1 view .LVU8
  47 0008 7047     		bx	lr
  48              		.cfi_endproc
  49              	.LFE350:
  51              		.section	.text.ld_dword,"ax",%progbits
  52              		.align	1
  53              		.syntax unified
  54              		.thumb
  55              		.thumb_func
  56              		.fpu fpv5-d16
  58              	ld_dword:
  59              	.LVL4:
  60              	.LFB351:
 621:Middlewares/Third_Party/FatFs/src/ff.c **** 
 622:Middlewares/Third_Party/FatFs/src/ff.c **** static
 623:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD ld_dword (const BYTE* ptr)	/* Load a 4-byte little-endian word */
 624:Middlewares/Third_Party/FatFs/src/ff.c **** {
  61              		.loc 1 624 1 is_stmt 1 view -0
  62              		.cfi_startproc
  63              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccBfkcjf.s 			page 13


  64              		@ frame_needed = 0, uses_anonymous_args = 0
  65              		@ link register save eliminated.
 625:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD rv;
  66              		.loc 1 625 2 view .LVU10
 626:Middlewares/Third_Party/FatFs/src/ff.c **** 
 627:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = ptr[3];
  67              		.loc 1 627 2 view .LVU11
  68              		.loc 1 627 10 is_stmt 0 view .LVU12
  69 0000 C278     		ldrb	r2, [r0, #3]	@ zero_extendqisi2
  70              	.LVL5:
 628:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[2];
  71              		.loc 1 628 2 is_stmt 1 view .LVU13
  72              		.loc 1 628 20 is_stmt 0 view .LVU14
  73 0002 8378     		ldrb	r3, [r0, #2]	@ zero_extendqisi2
  74              		.loc 1 628 5 view .LVU15
  75 0004 43EA0222 		orr	r2, r3, r2, lsl #8
  76              	.LVL6:
 629:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[1];
  77              		.loc 1 629 2 is_stmt 1 view .LVU16
  78              		.loc 1 629 20 is_stmt 0 view .LVU17
  79 0008 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
  80              		.loc 1 629 5 view .LVU18
  81 000a 43EA0223 		orr	r3, r3, r2, lsl #8
  82              	.LVL7:
 630:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[0];
  83              		.loc 1 630 2 is_stmt 1 view .LVU19
  84              		.loc 1 630 20 is_stmt 0 view .LVU20
  85 000e 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
  86              	.LVL8:
 631:Middlewares/Third_Party/FatFs/src/ff.c **** 	return rv;
  87              		.loc 1 631 2 is_stmt 1 view .LVU21
 632:Middlewares/Third_Party/FatFs/src/ff.c **** }
  88              		.loc 1 632 1 is_stmt 0 view .LVU22
  89 0010 40EA0320 		orr	r0, r0, r3, lsl #8
  90              	.LVL9:
  91              		.loc 1 632 1 view .LVU23
  92 0014 7047     		bx	lr
  93              		.cfi_endproc
  94              	.LFE351:
  96              		.section	.text.st_word,"ax",%progbits
  97              		.align	1
  98              		.syntax unified
  99              		.thumb
 100              		.thumb_func
 101              		.fpu fpv5-d16
 103              	st_word:
 104              	.LVL10:
 105              	.LFB352:
 633:Middlewares/Third_Party/FatFs/src/ff.c **** 
 634:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 635:Middlewares/Third_Party/FatFs/src/ff.c **** static
 636:Middlewares/Third_Party/FatFs/src/ff.c **** QWORD ld_qword (const BYTE* ptr)	/* Load an 8-byte little-endian word */
 637:Middlewares/Third_Party/FatFs/src/ff.c **** {
 638:Middlewares/Third_Party/FatFs/src/ff.c **** 	QWORD rv;
 639:Middlewares/Third_Party/FatFs/src/ff.c **** 
 640:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = ptr[7];
 641:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[6];
ARM GAS  /tmp/ccBfkcjf.s 			page 14


 642:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[5];
 643:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[4];
 644:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[3];
 645:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[2];
 646:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[1];
 647:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[0];
 648:Middlewares/Third_Party/FatFs/src/ff.c **** 	return rv;
 649:Middlewares/Third_Party/FatFs/src/ff.c **** }
 650:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 651:Middlewares/Third_Party/FatFs/src/ff.c **** 
 652:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 653:Middlewares/Third_Party/FatFs/src/ff.c **** static
 654:Middlewares/Third_Party/FatFs/src/ff.c **** void st_word (BYTE* ptr, WORD val)	/* Store a 2-byte word in little-endian */
 655:Middlewares/Third_Party/FatFs/src/ff.c **** {
 106              		.loc 1 655 1 is_stmt 1 view -0
 107              		.cfi_startproc
 108              		@ args = 0, pretend = 0, frame = 0
 109              		@ frame_needed = 0, uses_anonymous_args = 0
 110              		@ link register save eliminated.
 656:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 111              		.loc 1 656 2 view .LVU25
 112              		.loc 1 656 9 is_stmt 0 view .LVU26
 113 0000 0170     		strb	r1, [r0]
 114              		.loc 1 656 22 is_stmt 1 view .LVU27
 115              	.LVL11:
 657:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val;
 116              		.loc 1 657 2 view .LVU28
 117              		.loc 1 657 11 is_stmt 0 view .LVU29
 118 0002 090A     		lsrs	r1, r1, #8
 119              	.LVL12:
 120              		.loc 1 657 9 view .LVU30
 121 0004 4170     		strb	r1, [r0, #1]
 658:Middlewares/Third_Party/FatFs/src/ff.c **** }
 122              		.loc 1 658 1 view .LVU31
 123 0006 7047     		bx	lr
 124              		.cfi_endproc
 125              	.LFE352:
 127              		.section	.text.st_dword,"ax",%progbits
 128              		.align	1
 129              		.syntax unified
 130              		.thumb
 131              		.thumb_func
 132              		.fpu fpv5-d16
 134              	st_dword:
 135              	.LVL13:
 136              	.LFB353:
 659:Middlewares/Third_Party/FatFs/src/ff.c **** 
 660:Middlewares/Third_Party/FatFs/src/ff.c **** static
 661:Middlewares/Third_Party/FatFs/src/ff.c **** void st_dword (BYTE* ptr, DWORD val)	/* Store a 4-byte word in little-endian */
 662:Middlewares/Third_Party/FatFs/src/ff.c **** {
 137              		.loc 1 662 1 is_stmt 1 view -0
 138              		.cfi_startproc
 139              		@ args = 0, pretend = 0, frame = 0
 140              		@ frame_needed = 0, uses_anonymous_args = 0
 141              		@ link register save eliminated.
 663:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 142              		.loc 1 663 2 view .LVU33
ARM GAS  /tmp/ccBfkcjf.s 			page 15


 143              		.loc 1 663 9 is_stmt 0 view .LVU34
 144 0000 0170     		strb	r1, [r0]
 145              		.loc 1 663 22 is_stmt 1 view .LVU35
 146              	.LVL14:
 664:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 147              		.loc 1 664 2 view .LVU36
 148              		.loc 1 664 11 is_stmt 0 view .LVU37
 149 0002 C1F30723 		ubfx	r3, r1, #8, #8
 150              		.loc 1 664 9 view .LVU38
 151 0006 4370     		strb	r3, [r0, #1]
 152              		.loc 1 664 22 is_stmt 1 view .LVU39
 153              	.LVL15:
 665:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 154              		.loc 1 665 2 view .LVU40
 155              		.loc 1 665 11 is_stmt 0 view .LVU41
 156 0008 C1F30743 		ubfx	r3, r1, #16, #8
 157              		.loc 1 665 9 view .LVU42
 158 000c 8370     		strb	r3, [r0, #2]
 159              		.loc 1 665 22 is_stmt 1 view .LVU43
 160              	.LVL16:
 666:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val;
 161              		.loc 1 666 2 view .LVU44
 162              		.loc 1 666 11 is_stmt 0 view .LVU45
 163 000e 090E     		lsrs	r1, r1, #24
 164              	.LVL17:
 165              		.loc 1 666 9 view .LVU46
 166 0010 C170     		strb	r1, [r0, #3]
 667:Middlewares/Third_Party/FatFs/src/ff.c **** }
 167              		.loc 1 667 1 view .LVU47
 168 0012 7047     		bx	lr
 169              		.cfi_endproc
 170              	.LFE353:
 172              		.section	.text.mem_cpy,"ax",%progbits
 173              		.align	1
 174              		.syntax unified
 175              		.thumb
 176              		.thumb_func
 177              		.fpu fpv5-d16
 179              	mem_cpy:
 180              	.LVL18:
 181              	.LFB354:
 668:Middlewares/Third_Party/FatFs/src/ff.c **** 
 669:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 670:Middlewares/Third_Party/FatFs/src/ff.c **** static
 671:Middlewares/Third_Party/FatFs/src/ff.c **** void st_qword (BYTE* ptr, QWORD val)	/* Store an 8-byte word in little-endian */
 672:Middlewares/Third_Party/FatFs/src/ff.c **** {
 673:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 674:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 675:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 676:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 677:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 678:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 679:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val;
 681:Middlewares/Third_Party/FatFs/src/ff.c **** }
 682:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 683:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* !_FS_READONLY */
ARM GAS  /tmp/ccBfkcjf.s 			page 16


 684:Middlewares/Third_Party/FatFs/src/ff.c **** 
 685:Middlewares/Third_Party/FatFs/src/ff.c **** 
 686:Middlewares/Third_Party/FatFs/src/ff.c **** 
 687:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 688:Middlewares/Third_Party/FatFs/src/ff.c **** /* String functions                                                      */
 689:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 690:Middlewares/Third_Party/FatFs/src/ff.c **** 
 691:Middlewares/Third_Party/FatFs/src/ff.c **** /* Copy memory to memory */
 692:Middlewares/Third_Party/FatFs/src/ff.c **** static
 693:Middlewares/Third_Party/FatFs/src/ff.c **** void mem_cpy (void* dst, const void* src, UINT cnt) {
 182              		.loc 1 693 53 is_stmt 1 view -0
 183              		.cfi_startproc
 184              		@ args = 0, pretend = 0, frame = 0
 185              		@ frame_needed = 0, uses_anonymous_args = 0
 186              		@ link register save eliminated.
 694:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *d = (BYTE*)dst;
 187              		.loc 1 694 2 view .LVU49
 695:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE *s = (const BYTE*)src;
 188              		.loc 1 695 2 view .LVU50
 696:Middlewares/Third_Party/FatFs/src/ff.c **** 
 697:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (cnt) {
 189              		.loc 1 697 2 view .LVU51
 190              		.loc 1 697 5 is_stmt 0 view .LVU52
 191 0000 9446     		mov	ip, r2
 192 0002 32B1     		cbz	r2, .L5
 193              	.LVL19:
 194              	.L7:
 698:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 195              		.loc 1 698 3 is_stmt 1 discriminator 1 view .LVU53
 699:Middlewares/Third_Party/FatFs/src/ff.c **** 			*d++ = *s++;
 196              		.loc 1 699 4 discriminator 1 view .LVU54
 197              		.loc 1 699 11 is_stmt 0 discriminator 1 view .LVU55
 198 0004 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 199 0006 0131     		adds	r1, r1, #1
 200              	.LVL20:
 201              		.loc 1 699 9 discriminator 1 view .LVU56
 202 0008 0270     		strb	r2, [r0]
 203 000a 0130     		adds	r0, r0, #1
 204              	.LVL21:
 700:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (--cnt);
 205              		.loc 1 700 11 is_stmt 1 discriminator 1 view .LVU57
 206              		.loc 1 700 3 is_stmt 0 discriminator 1 view .LVU58
 207 000c BCF1010C 		subs	ip, ip, #1
 208              	.LVL22:
 209              		.loc 1 700 3 discriminator 1 view .LVU59
 210 0010 F8D1     		bne	.L7
 211              	.LVL23:
 212              	.L5:
 701:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 702:Middlewares/Third_Party/FatFs/src/ff.c **** }
 213              		.loc 1 702 1 view .LVU60
 214 0012 7047     		bx	lr
 215              		.cfi_endproc
 216              	.LFE354:
 218              		.section	.text.mem_set,"ax",%progbits
 219              		.align	1
 220              		.syntax unified
ARM GAS  /tmp/ccBfkcjf.s 			page 17


 221              		.thumb
 222              		.thumb_func
 223              		.fpu fpv5-d16
 225              	mem_set:
 226              	.LFB355:
 703:Middlewares/Third_Party/FatFs/src/ff.c **** 
 704:Middlewares/Third_Party/FatFs/src/ff.c **** /* Fill memory block */
 705:Middlewares/Third_Party/FatFs/src/ff.c **** static
 706:Middlewares/Third_Party/FatFs/src/ff.c **** void mem_set (void* dst, int val, UINT cnt) {
 227              		.loc 1 706 45 is_stmt 1 view -0
 228              		.cfi_startproc
 229              		@ args = 0, pretend = 0, frame = 0
 230              		@ frame_needed = 0, uses_anonymous_args = 0
 231              		@ link register save eliminated.
 232              	.LVL24:
 233              	.L9:
 707:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *d = (BYTE*)dst;
 708:Middlewares/Third_Party/FatFs/src/ff.c **** 
 709:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
 234              		.loc 1 709 2 discriminator 1 view .LVU62
 710:Middlewares/Third_Party/FatFs/src/ff.c **** 		*d++ = (BYTE)val;
 235              		.loc 1 710 3 discriminator 1 view .LVU63
 236              		.loc 1 710 8 is_stmt 0 discriminator 1 view .LVU64
 237 0000 0170     		strb	r1, [r0]
 238 0002 0130     		adds	r0, r0, #1
 711:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (--cnt);
 239              		.loc 1 711 10 is_stmt 1 discriminator 1 view .LVU65
 240              	.LVL25:
 241              		.loc 1 711 2 is_stmt 0 discriminator 1 view .LVU66
 242 0004 013A     		subs	r2, r2, #1
 243              	.LVL26:
 244              		.loc 1 711 2 discriminator 1 view .LVU67
 245 0006 FBD1     		bne	.L9
 712:Middlewares/Third_Party/FatFs/src/ff.c **** }
 246              		.loc 1 712 1 view .LVU68
 247 0008 7047     		bx	lr
 248              		.cfi_endproc
 249              	.LFE355:
 251              		.section	.text.mem_cmp,"ax",%progbits
 252              		.align	1
 253              		.syntax unified
 254              		.thumb
 255              		.thumb_func
 256              		.fpu fpv5-d16
 258              	mem_cmp:
 259              	.LVL27:
 260              	.LFB356:
 713:Middlewares/Third_Party/FatFs/src/ff.c **** 
 714:Middlewares/Third_Party/FatFs/src/ff.c **** /* Compare memory block */
 715:Middlewares/Third_Party/FatFs/src/ff.c **** static
 716:Middlewares/Third_Party/FatFs/src/ff.c **** int mem_cmp (const void* dst, const void* src, UINT cnt) {	/* ZR:same, NZ:different */
 261              		.loc 1 716 58 is_stmt 1 view -0
 262              		.cfi_startproc
 263              		@ args = 0, pretend = 0, frame = 0
 264              		@ frame_needed = 0, uses_anonymous_args = 0
 265              		@ link register save eliminated.
 266              		.loc 1 716 58 is_stmt 0 view .LVU70
ARM GAS  /tmp/ccBfkcjf.s 			page 18


 267 0000 8446     		mov	ip, r0
 717:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE *d = (const BYTE *)dst, *s = (const BYTE *)src;
 268              		.loc 1 717 2 is_stmt 1 view .LVU71
 269              	.LVL28:
 718:Middlewares/Third_Party/FatFs/src/ff.c **** 	int r = 0;
 270              		.loc 1 718 2 view .LVU72
 271              	.L12:
 719:Middlewares/Third_Party/FatFs/src/ff.c **** 
 720:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
 272              		.loc 1 720 2 discriminator 2 view .LVU73
 721:Middlewares/Third_Party/FatFs/src/ff.c **** 		r = *d++ - *s++;
 273              		.loc 1 721 3 discriminator 2 view .LVU74
 274              		.loc 1 721 7 is_stmt 0 discriminator 2 view .LVU75
 275 0002 9CF80000 		ldrb	r0, [ip]	@ zero_extendqisi2
 276 0006 0CF1010C 		add	ip, ip, #1
 277              	.LVL29:
 278              		.loc 1 721 14 discriminator 2 view .LVU76
 279 000a 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 280 000c 0131     		adds	r1, r1, #1
 281              	.LVL30:
 282              		.loc 1 721 5 discriminator 2 view .LVU77
 283 000e C01A     		subs	r0, r0, r3
 284              	.LVL31:
 722:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (--cnt && r == 0);
 285              		.loc 1 722 10 is_stmt 1 discriminator 2 view .LVU78
 286              		.loc 1 722 2 is_stmt 0 discriminator 2 view .LVU79
 287 0010 013A     		subs	r2, r2, #1
 288              	.LVL32:
 289              		.loc 1 722 2 discriminator 2 view .LVU80
 290 0012 01D0     		beq	.L10
 291              		.loc 1 722 17 discriminator 1 view .LVU81
 292 0014 0028     		cmp	r0, #0
 293 0016 F4D0     		beq	.L12
 294              	.L10:
 723:Middlewares/Third_Party/FatFs/src/ff.c **** 
 724:Middlewares/Third_Party/FatFs/src/ff.c **** 	return r;
 725:Middlewares/Third_Party/FatFs/src/ff.c **** }
 295              		.loc 1 725 1 view .LVU82
 296 0018 7047     		bx	lr
 297              		.cfi_endproc
 298              	.LFE356:
 300              		.section	.text.chk_chr,"ax",%progbits
 301              		.align	1
 302              		.syntax unified
 303              		.thumb
 304              		.thumb_func
 305              		.fpu fpv5-d16
 307              	chk_chr:
 308              	.LVL33:
 309              	.LFB357:
 726:Middlewares/Third_Party/FatFs/src/ff.c **** 
 727:Middlewares/Third_Party/FatFs/src/ff.c **** /* Check if chr is contained in the string */
 728:Middlewares/Third_Party/FatFs/src/ff.c **** static
 729:Middlewares/Third_Party/FatFs/src/ff.c **** int chk_chr (const char* str, int chr) {	/* NZ:contained, ZR:not contained */
 310              		.loc 1 729 40 is_stmt 1 view -0
 311              		.cfi_startproc
 312              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccBfkcjf.s 			page 19


 313              		@ frame_needed = 0, uses_anonymous_args = 0
 314              		@ link register save eliminated.
 315              		.loc 1 729 40 is_stmt 0 view .LVU84
 316 0000 0346     		mov	r3, r0
 730:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (*str && *str != chr) str++;
 317              		.loc 1 730 2 is_stmt 1 view .LVU85
 318              		.loc 1 730 8 is_stmt 0 view .LVU86
 319 0002 00E0     		b	.L14
 320              	.LVL34:
 321              	.L16:
 322              		.loc 1 730 30 is_stmt 1 discriminator 3 view .LVU87
 323              		.loc 1 730 33 is_stmt 0 discriminator 3 view .LVU88
 324 0004 0133     		adds	r3, r3, #1
 325              	.LVL35:
 326              	.L14:
 327              		.loc 1 730 8 is_stmt 1 discriminator 1 view .LVU89
 328              		.loc 1 730 9 is_stmt 0 discriminator 1 view .LVU90
 329 0006 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 330              		.loc 1 730 8 discriminator 1 view .LVU91
 331 0008 08B1     		cbz	r0, .L15
 332              		.loc 1 730 14 discriminator 2 view .LVU92
 333 000a 8842     		cmp	r0, r1
 334 000c FAD1     		bne	.L16
 335              	.L15:
 731:Middlewares/Third_Party/FatFs/src/ff.c **** 	return *str;
 336              		.loc 1 731 2 is_stmt 1 view .LVU93
 732:Middlewares/Third_Party/FatFs/src/ff.c **** }
 337              		.loc 1 732 1 is_stmt 0 view .LVU94
 338 000e 7047     		bx	lr
 339              		.cfi_endproc
 340              	.LFE357:
 342              		.section	.text.chk_lock,"ax",%progbits
 343              		.align	1
 344              		.syntax unified
 345              		.thumb
 346              		.thumb_func
 347              		.fpu fpv5-d16
 349              	chk_lock:
 350              	.LVL36:
 351              	.LFB358:
 733:Middlewares/Third_Party/FatFs/src/ff.c **** 
 734:Middlewares/Third_Party/FatFs/src/ff.c **** 
 735:Middlewares/Third_Party/FatFs/src/ff.c **** 
 736:Middlewares/Third_Party/FatFs/src/ff.c **** 
 737:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 738:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 739:Middlewares/Third_Party/FatFs/src/ff.c **** /* Request/Release grant to access the volume                            */
 740:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 741:Middlewares/Third_Party/FatFs/src/ff.c **** static
 742:Middlewares/Third_Party/FatFs/src/ff.c **** int lock_fs (
 743:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs		/* File system object */
 744:Middlewares/Third_Party/FatFs/src/ff.c **** )
 745:Middlewares/Third_Party/FatFs/src/ff.c **** {
 746:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (fs && ff_req_grant(fs->sobj)) ? 1 : 0;
 747:Middlewares/Third_Party/FatFs/src/ff.c **** }
 748:Middlewares/Third_Party/FatFs/src/ff.c **** 
 749:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccBfkcjf.s 			page 20


 750:Middlewares/Third_Party/FatFs/src/ff.c **** static
 751:Middlewares/Third_Party/FatFs/src/ff.c **** void unlock_fs (
 752:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,		/* File system object */
 753:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res		/* Result code to be returned */
 754:Middlewares/Third_Party/FatFs/src/ff.c **** )
 755:Middlewares/Third_Party/FatFs/src/ff.c **** {
 756:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs && res != FR_NOT_ENABLED && res != FR_INVALID_DRIVE && res != FR_TIMEOUT) {
 757:Middlewares/Third_Party/FatFs/src/ff.c **** 		ff_rel_grant(fs->sobj);
 758:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 759:Middlewares/Third_Party/FatFs/src/ff.c **** }
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 
 761:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 762:Middlewares/Third_Party/FatFs/src/ff.c **** 
 763:Middlewares/Third_Party/FatFs/src/ff.c **** 
 764:Middlewares/Third_Party/FatFs/src/ff.c **** 
 765:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 766:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 767:Middlewares/Third_Party/FatFs/src/ff.c **** /* File lock control functions                                           */
 768:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 769:Middlewares/Third_Party/FatFs/src/ff.c **** 
 770:Middlewares/Third_Party/FatFs/src/ff.c **** static
 771:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT chk_lock (	/* Check if the file can be accessed */
 772:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Directory object pointing the file to be checked */
 773:Middlewares/Third_Party/FatFs/src/ff.c **** 	int acc			/* Desired access type (0:Read, 1:Write, 2:Delete/Rename) */
 774:Middlewares/Third_Party/FatFs/src/ff.c **** )
 775:Middlewares/Third_Party/FatFs/src/ff.c **** {
 352              		.loc 1 775 1 is_stmt 1 view -0
 353              		.cfi_startproc
 354              		@ args = 0, pretend = 0, frame = 0
 355              		@ frame_needed = 0, uses_anonymous_args = 0
 356              		@ link register save eliminated.
 357              		.loc 1 775 1 is_stmt 0 view .LVU96
 358 0000 10B4     		push	{r4}
 359              	.LCFI0:
 360              		.cfi_def_cfa_offset 4
 361              		.cfi_offset 4, -4
 776:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, be;
 362              		.loc 1 776 2 is_stmt 1 view .LVU97
 777:Middlewares/Third_Party/FatFs/src/ff.c **** 
 778:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Search file semaphore table */
 779:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = be = 0; i < _FS_LOCK; i++) {
 363              		.loc 1 779 2 view .LVU98
 364              	.LVL37:
 365              		.loc 1 779 14 is_stmt 0 view .LVU99
 366 0002 4FF0000C 		mov	ip, #0
 367              		.loc 1 779 9 view .LVU100
 368 0006 6346     		mov	r3, ip
 369              		.loc 1 779 2 view .LVU101
 370 0008 02E0     		b	.L18
 371              	.LVL38:
 372              	.L25:
 780:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 781:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (Files[i].fs == dp->obj.fs &&	 	/* Check if the object matched with an open object */
 782:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->obj.sclust &&
 783:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].ofs == dp->dptr) break;
 784:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {			/* Blank entry */
 785:Middlewares/Third_Party/FatFs/src/ff.c **** 			be = 1;
ARM GAS  /tmp/ccBfkcjf.s 			page 21


 373              		.loc 1 785 7 view .LVU102
 374 000a 4FF0010C 		mov	ip, #1
 375              	.LVL39:
 376              	.L19:
 779:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 377              		.loc 1 779 33 is_stmt 1 discriminator 2 view .LVU103
 779:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 378              		.loc 1 779 34 is_stmt 0 discriminator 2 view .LVU104
 379 000e 0133     		adds	r3, r3, #1
 380              	.LVL40:
 381              	.L18:
 779:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 382              		.loc 1 779 19 is_stmt 1 discriminator 1 view .LVU105
 779:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 383              		.loc 1 779 2 is_stmt 0 discriminator 1 view .LVU106
 384 0010 012B     		cmp	r3, #1
 385 0012 15D8     		bhi	.L20
 780:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 386              		.loc 1 780 3 is_stmt 1 view .LVU107
 780:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 387              		.loc 1 780 15 is_stmt 0 view .LVU108
 388 0014 1A01     		lsls	r2, r3, #4
 389 0016 184C     		ldr	r4, .L32
 390 0018 A258     		ldr	r2, [r4, r2]
 780:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 391              		.loc 1 780 6 view .LVU109
 392 001a 002A     		cmp	r2, #0
 393 001c F5D0     		beq	.L25
 781:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->obj.sclust &&
 394              		.loc 1 781 4 is_stmt 1 view .LVU110
 781:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->obj.sclust &&
 395              		.loc 1 781 30 is_stmt 0 view .LVU111
 396 001e 0468     		ldr	r4, [r0]
 781:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->obj.sclust &&
 397              		.loc 1 781 7 view .LVU112
 398 0020 A242     		cmp	r2, r4
 399 0022 F4D1     		bne	.L19
 782:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].ofs == dp->dptr) break;
 400              		.loc 1 782 13 discriminator 1 view .LVU113
 401 0024 144A     		ldr	r2, .L32
 402 0026 02EB0312 		add	r2, r2, r3, lsl #4
 403 002a 5468     		ldr	r4, [r2, #4]
 782:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].ofs == dp->dptr) break;
 404              		.loc 1 782 28 discriminator 1 view .LVU114
 405 002c 8268     		ldr	r2, [r0, #8]
 781:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->obj.sclust &&
 406              		.loc 1 781 34 discriminator 1 view .LVU115
 407 002e 9442     		cmp	r4, r2
 408 0030 EDD1     		bne	.L19
 783:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {			/* Blank entry */
 409              		.loc 1 783 13 view .LVU116
 410 0032 114A     		ldr	r2, .L32
 411 0034 02EB0312 		add	r2, r2, r3, lsl #4
 412 0038 9468     		ldr	r4, [r2, #8]
 783:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {			/* Blank entry */
 413              		.loc 1 783 23 view .LVU117
 414 003a 4269     		ldr	r2, [r0, #20]
ARM GAS  /tmp/ccBfkcjf.s 			page 22


 782:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].ofs == dp->dptr) break;
 415              		.loc 1 782 36 view .LVU118
 416 003c 9442     		cmp	r4, r2
 417 003e E6D1     		bne	.L19
 418              	.L20:
 786:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 787:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 788:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i == _FS_LOCK) {	/* The object is not opened */
 419              		.loc 1 788 2 is_stmt 1 view .LVU119
 420              		.loc 1 788 5 is_stmt 0 view .LVU120
 421 0040 022B     		cmp	r3, #2
 422 0042 0BD0     		beq	.L30
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 790:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 791:Middlewares/Third_Party/FatFs/src/ff.c **** 
 792:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* The object has been opened. Reject any open against writing file and all write mode open */
 793:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (acc || Files[i].ctr == 0x100) ? FR_LOCKED : FR_OK;
 423              		.loc 1 793 2 is_stmt 1 view .LVU121
 424              		.loc 1 793 52 is_stmt 0 view .LVU122
 425 0044 B1B9     		cbnz	r1, .L27
 426              		.loc 1 793 25 discriminator 2 view .LVU123
 427 0046 0C4A     		ldr	r2, .L32
 428 0048 02EB0313 		add	r3, r2, r3, lsl #4
 429              	.LVL41:
 430              		.loc 1 793 25 discriminator 2 view .LVU124
 431 004c 9B89     		ldrh	r3, [r3, #12]
 432              		.loc 1 793 14 discriminator 2 view .LVU125
 433 004e B3F5807F 		cmp	r3, #256
 434 0052 0DD0     		beq	.L31
 435              		.loc 1 793 52 view .LVU126
 436 0054 0020     		movs	r0, #0
 437              	.LVL42:
 438              	.L24:
 794:Middlewares/Third_Party/FatFs/src/ff.c **** }
 439              		.loc 1 794 1 view .LVU127
 440 0056 5DF8044B 		ldr	r4, [sp], #4
 441              	.LCFI1:
 442              		.cfi_remember_state
 443              		.cfi_restore 4
 444              		.cfi_def_cfa_offset 0
 445 005a 7047     		bx	lr
 446              	.LVL43:
 447              	.L30:
 448              	.LCFI2:
 449              		.cfi_restore_state
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 450              		.loc 1 789 3 is_stmt 1 view .LVU128
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 451              		.loc 1 789 14 is_stmt 0 view .LVU129
 452 005c 0229     		cmp	r1, #2
 453 005e 14BF     		ite	ne
 454 0060 6346     		movne	r3, ip
 455 0062 4CF00103 		orreq	r3, ip, #1
 456              	.LVL44:
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 457              		.loc 1 789 35 view .LVU130
 458 0066 0BB1     		cbz	r3, .L26
ARM GAS  /tmp/ccBfkcjf.s 			page 23


 459 0068 0020     		movs	r0, #0
 460              	.LVL45:
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 461              		.loc 1 789 35 view .LVU131
 462 006a F4E7     		b	.L24
 463              	.LVL46:
 464              	.L26:
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 465              		.loc 1 789 35 view .LVU132
 466 006c 1220     		movs	r0, #18
 467              	.LVL47:
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 468              		.loc 1 789 35 view .LVU133
 469 006e F2E7     		b	.L24
 470              	.LVL48:
 471              	.L31:
 793:Middlewares/Third_Party/FatFs/src/ff.c **** }
 472              		.loc 1 793 52 view .LVU134
 473 0070 1020     		movs	r0, #16
 474              	.LVL49:
 793:Middlewares/Third_Party/FatFs/src/ff.c **** }
 475              		.loc 1 793 52 view .LVU135
 476 0072 F0E7     		b	.L24
 477              	.LVL50:
 478              	.L27:
 793:Middlewares/Third_Party/FatFs/src/ff.c **** }
 479              		.loc 1 793 52 view .LVU136
 480 0074 1020     		movs	r0, #16
 481              	.LVL51:
 793:Middlewares/Third_Party/FatFs/src/ff.c **** }
 482              		.loc 1 793 52 view .LVU137
 483 0076 EEE7     		b	.L24
 484              	.L33:
 485              		.align	2
 486              	.L32:
 487 0078 00000000 		.word	.LANCHOR0
 488              		.cfi_endproc
 489              	.LFE358:
 491              		.section	.text.enq_lock,"ax",%progbits
 492              		.align	1
 493              		.syntax unified
 494              		.thumb
 495              		.thumb_func
 496              		.fpu fpv5-d16
 498              	enq_lock:
 499              	.LFB359:
 795:Middlewares/Third_Party/FatFs/src/ff.c **** 
 796:Middlewares/Third_Party/FatFs/src/ff.c **** 
 797:Middlewares/Third_Party/FatFs/src/ff.c **** static
 798:Middlewares/Third_Party/FatFs/src/ff.c **** int enq_lock (void)	/* Check if an entry is available for a new object */
 799:Middlewares/Third_Party/FatFs/src/ff.c **** {
 500              		.loc 1 799 1 is_stmt 1 view -0
 501              		.cfi_startproc
 502              		@ args = 0, pretend = 0, frame = 0
 503              		@ frame_needed = 0, uses_anonymous_args = 0
 504              		@ link register save eliminated.
 800:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
ARM GAS  /tmp/ccBfkcjf.s 			page 24


 505              		.loc 1 800 2 view .LVU139
 801:Middlewares/Third_Party/FatFs/src/ff.c **** 
 802:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 506              		.loc 1 802 2 view .LVU140
 507              	.LVL52:
 508              		.loc 1 802 9 is_stmt 0 view .LVU141
 509 0000 0020     		movs	r0, #0
 510              		.loc 1 802 2 view .LVU142
 511 0002 00E0     		b	.L35
 512              	.LVL53:
 513              	.L37:
 514              		.loc 1 802 48 is_stmt 1 discriminator 4 view .LVU143
 515              		.loc 1 802 43 discriminator 4 view .LVU144
 516              		.loc 1 802 44 is_stmt 0 discriminator 4 view .LVU145
 517 0004 0130     		adds	r0, r0, #1
 518              	.LVL54:
 519              	.L35:
 520              		.loc 1 802 14 is_stmt 1 discriminator 1 view .LVU146
 521              		.loc 1 802 2 is_stmt 0 discriminator 1 view .LVU147
 522 0006 0128     		cmp	r0, #1
 523 0008 04D8     		bhi	.L36
 524              		.loc 1 802 38 discriminator 3 view .LVU148
 525 000a 0301     		lsls	r3, r0, #4
 526 000c 034A     		ldr	r2, .L38
 527 000e D358     		ldr	r3, [r2, r3]
 528              		.loc 1 802 27 discriminator 3 view .LVU149
 529 0010 002B     		cmp	r3, #0
 530 0012 F7D1     		bne	.L37
 531              	.L36:
 803:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (i == _FS_LOCK) ? 0 : 1;
 532              		.loc 1 803 2 is_stmt 1 view .LVU150
 804:Middlewares/Third_Party/FatFs/src/ff.c **** }
 533              		.loc 1 804 1 is_stmt 0 view .LVU151
 534 0014 0238     		subs	r0, r0, #2
 535              	.LVL55:
 536              		.loc 1 804 1 view .LVU152
 537 0016 18BF     		it	ne
 538 0018 0120     		movne	r0, #1
 539              	.LVL56:
 540              		.loc 1 804 1 view .LVU153
 541 001a 7047     		bx	lr
 542              	.L39:
 543              		.align	2
 544              	.L38:
 545 001c 00000000 		.word	.LANCHOR0
 546              		.cfi_endproc
 547              	.LFE359:
 549              		.section	.text.inc_lock,"ax",%progbits
 550              		.align	1
 551              		.syntax unified
 552              		.thumb
 553              		.thumb_func
 554              		.fpu fpv5-d16
 556              	inc_lock:
 557              	.LVL57:
 558              	.LFB360:
 805:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccBfkcjf.s 			page 25


 806:Middlewares/Third_Party/FatFs/src/ff.c **** 
 807:Middlewares/Third_Party/FatFs/src/ff.c **** static
 808:Middlewares/Third_Party/FatFs/src/ff.c **** UINT inc_lock (	/* Increment object open counter and returns its index (0:Internal error) */
 809:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,	/* Directory object pointing the file to register or increment */
 810:Middlewares/Third_Party/FatFs/src/ff.c **** 	int acc		/* Desired access (0:Read, 1:Write, 2:Delete/Rename) */
 811:Middlewares/Third_Party/FatFs/src/ff.c **** )
 812:Middlewares/Third_Party/FatFs/src/ff.c **** {
 559              		.loc 1 812 1 is_stmt 1 view -0
 560              		.cfi_startproc
 561              		@ args = 0, pretend = 0, frame = 0
 562              		@ frame_needed = 0, uses_anonymous_args = 0
 563              		@ link register save eliminated.
 564              		.loc 1 812 1 is_stmt 0 view .LVU155
 565 0000 70B4     		push	{r4, r5, r6}
 566              	.LCFI3:
 567              		.cfi_def_cfa_offset 12
 568              		.cfi_offset 4, -12
 569              		.cfi_offset 5, -8
 570              		.cfi_offset 6, -4
 813:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 571              		.loc 1 813 2 is_stmt 1 view .LVU156
 814:Middlewares/Third_Party/FatFs/src/ff.c **** 
 815:Middlewares/Third_Party/FatFs/src/ff.c **** 
 816:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < _FS_LOCK; i++) {	/* Find the object */
 572              		.loc 1 816 2 view .LVU157
 573              	.LVL58:
 574              		.loc 1 816 9 is_stmt 0 view .LVU158
 575 0002 0023     		movs	r3, #0
 576              		.loc 1 816 2 view .LVU159
 577 0004 00E0     		b	.L41
 578              	.LVL59:
 579              	.L42:
 580              		.loc 1 816 28 is_stmt 1 discriminator 2 view .LVU160
 581              		.loc 1 816 29 is_stmt 0 discriminator 2 view .LVU161
 582 0006 0133     		adds	r3, r3, #1
 583              	.LVL60:
 584              	.L41:
 585              		.loc 1 816 14 is_stmt 1 discriminator 1 view .LVU162
 586              		.loc 1 816 2 is_stmt 0 discriminator 1 view .LVU163
 587 0008 012B     		cmp	r3, #1
 588 000a 13D8     		bhi	.L43
 817:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == dp->obj.fs &&
 589              		.loc 1 817 3 is_stmt 1 view .LVU164
 590              		.loc 1 817 15 is_stmt 0 view .LVU165
 591 000c 1A01     		lsls	r2, r3, #4
 592 000e 244C     		ldr	r4, .L58
 593 0010 A458     		ldr	r4, [r4, r2]
 594              		.loc 1 817 29 view .LVU166
 595 0012 0268     		ldr	r2, [r0]
 596              		.loc 1 817 6 view .LVU167
 597 0014 9442     		cmp	r4, r2
 598 0016 F6D1     		bne	.L42
 818:Middlewares/Third_Party/FatFs/src/ff.c **** 			Files[i].clu == dp->obj.sclust &&
 599              		.loc 1 818 12 discriminator 1 view .LVU168
 600 0018 214A     		ldr	r2, .L58
 601 001a 02EB0312 		add	r2, r2, r3, lsl #4
 602 001e 5468     		ldr	r4, [r2, #4]
ARM GAS  /tmp/ccBfkcjf.s 			page 26


 603              		.loc 1 818 27 discriminator 1 view .LVU169
 604 0020 8268     		ldr	r2, [r0, #8]
 817:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == dp->obj.fs &&
 605              		.loc 1 817 33 discriminator 1 view .LVU170
 606 0022 9442     		cmp	r4, r2
 607 0024 EFD1     		bne	.L42
 819:Middlewares/Third_Party/FatFs/src/ff.c **** 			Files[i].ofs == dp->dptr) break;
 608              		.loc 1 819 12 view .LVU171
 609 0026 1E4A     		ldr	r2, .L58
 610 0028 02EB0312 		add	r2, r2, r3, lsl #4
 611 002c 9468     		ldr	r4, [r2, #8]
 612              		.loc 1 819 22 view .LVU172
 613 002e 4269     		ldr	r2, [r0, #20]
 818:Middlewares/Third_Party/FatFs/src/ff.c **** 			Files[i].clu == dp->obj.sclust &&
 614              		.loc 1 818 35 view .LVU173
 615 0030 9442     		cmp	r4, r2
 616 0032 E8D1     		bne	.L42
 617              	.L43:
 820:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 821:Middlewares/Third_Party/FatFs/src/ff.c **** 
 822:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i == _FS_LOCK) {				/* Not opened. Register it as new. */
 618              		.loc 1 822 2 is_stmt 1 view .LVU174
 619              		.loc 1 822 5 is_stmt 0 view .LVU175
 620 0034 022B     		cmp	r3, #2
 621 0036 0DD0     		beq	.L57
 622              	.LVL61:
 623              	.L46:
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 824:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == _FS_LOCK) return 0;	/* No free entry to register (int err) */
 825:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->obj.fs;
 826:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].clu = dp->obj.sclust;
 827:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ofs = dp->dptr;
 828:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = 0;
 829:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 830:Middlewares/Third_Party/FatFs/src/ff.c **** 
 831:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (acc && Files[i].ctr) return 0;	/* Access violation (int err) */
 624              		.loc 1 831 2 is_stmt 1 view .LVU176
 625              		.loc 1 831 5 is_stmt 0 view .LVU177
 626 0038 21B1     		cbz	r1, .L50
 627              		.loc 1 831 21 discriminator 1 view .LVU178
 628 003a 194A     		ldr	r2, .L58
 629 003c 02EB0312 		add	r2, r2, r3, lsl #4
 630 0040 9289     		ldrh	r2, [r2, #12]
 631              		.loc 1 831 10 discriminator 1 view .LVU179
 632 0042 52BB     		cbnz	r2, .L54
 633              	.L50:
 832:Middlewares/Third_Party/FatFs/src/ff.c **** 
 833:Middlewares/Third_Party/FatFs/src/ff.c **** 	Files[i].ctr = acc ? 0x100 : Files[i].ctr + 1;	/* Set semaphore value */
 634              		.loc 1 833 2 is_stmt 1 view .LVU180
 635              		.loc 1 833 15 is_stmt 0 view .LVU181
 636 0044 F1B9     		cbnz	r1, .L55
 637              		.loc 1 833 39 discriminator 1 view .LVU182
 638 0046 164A     		ldr	r2, .L58
 639 0048 02EB0312 		add	r2, r2, r3, lsl #4
 640 004c 9189     		ldrh	r1, [r2, #12]
 641              	.LVL62:
 642              		.loc 1 833 15 discriminator 1 view .LVU183
ARM GAS  /tmp/ccBfkcjf.s 			page 27


 643 004e 0131     		adds	r1, r1, #1
 644 0050 89B2     		uxth	r1, r1
 645 0052 19E0     		b	.L51
 646              	.LVL63:
 647              	.L57:
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 648              		.loc 1 823 10 view .LVU184
 649 0054 0023     		movs	r3, #0
 650              	.LVL64:
 651              	.L45:
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 652              		.loc 1 823 15 is_stmt 1 discriminator 1 view .LVU185
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 653              		.loc 1 823 3 is_stmt 0 discriminator 1 view .LVU186
 654 0056 012B     		cmp	r3, #1
 655 0058 05D8     		bhi	.L47
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 656              		.loc 1 823 39 discriminator 3 view .LVU187
 657 005a 1A01     		lsls	r2, r3, #4
 658 005c 104C     		ldr	r4, .L58
 659 005e A258     		ldr	r2, [r4, r2]
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 660              		.loc 1 823 28 discriminator 3 view .LVU188
 661 0060 0AB1     		cbz	r2, .L47
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 662              		.loc 1 823 49 is_stmt 1 discriminator 4 view .LVU189
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 663              		.loc 1 823 44 discriminator 4 view .LVU190
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 664              		.loc 1 823 45 is_stmt 0 discriminator 4 view .LVU191
 665 0062 0133     		adds	r3, r3, #1
 666              	.LVL65:
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 667              		.loc 1 823 45 discriminator 4 view .LVU192
 668 0064 F7E7     		b	.L45
 669              	.L47:
 824:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->obj.fs;
 670              		.loc 1 824 3 is_stmt 1 view .LVU193
 824:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->obj.fs;
 671              		.loc 1 824 6 is_stmt 0 view .LVU194
 672 0066 022B     		cmp	r3, #2
 673 0068 15D0     		beq	.L53
 825:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].clu = dp->obj.sclust;
 674              		.loc 1 825 3 is_stmt 1 view .LVU195
 825:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].clu = dp->obj.sclust;
 675              		.loc 1 825 15 is_stmt 0 view .LVU196
 676 006a 0D4D     		ldr	r5, .L58
 677 006c 1C01     		lsls	r4, r3, #4
 678 006e 05EB0312 		add	r2, r5, r3, lsl #4
 679 0072 0668     		ldr	r6, [r0]
 680 0074 2E51     		str	r6, [r5, r4]
 826:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ofs = dp->dptr;
 681              		.loc 1 826 3 is_stmt 1 view .LVU197
 826:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ofs = dp->dptr;
 682              		.loc 1 826 25 is_stmt 0 view .LVU198
 683 0076 8468     		ldr	r4, [r0, #8]
 826:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ofs = dp->dptr;
ARM GAS  /tmp/ccBfkcjf.s 			page 28


 684              		.loc 1 826 16 view .LVU199
 685 0078 5460     		str	r4, [r2, #4]
 827:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = 0;
 686              		.loc 1 827 3 is_stmt 1 view .LVU200
 827:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = 0;
 687              		.loc 1 827 20 is_stmt 0 view .LVU201
 688 007a 4069     		ldr	r0, [r0, #20]
 689              	.LVL66:
 827:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = 0;
 690              		.loc 1 827 16 view .LVU202
 691 007c 9060     		str	r0, [r2, #8]
 828:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 692              		.loc 1 828 3 is_stmt 1 view .LVU203
 828:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 693              		.loc 1 828 16 is_stmt 0 view .LVU204
 694 007e 0020     		movs	r0, #0
 695 0080 9081     		strh	r0, [r2, #12]	@ movhi
 696 0082 D9E7     		b	.L46
 697              	.L55:
 698              		.loc 1 833 15 view .LVU205
 699 0084 4FF48071 		mov	r1, #256
 700              	.LVL67:
 701              	.L51:
 702              		.loc 1 833 15 discriminator 4 view .LVU206
 703 0088 054A     		ldr	r2, .L58
 704 008a 02EB0312 		add	r2, r2, r3, lsl #4
 705 008e 9181     		strh	r1, [r2, #12]	@ movhi
 834:Middlewares/Third_Party/FatFs/src/ff.c **** 
 835:Middlewares/Third_Party/FatFs/src/ff.c **** 	return i + 1;
 706              		.loc 1 835 2 is_stmt 1 discriminator 4 view .LVU207
 707              		.loc 1 835 11 is_stmt 0 discriminator 4 view .LVU208
 708 0090 581C     		adds	r0, r3, #1
 709              	.L40:
 836:Middlewares/Third_Party/FatFs/src/ff.c **** }
 710              		.loc 1 836 1 view .LVU209
 711 0092 70BC     		pop	{r4, r5, r6}
 712              	.LCFI4:
 713              		.cfi_remember_state
 714              		.cfi_restore 6
 715              		.cfi_restore 5
 716              		.cfi_restore 4
 717              		.cfi_def_cfa_offset 0
 718 0094 7047     		bx	lr
 719              	.LVL68:
 720              	.L53:
 721              	.LCFI5:
 722              		.cfi_restore_state
 824:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->obj.fs;
 723              		.loc 1 824 29 view .LVU210
 724 0096 0020     		movs	r0, #0
 725              	.LVL69:
 824:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->obj.fs;
 726              		.loc 1 824 29 view .LVU211
 727 0098 FBE7     		b	.L40
 728              	.L54:
 831:Middlewares/Third_Party/FatFs/src/ff.c **** 
 729              		.loc 1 831 34 view .LVU212
ARM GAS  /tmp/ccBfkcjf.s 			page 29


 730 009a 0020     		movs	r0, #0
 731 009c F9E7     		b	.L40
 732              	.L59:
 733 009e 00BF     		.align	2
 734              	.L58:
 735 00a0 00000000 		.word	.LANCHOR0
 736              		.cfi_endproc
 737              	.LFE360:
 739              		.section	.text.dec_lock,"ax",%progbits
 740              		.align	1
 741              		.syntax unified
 742              		.thumb
 743              		.thumb_func
 744              		.fpu fpv5-d16
 746              	dec_lock:
 747              	.LVL70:
 748              	.LFB361:
 837:Middlewares/Third_Party/FatFs/src/ff.c **** 
 838:Middlewares/Third_Party/FatFs/src/ff.c **** 
 839:Middlewares/Third_Party/FatFs/src/ff.c **** static
 840:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dec_lock (	/* Decrement object open counter */
 841:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i			/* Semaphore index (1..) */
 842:Middlewares/Third_Party/FatFs/src/ff.c **** )
 843:Middlewares/Third_Party/FatFs/src/ff.c **** {
 749              		.loc 1 843 1 is_stmt 1 view -0
 750              		.cfi_startproc
 751              		@ args = 0, pretend = 0, frame = 0
 752              		@ frame_needed = 0, uses_anonymous_args = 0
 753              		@ link register save eliminated.
 844:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD n;
 754              		.loc 1 844 2 view .LVU214
 845:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 755              		.loc 1 845 2 view .LVU215
 846:Middlewares/Third_Party/FatFs/src/ff.c **** 
 847:Middlewares/Third_Party/FatFs/src/ff.c **** 
 848:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (--i < _FS_LOCK) {	/* Shift index number origin from 0 */
 756              		.loc 1 848 2 view .LVU216
 757              		.loc 1 848 5 is_stmt 0 view .LVU217
 758 0000 0138     		subs	r0, r0, #1
 759              	.LVL71:
 760              		.loc 1 848 5 view .LVU218
 761 0002 0128     		cmp	r0, #1
 762 0004 15D8     		bhi	.L63
 849:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = Files[i].ctr;
 763              		.loc 1 849 3 is_stmt 1 view .LVU219
 764              		.loc 1 849 5 is_stmt 0 view .LVU220
 765 0006 0D4B     		ldr	r3, .L66
 766 0008 03EB0013 		add	r3, r3, r0, lsl #4
 767 000c 9B89     		ldrh	r3, [r3, #12]
 768              	.LVL72:
 850:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n == 0x100) n = 0;		/* If write mode open, delete the entry */
 769              		.loc 1 850 3 is_stmt 1 view .LVU221
 770              		.loc 1 850 6 is_stmt 0 view .LVU222
 771 000e B3F5807F 		cmp	r3, #256
 772 0012 03D0     		beq	.L64
 851:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n > 0) n--;				/* Decrement read mode open count */
 773              		.loc 1 851 3 is_stmt 1 view .LVU223
ARM GAS  /tmp/ccBfkcjf.s 			page 30


 774              		.loc 1 851 6 is_stmt 0 view .LVU224
 775 0014 1BB1     		cbz	r3, .L62
 776              		.loc 1 851 14 is_stmt 1 discriminator 1 view .LVU225
 777              		.loc 1 851 15 is_stmt 0 discriminator 1 view .LVU226
 778 0016 013B     		subs	r3, r3, #1
 779              	.LVL73:
 780              		.loc 1 851 15 discriminator 1 view .LVU227
 781 0018 9BB2     		uxth	r3, r3
 782              	.LVL74:
 783              		.loc 1 851 15 discriminator 1 view .LVU228
 784 001a 00E0     		b	.L62
 785              	.L64:
 850:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n == 0x100) n = 0;		/* If write mode open, delete the entry */
 786              		.loc 1 850 21 view .LVU229
 787 001c 0023     		movs	r3, #0
 788              	.LVL75:
 789              	.L62:
 852:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = n;
 790              		.loc 1 852 3 is_stmt 1 view .LVU230
 791              		.loc 1 852 16 is_stmt 0 view .LVU231
 792 001e 074A     		ldr	r2, .L66
 793 0020 02EB0012 		add	r2, r2, r0, lsl #4
 794 0024 9381     		strh	r3, [r2, #12]	@ movhi
 853:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n == 0) Files[i].fs = 0;	/* Delete the entry if open count gets zero */
 795              		.loc 1 853 3 is_stmt 1 view .LVU232
 796              		.loc 1 853 6 is_stmt 0 view .LVU233
 797 0026 33B9     		cbnz	r3, .L65
 798              		.loc 1 853 15 is_stmt 1 discriminator 1 view .LVU234
 799              		.loc 1 853 27 is_stmt 0 discriminator 1 view .LVU235
 800 0028 0301     		lsls	r3, r0, #4
 801              	.LVL76:
 802              		.loc 1 853 27 discriminator 1 view .LVU236
 803 002a 0020     		movs	r0, #0
 804              	.LVL77:
 805              		.loc 1 853 27 discriminator 1 view .LVU237
 806 002c 034A     		ldr	r2, .L66
 807              	.LVL78:
 808              		.loc 1 853 27 discriminator 1 view .LVU238
 809 002e D050     		str	r0, [r2, r3]
 810 0030 7047     		bx	lr
 811              	.LVL79:
 812              	.L63:
 854:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_OK;
 855:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 856:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;			/* Invalid index nunber */
 813              		.loc 1 856 7 view .LVU239
 814 0032 0220     		movs	r0, #2
 815              	.LVL80:
 816              		.loc 1 856 7 view .LVU240
 817 0034 7047     		bx	lr
 818              	.LVL81:
 819              	.L65:
 854:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_OK;
 820              		.loc 1 854 7 view .LVU241
 821 0036 0020     		movs	r0, #0
 822              	.LVL82:
 857:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
ARM GAS  /tmp/ccBfkcjf.s 			page 31


 858:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 823              		.loc 1 858 2 is_stmt 1 view .LVU242
 859:Middlewares/Third_Party/FatFs/src/ff.c **** }
 824              		.loc 1 859 1 is_stmt 0 view .LVU243
 825 0038 7047     		bx	lr
 826              	.L67:
 827 003a 00BF     		.align	2
 828              	.L66:
 829 003c 00000000 		.word	.LANCHOR0
 830              		.cfi_endproc
 831              	.LFE361:
 833              		.section	.text.clear_lock,"ax",%progbits
 834              		.align	1
 835              		.syntax unified
 836              		.thumb
 837              		.thumb_func
 838              		.fpu fpv5-d16
 840              	clear_lock:
 841              	.LVL83:
 842              	.LFB362:
 860:Middlewares/Third_Party/FatFs/src/ff.c **** 
 861:Middlewares/Third_Party/FatFs/src/ff.c **** 
 862:Middlewares/Third_Party/FatFs/src/ff.c **** static
 863:Middlewares/Third_Party/FatFs/src/ff.c **** void clear_lock (	/* Clear lock entries of the volume */
 864:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs
 865:Middlewares/Third_Party/FatFs/src/ff.c **** )
 866:Middlewares/Third_Party/FatFs/src/ff.c **** {
 843              		.loc 1 866 1 is_stmt 1 view -0
 844              		.cfi_startproc
 845              		@ args = 0, pretend = 0, frame = 0
 846              		@ frame_needed = 0, uses_anonymous_args = 0
 847              		@ link register save eliminated.
 867:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 848              		.loc 1 867 2 view .LVU245
 868:Middlewares/Third_Party/FatFs/src/ff.c **** 
 869:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < _FS_LOCK; i++) {
 849              		.loc 1 869 2 view .LVU246
 850              		.loc 1 869 9 is_stmt 0 view .LVU247
 851 0000 0023     		movs	r3, #0
 852              		.loc 1 869 2 view .LVU248
 853 0002 03E0     		b	.L73
 854              	.LVL84:
 855              	.L80:
 856              	.LCFI6:
 857              		.cfi_def_cfa_offset 4
 858              		.cfi_offset 4, -4
 870:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 871:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 872:Middlewares/Third_Party/FatFs/src/ff.c **** }
 859              		.loc 1 872 1 view .LVU249
 860 0004 5DF8044B 		ldr	r4, [sp], #4
 861              	.LCFI7:
 862              		.cfi_restore 4
 863              		.cfi_def_cfa_offset 0
 864 0008 7047     		bx	lr
 865              	.L79:
 869:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
ARM GAS  /tmp/ccBfkcjf.s 			page 32


 866              		.loc 1 869 28 is_stmt 1 view .LVU250
 869:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 867              		.loc 1 869 29 is_stmt 0 view .LVU251
 868 000a 0133     		adds	r3, r3, #1
 869              	.LVL85:
 870              	.L73:
 869:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 871              		.loc 1 869 14 is_stmt 1 view .LVU252
 869:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 872              		.loc 1 869 2 is_stmt 0 view .LVU253
 873 000c 012B     		cmp	r3, #1
 874 000e 11D8     		bhi	.L78
 870:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 875              		.loc 1 870 3 is_stmt 1 view .LVU254
 870:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 876              		.loc 1 870 15 is_stmt 0 view .LVU255
 877 0010 1A01     		lsls	r2, r3, #4
 878 0012 0949     		ldr	r1, .L81
 879 0014 8A58     		ldr	r2, [r1, r2]
 870:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 880              		.loc 1 870 6 view .LVU256
 881 0016 8242     		cmp	r2, r0
 882 0018 F7D1     		bne	.L79
 866:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 883              		.loc 1 866 1 view .LVU257
 884 001a 10B4     		push	{r4}
 885              	.LCFI8:
 886              		.cfi_def_cfa_offset 4
 887              		.cfi_offset 4, -4
 888              	.L74:
 870:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 889              		.loc 1 870 26 is_stmt 1 discriminator 1 view .LVU258
 870:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 890              		.loc 1 870 38 is_stmt 0 discriminator 1 view .LVU259
 891 001c 1A01     		lsls	r2, r3, #4
 892 001e 0024     		movs	r4, #0
 893 0020 8C50     		str	r4, [r1, r2]
 894              	.L70:
 869:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 895              		.loc 1 869 28 is_stmt 1 discriminator 2 view .LVU260
 869:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 896              		.loc 1 869 29 is_stmt 0 discriminator 2 view .LVU261
 897 0022 0133     		adds	r3, r3, #1
 898              	.LVL86:
 869:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 899              		.loc 1 869 14 is_stmt 1 discriminator 2 view .LVU262
 869:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 900              		.loc 1 869 2 is_stmt 0 discriminator 2 view .LVU263
 901 0024 012B     		cmp	r3, #1
 902 0026 EDD8     		bhi	.L80
 870:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 903              		.loc 1 870 3 is_stmt 1 view .LVU264
 870:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 904              		.loc 1 870 15 is_stmt 0 view .LVU265
 905 0028 1A01     		lsls	r2, r3, #4
 906 002a 0349     		ldr	r1, .L81
 907 002c 8A58     		ldr	r2, [r1, r2]
ARM GAS  /tmp/ccBfkcjf.s 			page 33


 870:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 908              		.loc 1 870 6 view .LVU266
 909 002e 8242     		cmp	r2, r0
 910 0030 F7D1     		bne	.L70
 911 0032 F3E7     		b	.L74
 912              	.L78:
 913              	.LCFI9:
 914              		.cfi_def_cfa_offset 0
 915              		.cfi_restore 4
 870:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 916              		.loc 1 870 6 view .LVU267
 917 0034 7047     		bx	lr
 918              	.L82:
 919 0036 00BF     		.align	2
 920              	.L81:
 921 0038 00000000 		.word	.LANCHOR0
 922              		.cfi_endproc
 923              	.LFE362:
 925              		.section	.text.clust2sect,"ax",%progbits
 926              		.align	1
 927              		.syntax unified
 928              		.thumb
 929              		.thumb_func
 930              		.fpu fpv5-d16
 932              	clust2sect:
 933              	.LVL87:
 934              	.LFB366:
 873:Middlewares/Third_Party/FatFs/src/ff.c **** 
 874:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_LOCK != 0 */
 875:Middlewares/Third_Party/FatFs/src/ff.c **** 
 876:Middlewares/Third_Party/FatFs/src/ff.c **** 
 877:Middlewares/Third_Party/FatFs/src/ff.c **** 
 878:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 879:Middlewares/Third_Party/FatFs/src/ff.c **** /* Move/Flush disk access window in the file system object               */
 880:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 881:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 882:Middlewares/Third_Party/FatFs/src/ff.c **** static
 883:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT sync_window (	/* Returns FR_OK or FR_DISK_ERROR */
 884:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs			/* File system object */
 885:Middlewares/Third_Party/FatFs/src/ff.c **** )
 886:Middlewares/Third_Party/FatFs/src/ff.c **** {
 887:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD wsect;
 888:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nf;
 889:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 890:Middlewares/Third_Party/FatFs/src/ff.c **** 
 891:Middlewares/Third_Party/FatFs/src/ff.c **** 
 892:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->wflag) {	/* Write back the sector if it is dirty */
 893:Middlewares/Third_Party/FatFs/src/ff.c **** 		wsect = fs->winsect;	/* Current sector number */
 894:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(fs->drv, fs->win, wsect, 1) != RES_OK) {
 895:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 896:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 897:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 0;
 898:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (wsect - fs->fatbase < fs->fsize) {		/* Is it in the FAT area? */
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 900:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 901:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_write(fs->drv, fs->win, wsect, 1);
 902:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
ARM GAS  /tmp/ccBfkcjf.s 			page 34


 903:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 904:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 905:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 906:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 907:Middlewares/Third_Party/FatFs/src/ff.c **** }
 908:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 909:Middlewares/Third_Party/FatFs/src/ff.c **** 
 910:Middlewares/Third_Party/FatFs/src/ff.c **** 
 911:Middlewares/Third_Party/FatFs/src/ff.c **** static
 912:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT move_window (	/* Returns FR_OK or FR_DISK_ERROR */
 913:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,			/* File system object */
 914:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sector		/* Sector number to make appearance in the fs->win[] */
 915:Middlewares/Third_Party/FatFs/src/ff.c **** )
 916:Middlewares/Third_Party/FatFs/src/ff.c **** {
 917:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 918:Middlewares/Third_Party/FatFs/src/ff.c **** 
 919:Middlewares/Third_Party/FatFs/src/ff.c **** 
 920:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sector != fs->winsect) {	/* Window offset changed? */
 921:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 922:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = sync_window(fs);		/* Write-back changes */
 923:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 924:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {			/* Fill sector window with new data */
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fs->win, sector, 1) != RES_OK) {
 926:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 927:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
 928:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 929:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->winsect = sector;
 930:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 931:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 932:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 933:Middlewares/Third_Party/FatFs/src/ff.c **** }
 934:Middlewares/Third_Party/FatFs/src/ff.c **** 
 935:Middlewares/Third_Party/FatFs/src/ff.c **** 
 936:Middlewares/Third_Party/FatFs/src/ff.c **** 
 937:Middlewares/Third_Party/FatFs/src/ff.c **** 
 938:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 939:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 940:Middlewares/Third_Party/FatFs/src/ff.c **** /* Synchronize file system and strage device                             */
 941:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 942:Middlewares/Third_Party/FatFs/src/ff.c **** 
 943:Middlewares/Third_Party/FatFs/src/ff.c **** static
 944:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT sync_fs (	/* FR_OK:succeeded, !=0:error */
 945:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs		/* File system object */
 946:Middlewares/Third_Party/FatFs/src/ff.c **** )
 947:Middlewares/Third_Party/FatFs/src/ff.c **** {
 948:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 949:Middlewares/Third_Party/FatFs/src/ff.c **** 
 950:Middlewares/Third_Party/FatFs/src/ff.c **** 
 951:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = sync_window(fs);
 952:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 953:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update FSInfo sector if needed */
 954:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->fs_type == FS_FAT32 && fs->fsi_flag == 1) {
 955:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSInfo structure */
 956:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(fs->win, 0, SS(fs));
 957:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + BS_55AA, 0xAA55);
 958:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_LeadSig, 0x41615252);
 959:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_StrucSig, 0x61417272);
ARM GAS  /tmp/ccBfkcjf.s 			page 35


 960:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_Free_Count, fs->free_clst);
 961:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_Nxt_Free, fs->last_clst);
 962:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write it into the FSInfo sector */
 963:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->winsect = fs->volbase + 1;
 964:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win, fs->winsect, 1);
 965:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag = 0;
 966:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Make sure that no pending write process in the physical drive */
 968:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_ioctl(fs->drv, CTRL_SYNC, 0) != RES_OK) res = FR_DISK_ERR;
 969:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 970:Middlewares/Third_Party/FatFs/src/ff.c **** 
 971:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 972:Middlewares/Third_Party/FatFs/src/ff.c **** }
 973:Middlewares/Third_Party/FatFs/src/ff.c **** 
 974:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 975:Middlewares/Third_Party/FatFs/src/ff.c **** 
 976:Middlewares/Third_Party/FatFs/src/ff.c **** 
 977:Middlewares/Third_Party/FatFs/src/ff.c **** 
 978:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 979:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get sector# from cluster#                                             */
 980:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 981:Middlewares/Third_Party/FatFs/src/ff.c **** 
 982:Middlewares/Third_Party/FatFs/src/ff.c **** static
 983:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD clust2sect (	/* !=0:Sector number, 0:Failed (invalid cluster#) */
 984:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,		/* File system object */
 985:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst		/* Cluster# to be converted */
 986:Middlewares/Third_Party/FatFs/src/ff.c **** )
 987:Middlewares/Third_Party/FatFs/src/ff.c **** {
 935              		.loc 1 987 1 is_stmt 1 view -0
 936              		.cfi_startproc
 937              		@ args = 0, pretend = 0, frame = 0
 938              		@ frame_needed = 0, uses_anonymous_args = 0
 939              		@ link register save eliminated.
 988:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst -= 2;
 940              		.loc 1 988 2 view .LVU269
 941              		.loc 1 988 7 is_stmt 0 view .LVU270
 942 0000 0239     		subs	r1, r1, #2
 943              	.LVL88:
 989:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Invalid cluster# */
 944              		.loc 1 989 2 is_stmt 1 view .LVU271
 945              		.loc 1 989 16 is_stmt 0 view .LVU272
 946 0002 C369     		ldr	r3, [r0, #28]
 947              		.loc 1 989 27 view .LVU273
 948 0004 023B     		subs	r3, r3, #2
 949              		.loc 1 989 5 view .LVU274
 950 0006 8B42     		cmp	r3, r1
 951 0008 04D9     		bls	.L85
 990:Middlewares/Third_Party/FatFs/src/ff.c **** 	return clst * fs->csize + fs->database;
 952              		.loc 1 990 2 is_stmt 1 view .LVU275
 953              		.loc 1 990 18 is_stmt 0 view .LVU276
 954 000a 4389     		ldrh	r3, [r0, #10]
 955              		.loc 1 990 30 view .LVU277
 956 000c 006B     		ldr	r0, [r0, #48]
 957              	.LVL89:
 958              		.loc 1 990 26 view .LVU278
 959 000e 01FB0300 		mla	r0, r1, r3, r0
 960 0012 7047     		bx	lr
ARM GAS  /tmp/ccBfkcjf.s 			page 36


 961              	.LVL90:
 962              	.L85:
 989:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Invalid cluster# */
 963              		.loc 1 989 39 view .LVU279
 964 0014 0020     		movs	r0, #0
 965              	.LVL91:
 991:Middlewares/Third_Party/FatFs/src/ff.c **** }
 966              		.loc 1 991 1 view .LVU280
 967 0016 7047     		bx	lr
 968              		.cfi_endproc
 969              	.LFE366:
 971              		.section	.text.clmt_clust,"ax",%progbits
 972              		.align	1
 973              		.syntax unified
 974              		.thumb
 975              		.thumb_func
 976              		.fpu fpv5-d16
 978              	clmt_clust:
 979              	.LVL92:
 980              	.LFB371:
 992:Middlewares/Third_Party/FatFs/src/ff.c **** 
 993:Middlewares/Third_Party/FatFs/src/ff.c **** 
 994:Middlewares/Third_Party/FatFs/src/ff.c **** 
 995:Middlewares/Third_Party/FatFs/src/ff.c **** 
 996:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 997:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT access - Read value of a FAT entry                                */
 998:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 999:Middlewares/Third_Party/FatFs/src/ff.c **** 
1000:Middlewares/Third_Party/FatFs/src/ff.c **** static
1001:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD get_fat (	/* 0xFFFFFFFF:Disk error, 1:Internal error, 2..0x7FFFFFFF:Cluster status */
1002:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID* obj,	/* Corresponding object */
1003:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst	/* Cluster number to get the value */
1004:Middlewares/Third_Party/FatFs/src/ff.c **** )
1005:Middlewares/Third_Party/FatFs/src/ff.c **** {
1006:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wc, bc;
1007:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD val;
1008:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
1009:Middlewares/Third_Party/FatFs/src/ff.c **** 
1010:Middlewares/Third_Party/FatFs/src/ff.c **** 
1011:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst < 2 || clst >= fs->n_fatent) {	/* Check if in valid range */
1012:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
1013:Middlewares/Third_Party/FatFs/src/ff.c **** 
1014:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
1015:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 0xFFFFFFFF;	/* Default value falls on disk error */
1016:Middlewares/Third_Party/FatFs/src/ff.c **** 
1017:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
1018:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
1019:Middlewares/Third_Party/FatFs/src/ff.c **** 			bc = (UINT)clst; bc += bc / 2;
1020:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win[bc++ % SS(fs)];
1022:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
1023:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win[bc % SS(fs)] << 8;
1024:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = (clst & 1) ? (wc >> 4) : (wc & 0xFFF);
1025:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
1026:Middlewares/Third_Party/FatFs/src/ff.c **** 
1027:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT16 :
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (clst / (SS(fs) / 2))) != FR_OK) break;
ARM GAS  /tmp/ccBfkcjf.s 			page 37


1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_word(fs->win + clst * 2 % SS(fs));
1030:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
1031:Middlewares/Third_Party/FatFs/src/ff.c **** 
1032:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT32 :
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (clst / (SS(fs) / 4))) != FR_OK) break;
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x0FFFFFFF;
1035:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
1036:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1037:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_EXFAT :
1038:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (obj->objsize) {
1039:Middlewares/Third_Party/FatFs/src/ff.c **** 				DWORD cofs = clst - obj->sclust;	/* Offset from start cluster */
1040:Middlewares/Third_Party/FatFs/src/ff.c **** 				DWORD clen = (DWORD)((obj->objsize - 1) / SS(fs)) / fs->csize;	/* Number of clusters - 1 */
1041:Middlewares/Third_Party/FatFs/src/ff.c **** 
1042:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->stat == 2) {	/* Is there no valid chain on the FAT? */
1043:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (cofs <= clen) {
1044:Middlewares/Third_Party/FatFs/src/ff.c **** 						val = (cofs == clen) ? 0x7FFFFFFF : clst + 1;	/* Generate the value */
1045:Middlewares/Third_Party/FatFs/src/ff.c **** 						break;
1046:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
1047:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1048:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->stat == 3 && cofs < obj->n_cont) {	/* Is it in the 1st fragment? */
1049:Middlewares/Third_Party/FatFs/src/ff.c **** 					val = clst + 1; 	/* Generate the value */
1050:Middlewares/Third_Party/FatFs/src/ff.c **** 					break;
1051:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1052:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->stat != 2) {	/* Get value from FAT if FAT chain is valid */
1053:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (obj->n_frag != 0) {	/* Is it on the growing edge? */
1054:Middlewares/Third_Party/FatFs/src/ff.c **** 						val = 0x7FFFFFFF;	/* Generate EOC */
1055:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
1056:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (move_window(fs, fs->fatbase + (clst / (SS(fs) / 4))) != FR_OK) break;
1057:Middlewares/Third_Party/FatFs/src/ff.c **** 						val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x7FFFFFFF;
1058:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
1059:Middlewares/Third_Party/FatFs/src/ff.c **** 					break;
1060:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1061:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1062:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* go to default */
1063:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1064:Middlewares/Third_Party/FatFs/src/ff.c **** 		default:
1065:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = 1;	/* Internal error */
1066:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1067:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1068:Middlewares/Third_Party/FatFs/src/ff.c **** 
1069:Middlewares/Third_Party/FatFs/src/ff.c **** 	return val;
1070:Middlewares/Third_Party/FatFs/src/ff.c **** }
1071:Middlewares/Third_Party/FatFs/src/ff.c **** 
1072:Middlewares/Third_Party/FatFs/src/ff.c **** 
1073:Middlewares/Third_Party/FatFs/src/ff.c **** 
1074:Middlewares/Third_Party/FatFs/src/ff.c **** 
1075:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1076:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1077:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT access - Change value of a FAT entry                              */
1078:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1079:Middlewares/Third_Party/FatFs/src/ff.c **** 
1080:Middlewares/Third_Party/FatFs/src/ff.c **** static
1081:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT put_fat (	/* FR_OK(0):succeeded, !=0:error */
1082:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,		/* Corresponding file system object */
1083:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst,		/* FAT index number (cluster number) to be changed */
1084:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD val		/* New value to be set to the entry */
1085:Middlewares/Third_Party/FatFs/src/ff.c **** )
ARM GAS  /tmp/ccBfkcjf.s 			page 38


1086:Middlewares/Third_Party/FatFs/src/ff.c **** {
1087:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bc;
1088:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *p;
1089:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_INT_ERR;
1090:Middlewares/Third_Party/FatFs/src/ff.c **** 
1091:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst >= 2 && clst < fs->n_fatent) {	/* Check if in valid range */
1092:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
1093:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :	/* Bitfield items */
1094:Middlewares/Third_Party/FatFs/src/ff.c **** 			bc = (UINT)clst; bc += bc / 2;
1095:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
1096:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1097:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = fs->win + bc++ % SS(fs);
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
1099:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
1101:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1102:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = fs->win + bc % SS(fs);
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? (BYTE)(val >> 4) : ((*p & 0xF0) | ((BYTE)(val >> 8) & 0x0F));
1104:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
1105:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
1106:Middlewares/Third_Party/FatFs/src/ff.c **** 
1107:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT16 :	/* WORD aligned items */
1108:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (clst / (SS(fs) / 2)));
1109:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1110:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + clst * 2 % SS(fs), (WORD)val);
1111:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
1112:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
1113:Middlewares/Third_Party/FatFs/src/ff.c **** 
1114:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT32 :	/* DWORD aligned items */
1115:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1116:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_EXFAT :
1117:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1118:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (clst / (SS(fs) / 4)));
1119:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1120:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 				val = (val & 0x0FFFFFFF) | (ld_dword(fs->win + clst * 4 % SS(fs)) & 0xF0000000);
1122:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1123:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + clst * 4 % SS(fs), val);
1124:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
1125:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
1126:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1127:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1128:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
1129:Middlewares/Third_Party/FatFs/src/ff.c **** }
1130:Middlewares/Third_Party/FatFs/src/ff.c **** 
1131:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
1132:Middlewares/Third_Party/FatFs/src/ff.c **** 
1133:Middlewares/Third_Party/FatFs/src/ff.c **** 
1134:Middlewares/Third_Party/FatFs/src/ff.c **** 
1135:Middlewares/Third_Party/FatFs/src/ff.c **** 
1136:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT && !_FS_READONLY
1137:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1138:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Accessing FAT and Allocation Bitmap                            */
1139:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1140:Middlewares/Third_Party/FatFs/src/ff.c **** 
1141:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------*/
1142:Middlewares/Third_Party/FatFs/src/ff.c **** /* Find a contiguous free cluster block */
ARM GAS  /tmp/ccBfkcjf.s 			page 39


1143:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------*/
1144:Middlewares/Third_Party/FatFs/src/ff.c **** 
1145:Middlewares/Third_Party/FatFs/src/ff.c **** static
1146:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD find_bitmap (	/* 0:Not found, 2..:Cluster block found, 0xFFFFFFFF:Disk error */
1147:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* File system object */
1148:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst,	/* Cluster number to scan from */
1149:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ncl	/* Number of contiguous clusters to find (1..) */
1150:Middlewares/Third_Party/FatFs/src/ff.c **** )
1151:Middlewares/Third_Party/FatFs/src/ff.c **** {
1152:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE bm, bv;
1153:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
1154:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD val, scl, ctr;
1155:Middlewares/Third_Party/FatFs/src/ff.c **** 
1156:Middlewares/Third_Party/FatFs/src/ff.c **** 
1157:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst -= 2;	/* The first bit in the bitmap corresponds to cluster #2 */
1158:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst >= fs->n_fatent - 2) clst = 0;
1159:Middlewares/Third_Party/FatFs/src/ff.c **** 	scl = val = clst; ctr = 0;
1160:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
1161:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fs, fs->database + val / 8 / SS(fs)) != FR_OK) return 0xFFFFFFFF;	/* (assuming bi
1162:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = val / 8 % SS(fs); bm = 1 << (val % 8);
1163:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
1164:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {
1165:Middlewares/Third_Party/FatFs/src/ff.c **** 				bv = fs->win[i] & bm; bm <<= 1;		/* Get bit value */
1166:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++val >= fs->n_fatent - 2) {	/* Next cluster (with wrap-around) */
1167:Middlewares/Third_Party/FatFs/src/ff.c **** 					val = 0; bm = 0; i = SS(fs);
1168:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1169:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!bv) {	/* Is it a free cluster? */
1170:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (++ctr == ncl) return scl + 2;	/* Check if run length is sufficient for required */
1171:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
1172:Middlewares/Third_Party/FatFs/src/ff.c **** 					scl = val; ctr = 0;		/* Encountered a cluster in-use, restart to scan */
1173:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1174:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (val == clst) return 0;	/* All cluster scanned? */
1175:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (bm);
1176:Middlewares/Third_Party/FatFs/src/ff.c **** 			bm = 1;
1177:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (++i < SS(fs));
1178:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1179:Middlewares/Third_Party/FatFs/src/ff.c **** }
1180:Middlewares/Third_Party/FatFs/src/ff.c **** 
1181:Middlewares/Third_Party/FatFs/src/ff.c **** 
1182:Middlewares/Third_Party/FatFs/src/ff.c **** /*----------------------------------------*/
1183:Middlewares/Third_Party/FatFs/src/ff.c **** /* Set/Clear a block of allocation bitmap */
1184:Middlewares/Third_Party/FatFs/src/ff.c **** /*----------------------------------------*/
1185:Middlewares/Third_Party/FatFs/src/ff.c **** 
1186:Middlewares/Third_Party/FatFs/src/ff.c **** static
1187:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT change_bitmap (
1188:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* File system object */
1189:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst,	/* Cluster number to change from */
1190:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ncl,	/* Number of clusters to be changed */
1191:Middlewares/Third_Party/FatFs/src/ff.c **** 	int bv		/* bit value to be set (0 or 1) */
1192:Middlewares/Third_Party/FatFs/src/ff.c **** )
1193:Middlewares/Third_Party/FatFs/src/ff.c **** {
1194:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE bm;
1195:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
1196:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sect;
1197:Middlewares/Third_Party/FatFs/src/ff.c **** 
1198:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst -= 2;	/* The first bit corresponds to cluster #2 */
1199:Middlewares/Third_Party/FatFs/src/ff.c **** 	sect = fs->database + clst / 8 / SS(fs);	/* Sector address (assuming bitmap is located top of the 
ARM GAS  /tmp/ccBfkcjf.s 			page 40


1200:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = clst / 8 % SS(fs);						/* Byte offset in the sector */
1201:Middlewares/Third_Party/FatFs/src/ff.c **** 	bm = 1 << (clst % 8);						/* Bit mask in the byte */
1202:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
1203:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fs, sect++) != FR_OK) return FR_DISK_ERR;
1204:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
1205:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {
1206:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (bv == (int)((fs->win[i] & bm) != 0)) return FR_INT_ERR;	/* Is the bit expected value? */
1207:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->win[i] ^= bm;	/* Flip the bit */
1208:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->wflag = 1;
1209:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (--ncl == 0) return FR_OK;	/* All bits processed? */
1210:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (bm <<= 1);		/* Next bit */
1211:Middlewares/Third_Party/FatFs/src/ff.c **** 			bm = 1;
1212:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (++i < SS(fs));		/* Next byte */
1213:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = 0;
1214:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1215:Middlewares/Third_Party/FatFs/src/ff.c **** }
1216:Middlewares/Third_Party/FatFs/src/ff.c **** 
1217:Middlewares/Third_Party/FatFs/src/ff.c **** 
1218:Middlewares/Third_Party/FatFs/src/ff.c **** /*---------------------------------------------*/
1219:Middlewares/Third_Party/FatFs/src/ff.c **** /* Fill the first fragment of the FAT chain    */
1220:Middlewares/Third_Party/FatFs/src/ff.c **** /*---------------------------------------------*/
1221:Middlewares/Third_Party/FatFs/src/ff.c **** 
1222:Middlewares/Third_Party/FatFs/src/ff.c **** static
1223:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT fill_first_frag (
1224:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID* obj	/* Pointer to the corresponding object */
1225:Middlewares/Third_Party/FatFs/src/ff.c **** )
1226:Middlewares/Third_Party/FatFs/src/ff.c **** {
1227:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1228:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl, n;
1229:Middlewares/Third_Party/FatFs/src/ff.c **** 
1230:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (obj->stat == 3) {	/* Has the object been changed 'fragmented'? */
1231:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (cl = obj->sclust, n = obj->n_cont; n; cl++, n--) {	/* Create cluster chain on the FAT */
1232:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(obj->fs, cl, cl + 1);
1233:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
1234:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1235:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->stat = 0;	/* Change status 'FAT chain is valid' */
1236:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1237:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
1238:Middlewares/Third_Party/FatFs/src/ff.c **** }
1239:Middlewares/Third_Party/FatFs/src/ff.c **** 
1240:Middlewares/Third_Party/FatFs/src/ff.c **** 
1241:Middlewares/Third_Party/FatFs/src/ff.c **** /*---------------------------------------------*/
1242:Middlewares/Third_Party/FatFs/src/ff.c **** /* Fill the last fragment of the FAT chain     */
1243:Middlewares/Third_Party/FatFs/src/ff.c **** /*---------------------------------------------*/
1244:Middlewares/Third_Party/FatFs/src/ff.c **** 
1245:Middlewares/Third_Party/FatFs/src/ff.c **** static
1246:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT fill_last_frag (
1247:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID* obj,	/* Pointer to the corresponding object */
1248:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD lcl,	/* Last cluster of the fragment */
1249:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD term	/* Value to set the last FAT entry */
1250:Middlewares/Third_Party/FatFs/src/ff.c **** )
1251:Middlewares/Third_Party/FatFs/src/ff.c **** {
1252:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1253:Middlewares/Third_Party/FatFs/src/ff.c **** 
1254:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (obj->n_frag > 0) {	/* Create the last chain on the FAT */
1255:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(obj->fs, lcl - obj->n_frag + 1, (obj->n_frag > 1) ? lcl - obj->n_frag + 2 : term);
1256:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
ARM GAS  /tmp/ccBfkcjf.s 			page 41


1257:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->n_frag--;
1258:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1259:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
1260:Middlewares/Third_Party/FatFs/src/ff.c **** }
1261:Middlewares/Third_Party/FatFs/src/ff.c **** 
1262:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_EXFAT && !_FS_READONLY */
1263:Middlewares/Third_Party/FatFs/src/ff.c **** 
1264:Middlewares/Third_Party/FatFs/src/ff.c **** 
1265:Middlewares/Third_Party/FatFs/src/ff.c **** 
1266:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1267:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1268:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT handling - Remove a cluster chain                                 */
1269:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1270:Middlewares/Third_Party/FatFs/src/ff.c **** static
1271:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT remove_chain (	/* FR_OK(0):succeeded, !=0:error */
1272:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID* obj,			/* Corresponding object */
1273:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst,			/* Cluster to remove a chain from */
1274:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD pclst			/* Previous cluster of clst (0:an entire chain) */
1275:Middlewares/Third_Party/FatFs/src/ff.c **** )
1276:Middlewares/Third_Party/FatFs/src/ff.c **** {
1277:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
1278:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD nxt;
1279:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
1280:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT || _USE_TRIM
1281:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD scl = clst, ecl = clst;
1282:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1283:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
1284:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD rt[2];
1285:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1286:Middlewares/Third_Party/FatFs/src/ff.c **** 
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst < 2 || clst >= fs->n_fatent) return FR_INT_ERR;	/* Check if in valid range */
1288:Middlewares/Third_Party/FatFs/src/ff.c **** 
1289:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Mark the previous cluster 'EOC' on the FAT if it exists */
1290:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (pclst && (!_FS_EXFAT || fs->fs_type != FS_EXFAT || obj->stat != 2)) {
1291:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(fs, pclst, 0xFFFFFFFF);
1292:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
1293:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1294:Middlewares/Third_Party/FatFs/src/ff.c **** 
1295:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Remove the chain */
1296:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1297:Middlewares/Third_Party/FatFs/src/ff.c **** 		nxt = get_fat(obj, clst);			/* Get cluster status */
1298:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0) break;				/* Empty cluster? */
1299:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 1) return FR_INT_ERR;	/* Internal error? */
1300:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error? */
1301:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
1302:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, 0);		/* Mark the cluster 'free' on the FAT */
1303:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
1304:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1305:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clst < fs->n_fatent - 2) {	/* Update FSINFO */
1306:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst++;
1307:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
1308:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1309:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT || _USE_TRIM
1310:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ecl + 1 == nxt) {	/* Is next cluster contiguous? */
1311:Middlewares/Third_Party/FatFs/src/ff.c **** 			ecl = nxt;
1312:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {				/* End of contiguous cluster block */
1313:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
ARM GAS  /tmp/ccBfkcjf.s 			page 42


1314:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {
1315:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = change_bitmap(fs, scl, ecl - scl + 1, 0);	/* Mark the cluster block 'free' on the bitmap 
1316:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) return res;
1317:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1318:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1319:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
1320:Middlewares/Third_Party/FatFs/src/ff.c **** 			rt[0] = clust2sect(fs, scl);					/* Start sector */
1321:Middlewares/Third_Party/FatFs/src/ff.c **** 			rt[1] = clust2sect(fs, ecl) + fs->csize - 1;	/* End sector */
1322:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_ioctl(fs->drv, CTRL_TRIM, rt);				/* Inform device the block can be erased */
1323:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1324:Middlewares/Third_Party/FatFs/src/ff.c **** 			scl = ecl = nxt;
1325:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1326:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1327:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = nxt;					/* Next cluster */
1328:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (clst < fs->n_fatent);	/* Repeat while not the last link */
1329:Middlewares/Third_Party/FatFs/src/ff.c **** 
1330:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1331:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {
1332:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (pclst == 0) {	/* Does the object have no chain? */
1333:Middlewares/Third_Party/FatFs/src/ff.c **** 			obj->stat = 0;		/* Change the object status 'initial' */
1334:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1335:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (obj->stat == 3 && pclst >= obj->sclust && pclst <= obj->sclust + obj->n_cont) {	/* Did the c
1336:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->stat = 2;	/* Change the object status 'contiguous' */
1337:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1338:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1339:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1340:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1341:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
1342:Middlewares/Third_Party/FatFs/src/ff.c **** }
1343:Middlewares/Third_Party/FatFs/src/ff.c **** 
1344:Middlewares/Third_Party/FatFs/src/ff.c **** 
1345:Middlewares/Third_Party/FatFs/src/ff.c **** 
1346:Middlewares/Third_Party/FatFs/src/ff.c **** 
1347:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1348:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT handling - Stretch a chain or Create a new chain                  */
1349:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1350:Middlewares/Third_Party/FatFs/src/ff.c **** static
1351:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD create_chain (	/* 0:No free cluster, 1:Internal error, 0xFFFFFFFF:Disk error, >=2:New cluster
1352:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID* obj,			/* Corresponding object */
1353:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst			/* Cluster# to stretch, 0:Create a new chain */
1354:Middlewares/Third_Party/FatFs/src/ff.c **** )
1355:Middlewares/Third_Party/FatFs/src/ff.c **** {
1356:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cs, ncl, scl;
1357:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1358:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
1359:Middlewares/Third_Party/FatFs/src/ff.c **** 
1360:Middlewares/Third_Party/FatFs/src/ff.c **** 
1361:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 0) {	/* Create a new chain */
1362:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = fs->last_clst;				/* Get suggested cluster to start from */
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (scl == 0 || scl >= fs->n_fatent) scl = 1;
1364:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1365:Middlewares/Third_Party/FatFs/src/ff.c **** 	else {				/* Stretch current chain */
1366:Middlewares/Third_Party/FatFs/src/ff.c **** 		cs = get_fat(obj, clst);			/* Check the cluster status */
1367:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < 2) return 1;				/* Invalid FAT value */
1368:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* A disk error occurred */
1369:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < fs->n_fatent) return cs;	/* It is already followed by next cluster */
1370:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst;
ARM GAS  /tmp/ccBfkcjf.s 			page 43


1371:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1372:Middlewares/Third_Party/FatFs/src/ff.c **** 
1373:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1374:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
1375:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl = find_bitmap(fs, scl, 1);				/* Find a free cluster */
1376:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl == 0 || ncl == 0xFFFFFFFF) return ncl;	/* No free cluster or hard error? */
1377:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = change_bitmap(fs, ncl, 1, 1);			/* Mark the cluster 'in use' */
1378:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_INT_ERR) return 1;
1379:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_DISK_ERR) return 0xFFFFFFFF;
1380:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (clst == 0) {							/* Is it a new chain? */
1381:Middlewares/Third_Party/FatFs/src/ff.c **** 			obj->stat = 2;							/* Set status 'contiguous' */
1382:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {									/* It is a stretched chain */
1383:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (obj->stat == 2 && ncl != scl + 1) {	/* Is the chain got fragmented? */
1384:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->n_cont = scl - obj->sclust;	/* Set size of the contiguous part */
1385:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->stat = 3;						/* Change status 'just fragmented' */
1386:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1387:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1388:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (obj->stat != 2) {	/* Is the file non-contiguous? */
1389:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == clst + 1) {	/* Is the cluster next to previous one? */
1390:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->n_frag = obj->n_frag ? obj->n_frag + 1 : 2;	/* Increment size of last framgent */
1391:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* New fragment */
1392:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->n_frag == 0) obj->n_frag = 1;
1393:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = fill_last_frag(obj, clst, ncl);	/* Fill last fragment on the FAT and link it to new one *
1394:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) obj->n_frag = 1;
1395:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1396:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1397:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
1398:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1399:Middlewares/Third_Party/FatFs/src/ff.c **** 	{	/* On the FAT12/16/32 volume */
1400:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl = scl;	/* Start cluster */
1401:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
1402:Middlewares/Third_Party/FatFs/src/ff.c **** 			ncl++;							/* Next cluster */
1403:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl >= fs->n_fatent) {		/* Check wrap-around */
1404:Middlewares/Third_Party/FatFs/src/ff.c **** 				ncl = 2;
1405:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ncl > scl) return 0;	/* No free cluster */
1406:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1407:Middlewares/Third_Party/FatFs/src/ff.c **** 			cs = get_fat(obj, ncl);			/* Get the cluster status */
1408:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cs == 0) break;				/* Found a free cluster */
1409:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cs == 1 || cs == 0xFFFFFFFF) return cs;	/* An error occurred */
1410:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == scl) return 0;		/* No free cluster */
1411:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1412:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(fs, ncl, 0xFFFFFFFF);	/* Mark the new cluster 'EOC' */
1413:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && clst != 0) {
1414:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, ncl);	/* Link it from the previous one if needed */
1415:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1416:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1417:Middlewares/Third_Party/FatFs/src/ff.c **** 
1418:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {			/* Update FSINFO if function succeeded. */
1419:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clst = ncl;
1420:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clst <= fs->n_fatent - 2) fs->free_clst--;
1421:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag |= 1;
1422:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
1423:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl = (res == FR_DISK_ERR) ? 0xFFFFFFFF : 1;	/* Failed. Generate error status */
1424:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1425:Middlewares/Third_Party/FatFs/src/ff.c **** 
1426:Middlewares/Third_Party/FatFs/src/ff.c **** 	return ncl;		/* Return new cluster number or error status */
1427:Middlewares/Third_Party/FatFs/src/ff.c **** }
ARM GAS  /tmp/ccBfkcjf.s 			page 44


1428:Middlewares/Third_Party/FatFs/src/ff.c **** 
1429:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
1430:Middlewares/Third_Party/FatFs/src/ff.c **** 
1431:Middlewares/Third_Party/FatFs/src/ff.c **** 
1432:Middlewares/Third_Party/FatFs/src/ff.c **** 
1433:Middlewares/Third_Party/FatFs/src/ff.c **** 
1434:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
1435:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1436:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT handling - Convert offset into cluster with link map table        */
1437:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1438:Middlewares/Third_Party/FatFs/src/ff.c **** 
1439:Middlewares/Third_Party/FatFs/src/ff.c **** static
1440:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD clmt_clust (	/* <2:Error, >=2:Cluster number */
1441:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,		/* Pointer to the file object */
1442:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t ofs		/* File offset to be converted to cluster# */
1443:Middlewares/Third_Party/FatFs/src/ff.c **** )
1444:Middlewares/Third_Party/FatFs/src/ff.c **** {
 981              		.loc 1 1444 1 is_stmt 1 view -0
 982              		.cfi_startproc
 983              		@ args = 0, pretend = 0, frame = 0
 984              		@ frame_needed = 0, uses_anonymous_args = 0
 985              		@ link register save eliminated.
1445:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl, ncl, *tbl;
 986              		.loc 1 1445 2 view .LVU282
1446:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = fp->obj.fs;
 987              		.loc 1 1446 2 view .LVU283
 988              		.loc 1 1446 9 is_stmt 0 view .LVU284
 989 0000 0268     		ldr	r2, [r0]
 990              	.LVL93:
1447:Middlewares/Third_Party/FatFs/src/ff.c **** 
1448:Middlewares/Third_Party/FatFs/src/ff.c **** 
1449:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl = fp->cltbl + 1;	/* Top of CLMT */
 991              		.loc 1 1449 2 is_stmt 1 view .LVU285
 992              		.loc 1 1449 10 is_stmt 0 view .LVU286
 993 0002 C36A     		ldr	r3, [r0, #44]
 994              		.loc 1 1449 6 view .LVU287
 995 0004 0433     		adds	r3, r3, #4
 996              	.LVL94:
1450:Middlewares/Third_Party/FatFs/src/ff.c **** 	cl = (DWORD)(ofs / SS(fs) / fs->csize);	/* Cluster order from top of the file */
 997              		.loc 1 1450 2 is_stmt 1 view .LVU288
 998              		.loc 1 1450 21 is_stmt 0 view .LVU289
 999 0006 9089     		ldrh	r0, [r2, #12]
 1000              	.LVL95:
 1001              		.loc 1 1450 19 view .LVU290
 1002 0008 B1FBF0F1 		udiv	r1, r1, r0
 1003              	.LVL96:
 1004              		.loc 1 1450 32 view .LVU291
 1005 000c 5289     		ldrh	r2, [r2, #10]
 1006              	.LVL97:
 1007              		.loc 1 1450 5 view .LVU292
 1008 000e B1FBF2F1 		udiv	r1, r1, r2
 1009              	.LVL98:
 1010              		.loc 1 1450 5 view .LVU293
 1011 0012 01E0     		b	.L89
 1012              	.LVL99:
 1013              	.L90:
1451:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
ARM GAS  /tmp/ccBfkcjf.s 			page 45


1452:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl = *tbl++;			/* Number of cluters in the fragment */
1453:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl == 0) return 0;	/* End of table? (error) */
1454:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cl < ncl) break;	/* In this fragment? */
1455:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl -= ncl; tbl++;		/* Next fragment */
 1014              		.loc 1 1455 3 is_stmt 1 view .LVU294
 1015              		.loc 1 1455 6 is_stmt 0 view .LVU295
 1016 0014 091A     		subs	r1, r1, r0
 1017              	.LVL100:
 1018              		.loc 1 1455 14 is_stmt 1 view .LVU296
 1019              		.loc 1 1455 17 is_stmt 0 view .LVU297
 1020 0016 0833     		adds	r3, r3, #8
 1021              	.LVL101:
1451:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
 1022              		.loc 1 1451 8 is_stmt 1 view .LVU298
 1023              	.L89:
1451:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
 1024              		.loc 1 1451 2 view .LVU299
1452:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl == 0) return 0;	/* End of table? (error) */
 1025              		.loc 1 1452 3 view .LVU300
1452:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl == 0) return 0;	/* End of table? (error) */
 1026              		.loc 1 1452 7 is_stmt 0 view .LVU301
 1027 0018 1868     		ldr	r0, [r3]
 1028              	.LVL102:
1453:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cl < ncl) break;	/* In this fragment? */
 1029              		.loc 1 1453 3 is_stmt 1 view .LVU302
1453:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cl < ncl) break;	/* In this fragment? */
 1030              		.loc 1 1453 6 is_stmt 0 view .LVU303
 1031 001a 18B1     		cbz	r0, .L86
1454:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl -= ncl; tbl++;		/* Next fragment */
 1032              		.loc 1 1454 3 is_stmt 1 view .LVU304
1454:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl -= ncl; tbl++;		/* Next fragment */
 1033              		.loc 1 1454 6 is_stmt 0 view .LVU305
 1034 001c 8142     		cmp	r1, r0
 1035 001e F9D2     		bcs	.L90
1456:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1457:Middlewares/Third_Party/FatFs/src/ff.c **** 	return cl + *tbl;	/* Return the cluster number */
 1036              		.loc 1 1457 2 is_stmt 1 view .LVU306
 1037              		.loc 1 1457 14 is_stmt 0 view .LVU307
 1038 0020 5868     		ldr	r0, [r3, #4]
 1039              	.LVL103:
 1040              		.loc 1 1457 12 view .LVU308
 1041 0022 0844     		add	r0, r0, r1
 1042              	.L86:
1458:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1043              		.loc 1 1458 1 view .LVU309
 1044 0024 7047     		bx	lr
 1045              		.cfi_endproc
 1046              	.LFE371:
 1048              		.section	.text.ld_clust,"ax",%progbits
 1049              		.align	1
 1050              		.syntax unified
 1051              		.thumb
 1052              		.thumb_func
 1053              		.fpu fpv5-d16
 1055              	ld_clust:
 1056              	.LVL104:
 1057              	.LFB375:
ARM GAS  /tmp/ccBfkcjf.s 			page 46


1459:Middlewares/Third_Party/FatFs/src/ff.c **** 
1460:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_FASTSEEK */
1461:Middlewares/Third_Party/FatFs/src/ff.c **** 
1462:Middlewares/Third_Party/FatFs/src/ff.c **** 
1463:Middlewares/Third_Party/FatFs/src/ff.c **** 
1464:Middlewares/Third_Party/FatFs/src/ff.c **** 
1465:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1466:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Set directory index                              */
1467:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1468:Middlewares/Third_Party/FatFs/src/ff.c **** 
1469:Middlewares/Third_Party/FatFs/src/ff.c **** static
1470:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_sdi (	/* FR_OK(0):succeeded, !=0:error */
1471:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to directory object */
1472:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ofs		/* Offset of directory table */
1473:Middlewares/Third_Party/FatFs/src/ff.c **** )
1474:Middlewares/Third_Party/FatFs/src/ff.c **** {
1475:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD csz, clst;
1476:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
1477:Middlewares/Third_Party/FatFs/src/ff.c **** 
1478:Middlewares/Third_Party/FatFs/src/ff.c **** 
1479:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ofs >= (DWORD)((_FS_EXFAT && fs->fs_type == FS_EXFAT) ? MAX_DIR_EX : MAX_DIR) || ofs % SZDIRE)
1480:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
1481:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1482:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dptr = ofs;				/* Set current offset */
1483:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst = dp->obj.sclust;		/* Table start cluster (0:root) */
1484:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 0 && fs->fs_type >= FS_FAT32) {	/* Replace cluster# 0 with root cluster# */
1485:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = fs->dirbase;
1486:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_EXFAT) dp->obj.stat = 0;	/* exFAT: Root dir has an FAT chain */
1487:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1488:Middlewares/Third_Party/FatFs/src/ff.c **** 
1489:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 0) {	/* Static table (root-directory in FAT12/16) */
1490:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs / SZDIRE >= fs->n_rootdir)	return FR_INT_ERR;	/* Is index out of range? */
1491:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect = fs->dirbase;
1492:Middlewares/Third_Party/FatFs/src/ff.c **** 
1493:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {			/* Dynamic table (sub-directory or root-directory in FAT32+) */
1494:Middlewares/Third_Party/FatFs/src/ff.c **** 		csz = (DWORD)fs->csize * SS(fs);	/* Bytes per cluster */
1495:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (ofs >= csz) {				/* Follow cluster chain */
1496:Middlewares/Third_Party/FatFs/src/ff.c **** 			clst = get_fat(&dp->obj, clst);				/* Get next cluster */
1497:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= fs->n_fatent) return FR_INT_ERR;	/* Reached to end of table or internal 
1499:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
1500:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1501:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect = clust2sect(fs, clst);
1502:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1503:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->clust = clst;					/* Current cluster# */
1504:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect) return FR_INT_ERR;
1505:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect += ofs / SS(fs);			/* Sector# of the directory entry */
1506:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = fs->win + (ofs % SS(fs));	/* Pointer to the entry in the win[] */
1507:Middlewares/Third_Party/FatFs/src/ff.c **** 
1508:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
1509:Middlewares/Third_Party/FatFs/src/ff.c **** }
1510:Middlewares/Third_Party/FatFs/src/ff.c **** 
1511:Middlewares/Third_Party/FatFs/src/ff.c **** 
1512:Middlewares/Third_Party/FatFs/src/ff.c **** 
1513:Middlewares/Third_Party/FatFs/src/ff.c **** 
1514:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1515:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Move directory table index next                  */
ARM GAS  /tmp/ccBfkcjf.s 			page 47


1516:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1517:Middlewares/Third_Party/FatFs/src/ff.c **** 
1518:Middlewares/Third_Party/FatFs/src/ff.c **** static
1519:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_next (	/* FR_OK(0):succeeded, FR_NO_FILE:End of table, FR_DENIED:Could not stretch */
1520:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to the directory object */
1521:Middlewares/Third_Party/FatFs/src/ff.c **** 	int stretch		/* 0: Do not stretch table, 1: Stretch table if needed */
1522:Middlewares/Third_Party/FatFs/src/ff.c **** )
1523:Middlewares/Third_Party/FatFs/src/ff.c **** {
1524:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ofs, clst;
1525:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
1526:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1527:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n;
1528:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1529:Middlewares/Third_Party/FatFs/src/ff.c **** 
1530:Middlewares/Third_Party/FatFs/src/ff.c **** 	ofs = dp->dptr + SZDIRE;	/* Next entry */
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect || ofs >= (DWORD)((_FS_EXFAT && fs->fs_type == FS_EXFAT) ? MAX_DIR_EX : MAX_DIR)) re
1532:Middlewares/Third_Party/FatFs/src/ff.c **** 
1533:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ofs % SS(fs) == 0) {	/* Sector changed? */
1534:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;				/* Next sector */
1535:Middlewares/Third_Party/FatFs/src/ff.c **** 
1536:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!dp->clust) {		/* Static table */
1537:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs / SZDIRE >= fs->n_rootdir) {	/* Report EOT if it reached end of static table */
1538:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = 0; return FR_NO_FILE;
1539:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1540:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1541:Middlewares/Third_Party/FatFs/src/ff.c **** 		else {					/* Dynamic table */
1542:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((ofs / SS(fs) & (fs->csize - 1)) == 0) {		/* Cluster changed? */
1543:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(&dp->obj, dp->clust);			/* Get next cluster */
1544:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) return FR_INT_ERR;				/* Internal error */
1545:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;		/* Disk error */
1546:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= fs->n_fatent) {						/* Reached end of dynamic table */
1547:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1548:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!stretch) {								/* If no stretch, report EOT */
1549:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->sect = 0; return FR_NO_FILE;
1550:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
1551:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(&dp->obj, dp->clust);	/* Allocate a cluster */
1552:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) return FR_DENIED;			/* No free cluster */
1553:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;			/* Internal error */
1554:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
1555:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up the stretched table */
1556:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (_FS_EXFAT) dp->obj.stat |= 4;			/* The directory needs to be updated */
1557:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (sync_window(fs) != FR_OK) return FR_DISK_ERR;	/* Flush disk access window */
1558:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(fs->win, 0, SS(fs));				/* Clear window buffer */
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (n = 0, fs->winsect = clust2sect(fs, clst); n < fs->csize; n++, fs->winsect++) {	/* Fill t
1560:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
1561:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (sync_window(fs) != FR_OK) return FR_DISK_ERR;
1562:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
1563:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->winsect -= n;							/* Restore window offset */
1564:Middlewares/Third_Party/FatFs/src/ff.c **** #else
1565:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!stretch) dp->sect = 0;					/* (this line is to suppress compiler warning) */
1566:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->sect = 0; return FR_NO_FILE;			/* Report EOT */
1567:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1569:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->clust = clst;		/* Initialize data for new cluster */
1570:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = clust2sect(fs, clst);
1571:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1572:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
ARM GAS  /tmp/ccBfkcjf.s 			page 48


1573:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1574:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dptr = ofs;						/* Current entry */
1575:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = fs->win + ofs % SS(fs);	/* Pointer to the entry in the win[] */
1576:Middlewares/Third_Party/FatFs/src/ff.c **** 
1577:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
1578:Middlewares/Third_Party/FatFs/src/ff.c **** }
1579:Middlewares/Third_Party/FatFs/src/ff.c **** 
1580:Middlewares/Third_Party/FatFs/src/ff.c **** 
1581:Middlewares/Third_Party/FatFs/src/ff.c **** 
1582:Middlewares/Third_Party/FatFs/src/ff.c **** 
1583:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1584:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1585:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Reserve a block of directory entries             */
1586:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1587:Middlewares/Third_Party/FatFs/src/ff.c **** 
1588:Middlewares/Third_Party/FatFs/src/ff.c **** static
1589:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_alloc (	/* FR_OK(0):succeeded, !=0:error */
1590:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to the directory object */
1591:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nent		/* Number of contiguous entries to allocate */
1592:Middlewares/Third_Party/FatFs/src/ff.c **** )
1593:Middlewares/Third_Party/FatFs/src/ff.c **** {
1594:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1595:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n;
1596:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
1597:Middlewares/Third_Party/FatFs/src/ff.c **** 
1598:Middlewares/Third_Party/FatFs/src/ff.c **** 
1599:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, 0);
1600:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
1601:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = 0;
1602:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
1603:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, dp->sect);
1604:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1605:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1606:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((fs->fs_type == FS_EXFAT) ? (int)((dp->dir[XDIR_Type] & 0x80) == 0) : (int)(dp->dir[DIR_Name
1607:Middlewares/Third_Party/FatFs/src/ff.c **** #else
1608:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dir[DIR_Name] == DDEM || dp->dir[DIR_Name] == 0) {
1609:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1610:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++n == nent) break;	/* A block of contiguous free entries is found */
1611:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
1612:Middlewares/Third_Party/FatFs/src/ff.c **** 				n = 0;					/* Not a blank entry. Restart to search */
1613:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1614:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_next(dp, 1);
1615:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);	/* Next entry with table stretch enabled */
1616:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1617:Middlewares/Third_Party/FatFs/src/ff.c **** 
1618:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_NO_FILE) res = FR_DENIED;	/* No directory entry to allocate */
1619:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
1620:Middlewares/Third_Party/FatFs/src/ff.c **** }
1621:Middlewares/Third_Party/FatFs/src/ff.c **** 
1622:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* !_FS_READONLY */
1623:Middlewares/Third_Party/FatFs/src/ff.c **** 
1624:Middlewares/Third_Party/FatFs/src/ff.c **** 
1625:Middlewares/Third_Party/FatFs/src/ff.c **** 
1626:Middlewares/Third_Party/FatFs/src/ff.c **** 
1627:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1628:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT: Directory handling - Load/Store start cluster number             */
1629:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
ARM GAS  /tmp/ccBfkcjf.s 			page 49


1630:Middlewares/Third_Party/FatFs/src/ff.c **** 
1631:Middlewares/Third_Party/FatFs/src/ff.c **** static
1632:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD ld_clust (	/* Returns the top cluster value of the SFN entry */
1633:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,		/* Pointer to the fs object */
1634:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE* dir	/* Pointer to the key entry */
1635:Middlewares/Third_Party/FatFs/src/ff.c **** )
1636:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1058              		.loc 1 1636 1 is_stmt 1 view -0
 1059              		.cfi_startproc
 1060              		@ args = 0, pretend = 0, frame = 0
 1061              		@ frame_needed = 0, uses_anonymous_args = 0
 1062              		.loc 1 1636 1 is_stmt 0 view .LVU311
 1063 0000 70B5     		push	{r4, r5, r6, lr}
 1064              	.LCFI10:
 1065              		.cfi_def_cfa_offset 16
 1066              		.cfi_offset 4, -16
 1067              		.cfi_offset 5, -12
 1068              		.cfi_offset 6, -8
 1069              		.cfi_offset 14, -4
 1070 0002 0646     		mov	r6, r0
 1071 0004 0D46     		mov	r5, r1
1637:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl;
 1072              		.loc 1 1637 2 is_stmt 1 view .LVU312
1638:Middlewares/Third_Party/FatFs/src/ff.c **** 
1639:Middlewares/Third_Party/FatFs/src/ff.c **** 	cl = ld_word(dir + DIR_FstClusLO);
 1073              		.loc 1 1639 2 view .LVU313
 1074              		.loc 1 1639 7 is_stmt 0 view .LVU314
 1075 0006 01F11A00 		add	r0, r1, #26
 1076              	.LVL105:
 1077              		.loc 1 1639 7 view .LVU315
 1078 000a FFF7FEFF 		bl	ld_word
 1079              	.LVL106:
1640:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_FAT32) {
 1080              		.loc 1 1640 2 is_stmt 1 view .LVU316
 1081              		.loc 1 1640 8 is_stmt 0 view .LVU317
 1082 000e 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 1083              		.loc 1 1640 5 view .LVU318
 1084 0010 032B     		cmp	r3, #3
 1085 0012 00D0     		beq	.L94
 1086              	.LVL107:
 1087              	.L91:
1641:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
1642:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1643:Middlewares/Third_Party/FatFs/src/ff.c **** 
1644:Middlewares/Third_Party/FatFs/src/ff.c **** 	return cl;
1645:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1088              		.loc 1 1645 1 view .LVU319
 1089 0014 70BD     		pop	{r4, r5, r6, pc}
 1090              	.LVL108:
 1091              	.L94:
 1092              		.loc 1 1645 1 view .LVU320
 1093 0016 0446     		mov	r4, r0
1641:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
 1094              		.loc 1 1641 3 is_stmt 1 view .LVU321
1641:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
 1095              		.loc 1 1641 16 is_stmt 0 view .LVU322
 1096 0018 05F11400 		add	r0, r5, #20
ARM GAS  /tmp/ccBfkcjf.s 			page 50


 1097              	.LVL109:
1641:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
 1098              		.loc 1 1641 16 view .LVU323
 1099 001c FFF7FEFF 		bl	ld_word
 1100              	.LVL110:
1641:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
 1101              		.loc 1 1641 6 view .LVU324
 1102 0020 44EA0040 		orr	r0, r4, r0, lsl #16
 1103              	.LVL111:
1644:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1104              		.loc 1 1644 2 is_stmt 1 view .LVU325
1644:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1105              		.loc 1 1644 9 is_stmt 0 view .LVU326
 1106 0024 F6E7     		b	.L91
 1107              		.cfi_endproc
 1108              	.LFE375:
 1110              		.section	.text.st_clust,"ax",%progbits
 1111              		.align	1
 1112              		.syntax unified
 1113              		.thumb
 1114              		.thumb_func
 1115              		.fpu fpv5-d16
 1117              	st_clust:
 1118              	.LVL112:
 1119              	.LFB376:
1646:Middlewares/Third_Party/FatFs/src/ff.c **** 
1647:Middlewares/Third_Party/FatFs/src/ff.c **** 
1648:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1649:Middlewares/Third_Party/FatFs/src/ff.c **** static
1650:Middlewares/Third_Party/FatFs/src/ff.c **** void st_clust (
1651:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* Pointer to the fs object */
1652:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir,	/* Pointer to the key entry */
1653:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl	/* Value to be set */
1654:Middlewares/Third_Party/FatFs/src/ff.c **** )
1655:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1120              		.loc 1 1655 1 is_stmt 1 view -0
 1121              		.cfi_startproc
 1122              		@ args = 0, pretend = 0, frame = 0
 1123              		@ frame_needed = 0, uses_anonymous_args = 0
 1124              		.loc 1 1655 1 is_stmt 0 view .LVU328
 1125 0000 70B5     		push	{r4, r5, r6, lr}
 1126              	.LCFI11:
 1127              		.cfi_def_cfa_offset 16
 1128              		.cfi_offset 4, -16
 1129              		.cfi_offset 5, -12
 1130              		.cfi_offset 6, -8
 1131              		.cfi_offset 14, -4
 1132 0002 0646     		mov	r6, r0
 1133 0004 0C46     		mov	r4, r1
 1134 0006 1546     		mov	r5, r2
1656:Middlewares/Third_Party/FatFs/src/ff.c **** 	st_word(dir + DIR_FstClusLO, (WORD)cl);
 1135              		.loc 1 1656 2 is_stmt 1 view .LVU329
 1136 0008 91B2     		uxth	r1, r2
 1137              	.LVL113:
 1138              		.loc 1 1656 2 is_stmt 0 view .LVU330
 1139 000a 04F11A00 		add	r0, r4, #26
 1140              	.LVL114:
ARM GAS  /tmp/ccBfkcjf.s 			page 51


 1141              		.loc 1 1656 2 view .LVU331
 1142 000e FFF7FEFF 		bl	st_word
 1143              	.LVL115:
1657:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_FAT32) {
 1144              		.loc 1 1657 2 is_stmt 1 view .LVU332
 1145              		.loc 1 1657 8 is_stmt 0 view .LVU333
 1146 0012 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 1147              		.loc 1 1657 5 view .LVU334
 1148 0014 032B     		cmp	r3, #3
 1149 0016 00D0     		beq	.L98
 1150              	.L95:
1658:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(dir + DIR_FstClusHI, (WORD)(cl >> 16));
1659:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1660:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1151              		.loc 1 1660 1 view .LVU335
 1152 0018 70BD     		pop	{r4, r5, r6, pc}
 1153              	.LVL116:
 1154              	.L98:
1658:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(dir + DIR_FstClusHI, (WORD)(cl >> 16));
 1155              		.loc 1 1658 3 is_stmt 1 view .LVU336
 1156 001a 290C     		lsrs	r1, r5, #16
 1157 001c 04F11400 		add	r0, r4, #20
 1158 0020 FFF7FEFF 		bl	st_word
 1159              	.LVL117:
 1160              		.loc 1 1660 1 is_stmt 0 view .LVU337
 1161 0024 F8E7     		b	.L95
 1162              		.cfi_endproc
 1163              	.LFE376:
 1165              		.section	.text.pick_lfn,"ax",%progbits
 1166              		.align	1
 1167              		.syntax unified
 1168              		.thumb
 1169              		.thumb_func
 1170              		.fpu fpv5-d16
 1172              	pick_lfn:
 1173              	.LVL118:
 1174              	.LFB378:
1661:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1662:Middlewares/Third_Party/FatFs/src/ff.c **** 
1663:Middlewares/Third_Party/FatFs/src/ff.c **** 
1664:Middlewares/Third_Party/FatFs/src/ff.c **** 
1665:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
1666:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------------------------------*/
1667:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT-LFN: LFN handling                                                  */
1668:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------------------------------*/
1669:Middlewares/Third_Party/FatFs/src/ff.c **** static
1670:Middlewares/Third_Party/FatFs/src/ff.c **** const BYTE LfnOfs[] = {1,3,5,7,9,14,16,18,20,22,24,28,30};	/* Offset of LFN characters in the direc
1671:Middlewares/Third_Party/FatFs/src/ff.c **** 
1672:Middlewares/Third_Party/FatFs/src/ff.c **** 
1673:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------*/
1674:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT-LFN: Compare a part of file name with an LFN entry */
1675:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------*/
1676:Middlewares/Third_Party/FatFs/src/ff.c **** static
1677:Middlewares/Third_Party/FatFs/src/ff.c **** int cmp_lfn (				/* 1:matched, 0:not matched */
1678:Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* lfnbuf,	/* Pointer to the LFN working buffer to be compared */
1679:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir				/* Pointer to the directory entry containing the part of LFN */
1680:Middlewares/Third_Party/FatFs/src/ff.c **** )
ARM GAS  /tmp/ccBfkcjf.s 			page 52


1681:Middlewares/Third_Party/FatFs/src/ff.c **** {
1682:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, s;
1683:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc, uc;
1684:Middlewares/Third_Party/FatFs/src/ff.c **** 
1685:Middlewares/Third_Party/FatFs/src/ff.c **** 
1686:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ld_word(dir + LDIR_FstClusLO) != 0) return 0;	/* Check LDIR_FstClusLO */
1687:Middlewares/Third_Party/FatFs/src/ff.c **** 
1688:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = ((dir[LDIR_Ord] & 0x3F) - 1) * 13;	/* Offset in the LFN buffer */
1689:Middlewares/Third_Party/FatFs/src/ff.c **** 
1690:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (wc = 1, s = 0; s < 13; s++) {		/* Process all characters in the entry */
1691:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
1692:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc) {
1693:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= _MAX_LFN || ff_wtoupper(uc) != ff_wtoupper(lfnbuf[i++])) {	/* Compare it */
1694:Middlewares/Third_Party/FatFs/src/ff.c **** 				return 0;					/* Not matched */
1695:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1696:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = uc;
1697:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1698:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (uc != 0xFFFF) return 0;		/* Check filler */
1699:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1700:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1701:Middlewares/Third_Party/FatFs/src/ff.c **** 
1702:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((dir[LDIR_Ord] & LLEF) && wc && lfnbuf[i]) return 0;	/* Last segment matched but different len
1703:Middlewares/Third_Party/FatFs/src/ff.c **** 
1704:Middlewares/Third_Party/FatFs/src/ff.c **** 	return 1;		/* The part of LFN matched */
1705:Middlewares/Third_Party/FatFs/src/ff.c **** }
1706:Middlewares/Third_Party/FatFs/src/ff.c **** 
1707:Middlewares/Third_Party/FatFs/src/ff.c **** 
1708:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1 || _FS_RPATH >= 2 || _USE_LABEL || _FS_EXFAT
1709:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------*/
1710:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT-LFN: Pick a part of file name from an LFN entry */
1711:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------*/
1712:Middlewares/Third_Party/FatFs/src/ff.c **** static
1713:Middlewares/Third_Party/FatFs/src/ff.c **** int pick_lfn (			/* 1:succeeded, 0:buffer overflow or invalid LFN entry */
1714:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR* lfnbuf,		/* Pointer to the LFN working buffer */
1715:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir			/* Pointer to the LFN entry */
1716:Middlewares/Third_Party/FatFs/src/ff.c **** )
1717:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1175              		.loc 1 1717 1 is_stmt 1 view -0
 1176              		.cfi_startproc
 1177              		@ args = 0, pretend = 0, frame = 0
 1178              		@ frame_needed = 0, uses_anonymous_args = 0
 1179              		.loc 1 1717 1 is_stmt 0 view .LVU339
 1180 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1181              	.LCFI12:
 1182              		.cfi_def_cfa_offset 24
 1183              		.cfi_offset 4, -24
 1184              		.cfi_offset 5, -20
 1185              		.cfi_offset 6, -16
 1186              		.cfi_offset 7, -12
 1187              		.cfi_offset 8, -8
 1188              		.cfi_offset 14, -4
 1189 0004 8046     		mov	r8, r0
 1190 0006 0E46     		mov	r6, r1
1718:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, s;
 1191              		.loc 1 1718 2 is_stmt 1 view .LVU340
1719:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc, uc;
 1192              		.loc 1 1719 2 view .LVU341
ARM GAS  /tmp/ccBfkcjf.s 			page 53


1720:Middlewares/Third_Party/FatFs/src/ff.c **** 
1721:Middlewares/Third_Party/FatFs/src/ff.c **** 
1722:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ld_word(dir + LDIR_FstClusLO) != 0) return 0;	/* Check LDIR_FstClusLO is 0 */
 1193              		.loc 1 1722 2 view .LVU342
 1194              		.loc 1 1722 6 is_stmt 0 view .LVU343
 1195 0008 01F11A00 		add	r0, r1, #26
 1196              	.LVL119:
 1197              		.loc 1 1722 6 view .LVU344
 1198 000c FFF7FEFF 		bl	ld_word
 1199              	.LVL120:
 1200              		.loc 1 1722 5 view .LVU345
 1201 0010 50BB     		cbnz	r0, .L105
1723:Middlewares/Third_Party/FatFs/src/ff.c **** 
1724:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = ((dir[LDIR_Ord] & ~LLEF) - 1) * 13;	/* Offset in the LFN buffer */
 1202              		.loc 1 1724 2 is_stmt 1 view .LVU346
 1203              		.loc 1 1724 11 is_stmt 0 view .LVU347
 1204 0012 3578     		ldrb	r5, [r6]	@ zero_extendqisi2
 1205              		.loc 1 1724 22 view .LVU348
 1206 0014 25F04005 		bic	r5, r5, #64
 1207              		.loc 1 1724 31 view .LVU349
 1208 0018 013D     		subs	r5, r5, #1
 1209              		.loc 1 1724 36 view .LVU350
 1210 001a 05EB4503 		add	r3, r5, r5, lsl #1
 1211              		.loc 1 1724 4 view .LVU351
 1212 001e 05EB8305 		add	r5, r5, r3, lsl #2
 1213              	.LVL121:
1725:Middlewares/Third_Party/FatFs/src/ff.c **** 
1726:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (wc = 1, s = 0; s < 13; s++) {		/* Process all characters in the entry */
 1214              		.loc 1 1726 2 is_stmt 1 view .LVU352
 1215              		.loc 1 1726 10 is_stmt 0 view .LVU353
 1216 0022 0127     		movs	r7, #1
 1217              		.loc 1 1726 17 view .LVU354
 1218 0024 0024     		movs	r4, #0
 1219              		.loc 1 1726 2 view .LVU355
 1220 0026 04E0     		b	.L101
 1221              	.LVL122:
 1222              	.L102:
1727:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
1728:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc) {
1729:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= _MAX_LFN) return 0;	/* Buffer overflow? */
1730:Middlewares/Third_Party/FatFs/src/ff.c **** 			lfnbuf[i++] = wc = uc;			/* Store it */
1731:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1732:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (uc != 0xFFFF) return 0;		/* Check filler */
 1223              		.loc 1 1732 4 is_stmt 1 view .LVU356
 1224              		.loc 1 1732 7 is_stmt 0 view .LVU357
 1225 0028 4FF6FF73 		movw	r3, #65535
 1226 002c 9842     		cmp	r0, r3
 1227 002e 20D1     		bne	.L107
 1228              	.LVL123:
 1229              	.L103:
1726:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
 1230              		.loc 1 1726 30 is_stmt 1 discriminator 2 view .LVU358
1726:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
 1231              		.loc 1 1726 31 is_stmt 0 discriminator 2 view .LVU359
 1232 0030 0134     		adds	r4, r4, #1
 1233              	.LVL124:
 1234              	.L101:
ARM GAS  /tmp/ccBfkcjf.s 			page 54


1726:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
 1235              		.loc 1 1726 22 is_stmt 1 discriminator 1 view .LVU360
1726:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
 1236              		.loc 1 1726 2 is_stmt 0 discriminator 1 view .LVU361
 1237 0032 0C2C     		cmp	r4, #12
 1238 0034 0DD8     		bhi	.L111
1727:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
 1239              		.loc 1 1727 3 is_stmt 1 view .LVU362
1727:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
 1240              		.loc 1 1727 28 is_stmt 0 view .LVU363
 1241 0036 124B     		ldr	r3, .L112
 1242 0038 185D     		ldrb	r0, [r3, r4]	@ zero_extendqisi2
1727:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
 1243              		.loc 1 1727 8 view .LVU364
 1244 003a 3044     		add	r0, r0, r6
 1245 003c FFF7FEFF 		bl	ld_word
 1246              	.LVL125:
1728:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= _MAX_LFN) return 0;	/* Buffer overflow? */
 1247              		.loc 1 1728 3 is_stmt 1 view .LVU365
1728:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= _MAX_LFN) return 0;	/* Buffer overflow? */
 1248              		.loc 1 1728 6 is_stmt 0 view .LVU366
 1249 0040 002F     		cmp	r7, #0
 1250 0042 F1D0     		beq	.L102
1729:Middlewares/Third_Party/FatFs/src/ff.c **** 			lfnbuf[i++] = wc = uc;			/* Store it */
 1251              		.loc 1 1729 4 is_stmt 1 view .LVU367
1729:Middlewares/Third_Party/FatFs/src/ff.c **** 			lfnbuf[i++] = wc = uc;			/* Store it */
 1252              		.loc 1 1729 7 is_stmt 0 view .LVU368
 1253 0044 FE2D     		cmp	r5, #254
 1254 0046 12D8     		bhi	.L106
1730:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 1255              		.loc 1 1730 4 is_stmt 1 view .LVU369
 1256              	.LVL126:
1730:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 1257              		.loc 1 1730 16 is_stmt 0 view .LVU370
 1258 0048 28F81500 		strh	r0, [r8, r5, lsl #1]	@ movhi
1730:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 1259              		.loc 1 1730 21 view .LVU371
 1260 004c 0746     		mov	r7, r0
1730:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 1261              		.loc 1 1730 12 view .LVU372
 1262 004e 0135     		adds	r5, r5, #1
 1263              	.LVL127:
1730:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 1264              		.loc 1 1730 12 view .LVU373
 1265 0050 EEE7     		b	.L103
 1266              	.LVL128:
 1267              	.L111:
1733:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1734:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1735:Middlewares/Third_Party/FatFs/src/ff.c **** 
1736:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dir[LDIR_Ord] & LLEF) {				/* Put terminator if it is the last LFN part */
 1268              		.loc 1 1736 2 is_stmt 1 view .LVU374
 1269              		.loc 1 1736 9 is_stmt 0 view .LVU375
 1270 0052 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 1271              		.loc 1 1736 5 view .LVU376
 1272 0054 13F0400F 		tst	r3, #64
 1273 0058 0DD0     		beq	.L108
ARM GAS  /tmp/ccBfkcjf.s 			page 55


1737:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i >= _MAX_LFN) return 0;		/* Buffer overflow? */
 1274              		.loc 1 1737 3 is_stmt 1 view .LVU377
 1275              		.loc 1 1737 6 is_stmt 0 view .LVU378
 1276 005a FE2D     		cmp	r5, #254
 1277 005c 0DD8     		bhi	.L109
1738:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfnbuf[i] = 0;
 1278              		.loc 1 1738 3 is_stmt 1 view .LVU379
 1279              		.loc 1 1738 13 is_stmt 0 view .LVU380
 1280 005e 0023     		movs	r3, #0
 1281 0060 28F81530 		strh	r3, [r8, r5, lsl #1]	@ movhi
1739:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1740:Middlewares/Third_Party/FatFs/src/ff.c **** 
1741:Middlewares/Third_Party/FatFs/src/ff.c **** 	return 1;		/* The part of LFN is valid */
 1282              		.loc 1 1741 9 view .LVU381
 1283 0064 0120     		movs	r0, #1
 1284 0066 00E0     		b	.L99
 1285              	.LVL129:
 1286              	.L105:
1722:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1287              		.loc 1 1722 49 view .LVU382
 1288 0068 0020     		movs	r0, #0
 1289              	.L99:
1742:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1290              		.loc 1 1742 1 view .LVU383
 1291 006a BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1292              	.LVL130:
 1293              	.L106:
1729:Middlewares/Third_Party/FatFs/src/ff.c **** 			lfnbuf[i++] = wc = uc;			/* Store it */
 1294              		.loc 1 1729 30 view .LVU384
 1295 006e 0020     		movs	r0, #0
 1296              	.LVL131:
1729:Middlewares/Third_Party/FatFs/src/ff.c **** 			lfnbuf[i++] = wc = uc;			/* Store it */
 1297              		.loc 1 1729 30 view .LVU385
 1298 0070 FBE7     		b	.L99
 1299              	.LVL132:
 1300              	.L107:
1732:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 1301              		.loc 1 1732 29 view .LVU386
 1302 0072 0020     		movs	r0, #0
 1303              	.LVL133:
1732:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 1304              		.loc 1 1732 29 view .LVU387
 1305 0074 F9E7     		b	.L99
 1306              	.L108:
1741:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1307              		.loc 1 1741 9 view .LVU388
 1308 0076 0120     		movs	r0, #1
 1309 0078 F7E7     		b	.L99
 1310              	.L109:
1737:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfnbuf[i] = 0;
 1311              		.loc 1 1737 29 view .LVU389
 1312 007a 0020     		movs	r0, #0
 1313 007c F5E7     		b	.L99
 1314              	.L113:
 1315 007e 00BF     		.align	2
 1316              	.L112:
 1317 0080 00000000 		.word	.LANCHOR1
ARM GAS  /tmp/ccBfkcjf.s 			page 56


 1318              		.cfi_endproc
 1319              	.LFE378:
 1321              		.section	.text.put_lfn,"ax",%progbits
 1322              		.align	1
 1323              		.syntax unified
 1324              		.thumb
 1325              		.thumb_func
 1326              		.fpu fpv5-d16
 1328              	put_lfn:
 1329              	.LVL134:
 1330              	.LFB379:
1743:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1744:Middlewares/Third_Party/FatFs/src/ff.c **** 
1745:Middlewares/Third_Party/FatFs/src/ff.c **** 
1746:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1747:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------*/
1748:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT-LFN: Create an entry of LFN entries */
1749:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------*/
1750:Middlewares/Third_Party/FatFs/src/ff.c **** static
1751:Middlewares/Third_Party/FatFs/src/ff.c **** void put_lfn (
1752:Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* lfn,	/* Pointer to the LFN */
1753:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir,			/* Pointer to the LFN entry to be created */
1754:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ord,			/* LFN order (1-20) */
1755:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sum			/* Checksum of the corresponding SFN */
1756:Middlewares/Third_Party/FatFs/src/ff.c **** )
1757:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1331              		.loc 1 1757 1 is_stmt 1 view -0
 1332              		.cfi_startproc
 1333              		@ args = 0, pretend = 0, frame = 0
 1334              		@ frame_needed = 0, uses_anonymous_args = 0
 1335              		.loc 1 1757 1 is_stmt 0 view .LVU391
 1336 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 1337              	.LCFI13:
 1338              		.cfi_def_cfa_offset 32
 1339              		.cfi_offset 3, -32
 1340              		.cfi_offset 4, -28
 1341              		.cfi_offset 5, -24
 1342              		.cfi_offset 6, -20
 1343              		.cfi_offset 7, -16
 1344              		.cfi_offset 8, -12
 1345              		.cfi_offset 9, -8
 1346              		.cfi_offset 14, -4
 1347 0004 8046     		mov	r8, r0
 1348 0006 0F46     		mov	r7, r1
 1349 0008 9146     		mov	r9, r2
1758:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, s;
 1350              		.loc 1 1758 2 is_stmt 1 view .LVU392
1759:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc;
 1351              		.loc 1 1759 2 view .LVU393
1760:Middlewares/Third_Party/FatFs/src/ff.c **** 
1761:Middlewares/Third_Party/FatFs/src/ff.c **** 
1762:Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Chksum] = sum;			/* Set checksum */
 1352              		.loc 1 1762 2 view .LVU394
 1353              		.loc 1 1762 19 is_stmt 0 view .LVU395
 1354 000a 4B73     		strb	r3, [r1, #13]
1763:Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Attr] = AM_LFN;		/* Set attribute. LFN entry */
 1355              		.loc 1 1763 2 is_stmt 1 view .LVU396
ARM GAS  /tmp/ccBfkcjf.s 			page 57


 1356              		.loc 1 1763 17 is_stmt 0 view .LVU397
 1357 000c 0F23     		movs	r3, #15
 1358              	.LVL135:
 1359              		.loc 1 1763 17 view .LVU398
 1360 000e CB72     		strb	r3, [r1, #11]
1764:Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Type] = 0;
 1361              		.loc 1 1764 2 is_stmt 1 view .LVU399
 1362              		.loc 1 1764 17 is_stmt 0 view .LVU400
 1363 0010 0024     		movs	r4, #0
 1364 0012 0C73     		strb	r4, [r1, #12]
1765:Middlewares/Third_Party/FatFs/src/ff.c **** 	st_word(dir + LDIR_FstClusLO, 0);
 1365              		.loc 1 1765 2 is_stmt 1 view .LVU401
 1366 0014 2146     		mov	r1, r4
 1367              	.LVL136:
 1368              		.loc 1 1765 2 is_stmt 0 view .LVU402
 1369 0016 07F11A00 		add	r0, r7, #26
 1370              	.LVL137:
 1371              		.loc 1 1765 2 view .LVU403
 1372 001a FFF7FEFF 		bl	st_word
 1373              	.LVL138:
1766:Middlewares/Third_Party/FatFs/src/ff.c **** 
1767:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = (ord - 1) * 13;				/* Get offset in the LFN working buffer */
 1374              		.loc 1 1767 2 is_stmt 1 view .LVU404
 1375              		.loc 1 1767 11 is_stmt 0 view .LVU405
 1376 001e 09F1FF36 		add	r6, r9, #-1
 1377              		.loc 1 1767 16 view .LVU406
 1378 0022 06EB4603 		add	r3, r6, r6, lsl #1
 1379              		.loc 1 1767 4 view .LVU407
 1380 0026 06EB8306 		add	r6, r6, r3, lsl #2
 1381              	.LVL139:
1768:Middlewares/Third_Party/FatFs/src/ff.c **** 	s = wc = 0;
 1382              		.loc 1 1768 2 is_stmt 1 view .LVU408
 1383              		.loc 1 1768 9 is_stmt 0 view .LVU409
 1384 002a 2546     		mov	r5, r4
 1385 002c 02E0     		b	.L117
 1386              	.LVL140:
 1387              	.L116:
1769:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1770:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc != 0xFFFF) wc = lfn[i++];	/* Get an effective character */
1771:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(dir + LfnOfs[s], wc);		/* Put it */
1772:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc == 0) wc = 0xFFFF;		/* Padding characters for left locations */
1773:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (++s < 13);
 1388              		.loc 1 1773 10 is_stmt 1 view .LVU410
 1389              		.loc 1 1773 2 is_stmt 0 view .LVU411
 1390 002e 0134     		adds	r4, r4, #1
 1391              	.LVL141:
 1392              		.loc 1 1773 2 view .LVU412
 1393 0030 0C2C     		cmp	r4, #12
 1394 0032 11D8     		bhi	.L122
 1395              	.LVL142:
 1396              	.L117:
1769:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
 1397              		.loc 1 1769 2 is_stmt 1 view .LVU413
1770:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(dir + LfnOfs[s], wc);		/* Put it */
 1398              		.loc 1 1770 3 view .LVU414
1770:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(dir + LfnOfs[s], wc);		/* Put it */
 1399              		.loc 1 1770 6 is_stmt 0 view .LVU415
ARM GAS  /tmp/ccBfkcjf.s 			page 58


 1400 0034 4FF6FF73 		movw	r3, #65535
 1401 0038 9D42     		cmp	r5, r3
 1402 003a 02D0     		beq	.L115
1770:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(dir + LfnOfs[s], wc);		/* Put it */
 1403              		.loc 1 1770 21 is_stmt 1 discriminator 1 view .LVU416
 1404              	.LVL143:
1770:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(dir + LfnOfs[s], wc);		/* Put it */
 1405              		.loc 1 1770 24 is_stmt 0 discriminator 1 view .LVU417
 1406 003c 38F81650 		ldrh	r5, [r8, r6, lsl #1]
 1407              	.LVL144:
1770:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(dir + LfnOfs[s], wc);		/* Put it */
 1408              		.loc 1 1770 31 discriminator 1 view .LVU418
 1409 0040 0136     		adds	r6, r6, #1
 1410              	.LVL145:
 1411              	.L115:
1771:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc == 0) wc = 0xFFFF;		/* Padding characters for left locations */
 1412              		.loc 1 1771 3 is_stmt 1 view .LVU419
1771:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc == 0) wc = 0xFFFF;		/* Padding characters for left locations */
 1413              		.loc 1 1771 23 is_stmt 0 view .LVU420
 1414 0042 0C4B     		ldr	r3, .L123
 1415 0044 185D     		ldrb	r0, [r3, r4]	@ zero_extendqisi2
1771:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc == 0) wc = 0xFFFF;		/* Padding characters for left locations */
 1416              		.loc 1 1771 3 view .LVU421
 1417 0046 2946     		mov	r1, r5
 1418 0048 3844     		add	r0, r0, r7
 1419 004a FFF7FEFF 		bl	st_word
 1420              	.LVL146:
1772:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (++s < 13);
 1421              		.loc 1 1772 3 is_stmt 1 view .LVU422
1772:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (++s < 13);
 1422              		.loc 1 1772 6 is_stmt 0 view .LVU423
 1423 004e 002D     		cmp	r5, #0
 1424 0050 EDD1     		bne	.L116
1772:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (++s < 13);
 1425              		.loc 1 1772 19 view .LVU424
 1426 0052 4FF6FF75 		movw	r5, #65535
 1427              	.LVL147:
1772:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (++s < 13);
 1428              		.loc 1 1772 19 view .LVU425
 1429 0056 EAE7     		b	.L116
 1430              	.LVL148:
 1431              	.L122:
1774:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (wc == 0xFFFF || !lfn[i]) ord |= LLEF;	/* Last LFN part is the start of LFN sequence */
 1432              		.loc 1 1774 2 is_stmt 1 view .LVU426
 1433              		.loc 1 1774 5 is_stmt 0 view .LVU427
 1434 0058 4FF6FF73 		movw	r3, #65535
 1435 005c 9D42     		cmp	r5, r3
 1436 005e 02D0     		beq	.L118
 1437              		.loc 1 1774 26 discriminator 2 view .LVU428
 1438 0060 38F81630 		ldrh	r3, [r8, r6, lsl #1]
 1439              		.loc 1 1774 19 discriminator 2 view .LVU429
 1440 0064 0BB9     		cbnz	r3, .L119
 1441              	.L118:
 1442              		.loc 1 1774 31 is_stmt 1 discriminator 3 view .LVU430
 1443              		.loc 1 1774 35 is_stmt 0 discriminator 3 view .LVU431
 1444 0066 49F04009 		orr	r9, r9, #64
 1445              	.LVL149:
ARM GAS  /tmp/ccBfkcjf.s 			page 59


 1446              	.L119:
1775:Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Ord] = ord;			/* Set the LFN order */
 1447              		.loc 1 1775 2 is_stmt 1 view .LVU432
 1448              		.loc 1 1775 16 is_stmt 0 view .LVU433
 1449 006a 87F80090 		strb	r9, [r7]
1776:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1450              		.loc 1 1776 1 view .LVU434
 1451 006e BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 1452              	.LVL150:
 1453              	.L124:
 1454              		.loc 1 1776 1 view .LVU435
 1455 0072 00BF     		.align	2
 1456              	.L123:
 1457 0074 00000000 		.word	.LANCHOR1
 1458              		.cfi_endproc
 1459              	.LFE379:
 1461              		.section	.text.gen_numname,"ax",%progbits
 1462              		.align	1
 1463              		.syntax unified
 1464              		.thumb
 1465              		.thumb_func
 1466              		.fpu fpv5-d16
 1468              	gen_numname:
 1469              	.LVL151:
 1470              	.LFB380:
1777:Middlewares/Third_Party/FatFs/src/ff.c **** 
1778:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* !_FS_READONLY */
1779:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_LFN != 0 */
1780:Middlewares/Third_Party/FatFs/src/ff.c **** 
1781:Middlewares/Third_Party/FatFs/src/ff.c **** 
1782:Middlewares/Third_Party/FatFs/src/ff.c **** 
1783:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0 && !_FS_READONLY
1784:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1785:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT-LFN: Create a Numbered SFN                                        */
1786:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1787:Middlewares/Third_Party/FatFs/src/ff.c **** 
1788:Middlewares/Third_Party/FatFs/src/ff.c **** static
1789:Middlewares/Third_Party/FatFs/src/ff.c **** void gen_numname (
1790:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dst,			/* Pointer to the buffer to store numbered SFN */
1791:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE* src,	/* Pointer to SFN */
1792:Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* lfn,	/* Pointer to LFN */
1793:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT seq			/* Sequence number */
1794:Middlewares/Third_Party/FatFs/src/ff.c **** )
1795:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1471              		.loc 1 1795 1 is_stmt 1 view -0
 1472              		.cfi_startproc
 1473              		@ args = 0, pretend = 0, frame = 8
 1474              		@ frame_needed = 0, uses_anonymous_args = 0
 1475              		.loc 1 1795 1 is_stmt 0 view .LVU437
 1476 0000 70B5     		push	{r4, r5, r6, lr}
 1477              	.LCFI14:
 1478              		.cfi_def_cfa_offset 16
 1479              		.cfi_offset 4, -16
 1480              		.cfi_offset 5, -12
 1481              		.cfi_offset 6, -8
 1482              		.cfi_offset 14, -4
 1483 0002 82B0     		sub	sp, sp, #8
ARM GAS  /tmp/ccBfkcjf.s 			page 60


 1484              	.LCFI15:
 1485              		.cfi_def_cfa_offset 24
 1486 0004 0546     		mov	r5, r0
 1487 0006 1646     		mov	r6, r2
 1488 0008 1C46     		mov	r4, r3
1796:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ns[8], c;
 1489              		.loc 1 1796 2 is_stmt 1 view .LVU438
1797:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j;
 1490              		.loc 1 1797 2 view .LVU439
1798:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc;
 1491              		.loc 1 1798 2 view .LVU440
1799:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sr;
 1492              		.loc 1 1799 2 view .LVU441
1800:Middlewares/Third_Party/FatFs/src/ff.c **** 
1801:Middlewares/Third_Party/FatFs/src/ff.c **** 
1802:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(dst, src, 11);
 1493              		.loc 1 1802 2 view .LVU442
 1494 000a 0B22     		movs	r2, #11
 1495              	.LVL152:
 1496              		.loc 1 1802 2 is_stmt 0 view .LVU443
 1497 000c FFF7FEFF 		bl	mem_cpy
 1498              	.LVL153:
1803:Middlewares/Third_Party/FatFs/src/ff.c **** 
1804:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (seq > 5) {	/* In case of many collisions, generate a hash number instead of sequential number 
 1499              		.loc 1 1804 2 is_stmt 1 view .LVU444
 1500              		.loc 1 1804 5 is_stmt 0 view .LVU445
 1501 0010 052C     		cmp	r4, #5
 1502 0012 11D8     		bhi	.L126
 1503              	.LVL154:
 1504              	.L127:
1805:Middlewares/Third_Party/FatFs/src/ff.c **** 		sr = seq;
1806:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (*lfn) {	/* Create a CRC */
1807:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = *lfn++;
1808:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (i = 0; i < 16; i++) {
 1505              		.loc 1 1808 11 view .LVU446
 1506 0014 0723     		movs	r3, #7
 1507 0016 1FE0     		b	.L133
 1508              	.LVL155:
 1509              	.L129:
 1510              		.loc 1 1808 24 is_stmt 1 discriminator 2 view .LVU447
 1511              		.loc 1 1808 25 is_stmt 0 discriminator 2 view .LVU448
 1512 0018 0131     		adds	r1, r1, #1
 1513              	.LVL156:
 1514              	.L128:
 1515              		.loc 1 1808 16 is_stmt 1 discriminator 1 view .LVU449
 1516              		.loc 1 1808 4 is_stmt 0 discriminator 1 view .LVU450
 1517 001a 0F29     		cmp	r1, #15
 1518 001c 0CD8     		bhi	.L126
1809:Middlewares/Third_Party/FatFs/src/ff.c **** 				sr = (sr << 1) + (wc & 1);
 1519              		.loc 1 1809 5 is_stmt 1 view .LVU451
 1520              		.loc 1 1809 26 is_stmt 0 view .LVU452
 1521 001e 03F0010C 		and	ip, r3, #1
 1522              		.loc 1 1809 8 view .LVU453
 1523 0022 0CEB4404 		add	r4, ip, r4, lsl #1
 1524              	.LVL157:
1810:Middlewares/Third_Party/FatFs/src/ff.c **** 				wc >>= 1;
 1525              		.loc 1 1810 5 is_stmt 1 view .LVU454
ARM GAS  /tmp/ccBfkcjf.s 			page 61


 1526              		.loc 1 1810 8 is_stmt 0 view .LVU455
 1527 0026 5B08     		lsrs	r3, r3, #1
 1528              	.LVL158:
1811:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (sr & 0x10000) sr ^= 0x11021;
 1529              		.loc 1 1811 5 is_stmt 1 view .LVU456
 1530              		.loc 1 1811 8 is_stmt 0 view .LVU457
 1531 0028 14F4803F 		tst	r4, #65536
 1532 002c F4D0     		beq	.L129
 1533              		.loc 1 1811 23 is_stmt 1 discriminator 1 view .LVU458
 1534              		.loc 1 1811 26 is_stmt 0 discriminator 1 view .LVU459
 1535 002e 84F48834 		eor	r4, r4, #69632
 1536              	.LVL159:
 1537              		.loc 1 1811 26 discriminator 1 view .LVU460
 1538 0032 84F02104 		eor	r4, r4, #33
 1539              	.LVL160:
 1540              		.loc 1 1811 26 discriminator 1 view .LVU461
 1541 0036 EFE7     		b	.L129
 1542              	.LVL161:
 1543              	.L126:
1806:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = *lfn++;
 1544              		.loc 1 1806 9 is_stmt 1 view .LVU462
1806:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = *lfn++;
 1545              		.loc 1 1806 10 is_stmt 0 view .LVU463
 1546 0038 3388     		ldrh	r3, [r6]
1806:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = *lfn++;
 1547              		.loc 1 1806 9 view .LVU464
 1548 003a 002B     		cmp	r3, #0
 1549 003c EAD0     		beq	.L127
1807:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (i = 0; i < 16; i++) {
 1550              		.loc 1 1807 4 is_stmt 1 view .LVU465
1807:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (i = 0; i < 16; i++) {
 1551              		.loc 1 1807 13 is_stmt 0 view .LVU466
 1552 003e 0236     		adds	r6, r6, #2
 1553              	.LVL162:
1808:Middlewares/Third_Party/FatFs/src/ff.c **** 				sr = (sr << 1) + (wc & 1);
 1554              		.loc 1 1808 4 is_stmt 1 view .LVU467
1808:Middlewares/Third_Party/FatFs/src/ff.c **** 				sr = (sr << 1) + (wc & 1);
 1555              		.loc 1 1808 11 is_stmt 0 view .LVU468
 1556 0040 0021     		movs	r1, #0
1808:Middlewares/Third_Party/FatFs/src/ff.c **** 				sr = (sr << 1) + (wc & 1);
 1557              		.loc 1 1808 4 view .LVU469
 1558 0042 EAE7     		b	.L128
 1559              	.LVL163:
 1560              	.L132:
1812:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1813:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1814:Middlewares/Third_Party/FatFs/src/ff.c **** 		seq = (UINT)sr;
1815:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1816:Middlewares/Third_Party/FatFs/src/ff.c **** 
1817:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* itoa (hexdecimal) */
1818:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = 7;
1819:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1820:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (BYTE)((seq % 16) + '0');
1821:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c > '9') c += 7;
1822:Middlewares/Third_Party/FatFs/src/ff.c **** 		ns[i--] = c;
 1561              		.loc 1 1822 3 is_stmt 1 view .LVU470
 1562              		.loc 1 1822 7 is_stmt 0 view .LVU471
ARM GAS  /tmp/ccBfkcjf.s 			page 62


 1563 0044 5A1E     		subs	r2, r3, #1
 1564              	.LVL164:
 1565              		.loc 1 1822 11 view .LVU472
 1566 0046 0833     		adds	r3, r3, #8
 1567 0048 6B44     		add	r3, sp, r3
 1568 004a 03F8081C 		strb	r1, [r3, #-8]
1823:Middlewares/Third_Party/FatFs/src/ff.c **** 		seq /= 16;
 1569              		.loc 1 1823 3 is_stmt 1 view .LVU473
 1570              		.loc 1 1823 7 is_stmt 0 view .LVU474
 1571 004e 2109     		lsrs	r1, r4, #4
 1572              	.LVL165:
1824:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (seq);
 1573              		.loc 1 1824 10 is_stmt 1 view .LVU475
 1574              		.loc 1 1824 2 is_stmt 0 view .LVU476
 1575 0050 0F2C     		cmp	r4, #15
 1576 0052 0AD9     		bls	.L143
1822:Middlewares/Third_Party/FatFs/src/ff.c **** 		seq /= 16;
 1577              		.loc 1 1822 7 view .LVU477
 1578 0054 1346     		mov	r3, r2
 1579              	.LVL166:
1823:Middlewares/Third_Party/FatFs/src/ff.c **** 		seq /= 16;
 1580              		.loc 1 1823 7 view .LVU478
 1581 0056 0C46     		mov	r4, r1
 1582              	.LVL167:
 1583              	.L133:
1819:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (BYTE)((seq % 16) + '0');
 1584              		.loc 1 1819 2 is_stmt 1 view .LVU479
1820:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c > '9') c += 7;
 1585              		.loc 1 1820 3 view .LVU480
1820:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c > '9') c += 7;
 1586              		.loc 1 1820 7 is_stmt 0 view .LVU481
 1587 0058 04F00F02 		and	r2, r4, #15
1820:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c > '9') c += 7;
 1588              		.loc 1 1820 5 view .LVU482
 1589 005c 02F13001 		add	r1, r2, #48
 1590              	.LVL168:
1821:Middlewares/Third_Party/FatFs/src/ff.c **** 		ns[i--] = c;
 1591              		.loc 1 1821 3 is_stmt 1 view .LVU483
1821:Middlewares/Third_Party/FatFs/src/ff.c **** 		ns[i--] = c;
 1592              		.loc 1 1821 6 is_stmt 0 view .LVU484
 1593 0060 3929     		cmp	r1, #57
 1594 0062 EFD9     		bls	.L132
1821:Middlewares/Third_Party/FatFs/src/ff.c **** 		ns[i--] = c;
 1595              		.loc 1 1821 16 is_stmt 1 discriminator 1 view .LVU485
1821:Middlewares/Third_Party/FatFs/src/ff.c **** 		ns[i--] = c;
 1596              		.loc 1 1821 18 is_stmt 0 discriminator 1 view .LVU486
 1597 0064 02F13701 		add	r1, r2, #55
 1598              	.LVL169:
1821:Middlewares/Third_Party/FatFs/src/ff.c **** 		ns[i--] = c;
 1599              		.loc 1 1821 18 discriminator 1 view .LVU487
 1600 0068 ECE7     		b	.L132
 1601              	.LVL170:
 1602              	.L143:
1825:Middlewares/Third_Party/FatFs/src/ff.c **** 	ns[i] = '~';
 1603              		.loc 1 1825 2 is_stmt 1 view .LVU488
 1604              		.loc 1 1825 8 is_stmt 0 view .LVU489
 1605 006a 7E21     		movs	r1, #126
ARM GAS  /tmp/ccBfkcjf.s 			page 63


 1606              	.LVL171:
 1607              		.loc 1 1825 8 view .LVU490
 1608 006c 02F10803 		add	r3, r2, #8
 1609              	.LVL172:
 1610              		.loc 1 1825 8 view .LVU491
 1611 0070 6B44     		add	r3, sp, r3
 1612 0072 03F8081C 		strb	r1, [r3, #-8]
 1613              	.LVL173:
1826:Middlewares/Third_Party/FatFs/src/ff.c **** 
1827:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Append the number */
1828:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (j = 0; j < i && dst[j] != ' '; j++) {
 1614              		.loc 1 1828 2 is_stmt 1 view .LVU492
 1615              		.loc 1 1828 9 is_stmt 0 view .LVU493
 1616 0076 0023     		movs	r3, #0
 1617              		.loc 1 1828 2 view .LVU494
 1618 0078 00E0     		b	.L134
 1619              	.LVL174:
 1620              	.L136:
1829:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(dst[j])) {
 1621              		.loc 1 1829 3 is_stmt 1 discriminator 2 view .LVU495
1828:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(dst[j])) {
 1622              		.loc 1 1828 38 discriminator 2 view .LVU496
1828:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(dst[j])) {
 1623              		.loc 1 1828 39 is_stmt 0 discriminator 2 view .LVU497
 1624 007a 0133     		adds	r3, r3, #1
 1625              	.LVL175:
 1626              	.L134:
1828:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(dst[j])) {
 1627              		.loc 1 1828 14 is_stmt 1 discriminator 1 view .LVU498
1828:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(dst[j])) {
 1628              		.loc 1 1828 2 is_stmt 0 discriminator 1 view .LVU499
 1629 007c 9342     		cmp	r3, r2
 1630 007e 09D2     		bcs	.L138
1828:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(dst[j])) {
 1631              		.loc 1 1828 26 discriminator 3 view .LVU500
 1632 0080 E95C     		ldrb	r1, [r5, r3]	@ zero_extendqisi2
1828:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(dst[j])) {
 1633              		.loc 1 1828 20 discriminator 3 view .LVU501
 1634 0082 2029     		cmp	r1, #32
 1635 0084 F9D1     		bne	.L136
 1636 0086 05E0     		b	.L138
 1637              	.L140:
1830:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (j == i - 1) break;
1831:Middlewares/Third_Party/FatFs/src/ff.c **** 			j++;
1832:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1833:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1834:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1835:Middlewares/Third_Party/FatFs/src/ff.c **** 		dst[j++] = (i < 8) ? ns[i++] : ' ';
 1638              		.loc 1 1835 12 view .LVU502
 1639 0088 2020     		movs	r0, #32
 1640              	.L137:
 1641              		.loc 1 1835 8 discriminator 4 view .LVU503
 1642 008a 591C     		adds	r1, r3, #1
 1643              	.LVL176:
 1644              		.loc 1 1835 12 discriminator 4 view .LVU504
 1645 008c E854     		strb	r0, [r5, r3]
1836:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (j < 8);
ARM GAS  /tmp/ccBfkcjf.s 			page 64


 1646              		.loc 1 1836 10 is_stmt 1 discriminator 4 view .LVU505
 1647              		.loc 1 1836 2 is_stmt 0 discriminator 4 view .LVU506
 1648 008e 0729     		cmp	r1, #7
 1649 0090 09D8     		bhi	.L144
1835:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (j < 8);
 1650              		.loc 1 1835 8 view .LVU507
 1651 0092 0B46     		mov	r3, r1
 1652              	.LVL177:
 1653              	.L138:
1834:Middlewares/Third_Party/FatFs/src/ff.c **** 		dst[j++] = (i < 8) ? ns[i++] : ' ';
 1654              		.loc 1 1834 2 is_stmt 1 view .LVU508
1835:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (j < 8);
 1655              		.loc 1 1835 3 view .LVU509
1835:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (j < 8);
 1656              		.loc 1 1835 12 is_stmt 0 view .LVU510
 1657 0094 072A     		cmp	r2, #7
 1658 0096 F7D8     		bhi	.L140
 1659              	.LVL178:
1835:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (j < 8);
 1660              		.loc 1 1835 12 discriminator 1 view .LVU511
 1661 0098 02F10801 		add	r1, r2, #8
 1662 009c 6944     		add	r1, sp, r1
 1663 009e 11F8080C 		ldrb	r0, [r1, #-8]	@ zero_extendqisi2
1835:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (j < 8);
 1664              		.loc 1 1835 28 discriminator 1 view .LVU512
 1665 00a2 0132     		adds	r2, r2, #1
 1666              	.LVL179:
1835:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (j < 8);
 1667              		.loc 1 1835 28 discriminator 1 view .LVU513
 1668 00a4 F1E7     		b	.L137
 1669              	.LVL180:
 1670              	.L144:
1837:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1671              		.loc 1 1837 1 view .LVU514
 1672 00a6 02B0     		add	sp, sp, #8
 1673              	.LCFI16:
 1674              		.cfi_def_cfa_offset 16
 1675              		@ sp needed
 1676 00a8 70BD     		pop	{r4, r5, r6, pc}
 1677              		.loc 1 1837 1 view .LVU515
 1678              		.cfi_endproc
 1679              	.LFE380:
 1681              		.section	.text.sum_sfn,"ax",%progbits
 1682              		.align	1
 1683              		.syntax unified
 1684              		.thumb
 1685              		.thumb_func
 1686              		.fpu fpv5-d16
 1688              	sum_sfn:
 1689              	.LVL181:
 1690              	.LFB381:
1838:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_LFN != 0 && !_FS_READONLY */
1839:Middlewares/Third_Party/FatFs/src/ff.c **** 
1840:Middlewares/Third_Party/FatFs/src/ff.c **** 
1841:Middlewares/Third_Party/FatFs/src/ff.c **** 
1842:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
1843:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
ARM GAS  /tmp/ccBfkcjf.s 			page 65


1844:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT-LFN: Calculate checksum of an SFN entry                           */
1845:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1846:Middlewares/Third_Party/FatFs/src/ff.c **** 
1847:Middlewares/Third_Party/FatFs/src/ff.c **** static
1848:Middlewares/Third_Party/FatFs/src/ff.c **** BYTE sum_sfn (
1849:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE* dir		/* Pointer to the SFN entry */
1850:Middlewares/Third_Party/FatFs/src/ff.c **** )
1851:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1691              		.loc 1 1851 1 is_stmt 1 view -0
 1692              		.cfi_startproc
 1693              		@ args = 0, pretend = 0, frame = 0
 1694              		@ frame_needed = 0, uses_anonymous_args = 0
 1695              		@ link register save eliminated.
 1696              		.loc 1 1851 1 is_stmt 0 view .LVU517
 1697 0000 0146     		mov	r1, r0
1852:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sum = 0;
 1698              		.loc 1 1852 2 is_stmt 1 view .LVU518
 1699              	.LVL182:
1853:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n = 11;
 1700              		.loc 1 1853 2 view .LVU519
 1701              		.loc 1 1853 7 is_stmt 0 view .LVU520
 1702 0002 4FF00B0C 		mov	ip, #11
1852:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sum = 0;
 1703              		.loc 1 1852 7 view .LVU521
 1704 0006 0020     		movs	r0, #0
 1705              	.LVL183:
 1706              	.L146:
1854:Middlewares/Third_Party/FatFs/src/ff.c **** 
1855:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
 1707              		.loc 1 1855 2 is_stmt 1 discriminator 1 view .LVU522
1856:Middlewares/Third_Party/FatFs/src/ff.c **** 		sum = (sum >> 1) + (sum << 7) + *dir++;
 1708              		.loc 1 1856 3 discriminator 1 view .LVU523
 1709              		.loc 1 1856 20 is_stmt 0 discriminator 1 view .LVU524
 1710 0008 C301     		lsls	r3, r0, #7
 1711 000a 43EA5003 		orr	r3, r3, r0, lsr #1
 1712              		.loc 1 1856 35 discriminator 1 view .LVU525
 1713 000e 0878     		ldrb	r0, [r1]	@ zero_extendqisi2
 1714              	.LVL184:
 1715              		.loc 1 1856 35 discriminator 1 view .LVU526
 1716 0010 0131     		adds	r1, r1, #1
 1717              	.LVL185:
 1718              		.loc 1 1856 7 discriminator 1 view .LVU527
 1719 0012 50FA83F3 		uxtab	r3, r0, r3
 1720 0016 D8B2     		uxtb	r0, r3
 1721              	.LVL186:
1857:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (--n);
 1722              		.loc 1 1857 10 is_stmt 1 discriminator 1 view .LVU528
 1723              		.loc 1 1857 2 is_stmt 0 discriminator 1 view .LVU529
 1724 0018 BCF1010C 		subs	ip, ip, #1
 1725              	.LVL187:
 1726              		.loc 1 1857 2 discriminator 1 view .LVU530
 1727 001c F4D1     		bne	.L146
1858:Middlewares/Third_Party/FatFs/src/ff.c **** 	return sum;
 1728              		.loc 1 1858 2 is_stmt 1 view .LVU531
1859:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1729              		.loc 1 1859 1 is_stmt 0 view .LVU532
 1730 001e 7047     		bx	lr
ARM GAS  /tmp/ccBfkcjf.s 			page 66


 1731              		.cfi_endproc
 1732              	.LFE381:
 1734              		.section	.text.get_ldnumber,"ax",%progbits
 1735              		.align	1
 1736              		.syntax unified
 1737              		.thumb
 1738              		.thumb_func
 1739              		.fpu fpv5-d16
 1741              	get_ldnumber:
 1742              	.LVL188:
 1743              	.LFB389:
1860:Middlewares/Third_Party/FatFs/src/ff.c **** 
1861:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_LFN != 0 */
1862:Middlewares/Third_Party/FatFs/src/ff.c **** 
1863:Middlewares/Third_Party/FatFs/src/ff.c **** 
1864:Middlewares/Third_Party/FatFs/src/ff.c **** 
1865:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1866:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1867:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Checksum                                                       */
1868:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1869:Middlewares/Third_Party/FatFs/src/ff.c **** 
1870:Middlewares/Third_Party/FatFs/src/ff.c **** static
1871:Middlewares/Third_Party/FatFs/src/ff.c **** WORD xdir_sum (			/* Get checksum of the directoly block */
1872:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE* dir		/* Directory entry block to be calculated */
1873:Middlewares/Third_Party/FatFs/src/ff.c **** )
1874:Middlewares/Third_Party/FatFs/src/ff.c **** {
1875:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, szblk;
1876:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD sum;
1877:Middlewares/Third_Party/FatFs/src/ff.c **** 
1878:Middlewares/Third_Party/FatFs/src/ff.c **** 
1879:Middlewares/Third_Party/FatFs/src/ff.c **** 	szblk = (dir[XDIR_NumSec] + 1) * SZDIRE;
1880:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = sum = 0; i < szblk; i++) {
1881:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == XDIR_SetSum) {	/* Skip sum field */
1882:Middlewares/Third_Party/FatFs/src/ff.c **** 			i++;
1883:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1884:Middlewares/Third_Party/FatFs/src/ff.c **** 			sum = ((sum & 1) ? 0x8000 : 0) + (sum >> 1) + dir[i];
1885:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1886:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1887:Middlewares/Third_Party/FatFs/src/ff.c **** 	return sum;
1888:Middlewares/Third_Party/FatFs/src/ff.c **** }
1889:Middlewares/Third_Party/FatFs/src/ff.c **** 
1890:Middlewares/Third_Party/FatFs/src/ff.c **** 
1891:Middlewares/Third_Party/FatFs/src/ff.c **** 
1892:Middlewares/Third_Party/FatFs/src/ff.c **** static
1893:Middlewares/Third_Party/FatFs/src/ff.c **** WORD xname_sum (		/* Get check sum (to be used as hash) of the name */
1894:Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* name	/* File name to be calculated */
1895:Middlewares/Third_Party/FatFs/src/ff.c **** )
1896:Middlewares/Third_Party/FatFs/src/ff.c **** {
1897:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR chr;
1898:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD sum = 0;
1899:Middlewares/Third_Party/FatFs/src/ff.c **** 
1900:Middlewares/Third_Party/FatFs/src/ff.c **** 
1901:Middlewares/Third_Party/FatFs/src/ff.c **** 	while ((chr = *name++) != 0) {
1902:Middlewares/Third_Party/FatFs/src/ff.c **** 		chr = ff_wtoupper(chr);		/* File name needs to be ignored case */
1903:Middlewares/Third_Party/FatFs/src/ff.c **** 		sum = ((sum & 1) ? 0x8000 : 0) + (sum >> 1) + (chr & 0xFF);
1904:Middlewares/Third_Party/FatFs/src/ff.c **** 		sum = ((sum & 1) ? 0x8000 : 0) + (sum >> 1) + (chr >> 8);
1905:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
ARM GAS  /tmp/ccBfkcjf.s 			page 67


1906:Middlewares/Third_Party/FatFs/src/ff.c **** 	return sum;
1907:Middlewares/Third_Party/FatFs/src/ff.c **** }
1908:Middlewares/Third_Party/FatFs/src/ff.c **** 
1909:Middlewares/Third_Party/FatFs/src/ff.c **** 
1910:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _USE_MKFS
1911:Middlewares/Third_Party/FatFs/src/ff.c **** static
1912:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD xsum32 (
1913:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE  dat,	/* Data to be sumed */
1914:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sum	/* Previous value */
1915:Middlewares/Third_Party/FatFs/src/ff.c **** )
1916:Middlewares/Third_Party/FatFs/src/ff.c **** {
1917:Middlewares/Third_Party/FatFs/src/ff.c **** 	sum = ((sum & 1) ? 0x80000000 : 0) + (sum >> 1) + dat;
1918:Middlewares/Third_Party/FatFs/src/ff.c **** 	return sum;
1919:Middlewares/Third_Party/FatFs/src/ff.c **** }
1920:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1921:Middlewares/Third_Party/FatFs/src/ff.c **** 
1922:Middlewares/Third_Party/FatFs/src/ff.c **** 
1923:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1 || _FS_RPATH >= 2
1924:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------------*/
1925:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Get object information from a directory block */
1926:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------------*/
1927:Middlewares/Third_Party/FatFs/src/ff.c **** 
1928:Middlewares/Third_Party/FatFs/src/ff.c **** static
1929:Middlewares/Third_Party/FatFs/src/ff.c **** void get_xdir_info (
1930:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dirb,			/* Pointer to the direcotry entry block 85+C0+C1s */
1931:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno		/* Buffer to store the extracted file information */
1932:Middlewares/Third_Party/FatFs/src/ff.c **** )
1933:Middlewares/Third_Party/FatFs/src/ff.c **** {
1934:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT di, si;
1935:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w;
1936:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
1937:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nc;
1938:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1939:Middlewares/Third_Party/FatFs/src/ff.c **** 
1940:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get file name */
1941:Middlewares/Third_Party/FatFs/src/ff.c **** 	di = 0;
1942:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
1943:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (si = SZDIRE * 2; di < dirb[XDIR_NumName]; si += 2, di++) {
1944:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((si % SZDIRE) == 0) si += 2;		/* Skip entry type field */
1945:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = ld_word(dirb + si);					/* Get a character */
1946:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (di >= _MAX_LFN) { di = 0; break; }	/* Buffer overflow --> inaccessible object name */
1947:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fname[di] = w;						/* Store it */
1948:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1949:Middlewares/Third_Party/FatFs/src/ff.c **** #else
1950:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (si = SZDIRE * 2, nc = 0; nc < dirb[XDIR_NumName]; si += 2, nc++) {
1951:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((si % SZDIRE) == 0) si += 2;		/* Skip entry type field */
1952:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = ff_convert(ld_word(dirb + si), 0);	/* Get a character and Unicode -> OEM */
1953:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_DF1S && w >= 0x100) {				/* Is it a double byte char? (always false at SBCS cfg) */
1954:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno->fname[di++] = (char)(w >> 8);	/* Put 1st byte of the DBC */
1955:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1956:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w == 0 || di >= _MAX_LFN) { di = 0; break; }	/* Invalid char or buffer overflow --> inaccessi
1957:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fname[di++] = (char)w;
1958:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1959:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1960:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (di == 0) fno->fname[di++] = '?';	/* Inaccessible object name? */
1961:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fname[di] = 0;						/* Terminate file name */
1962:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccBfkcjf.s 			page 68


1963:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->altname[0] = 0;							/* No SFN */
1964:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fattrib = dirb[XDIR_Attr];					/* Attribute */
1965:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fsize = (fno->fattrib & AM_DIR) ? 0 : ld_qword(dirb + XDIR_FileSize);	/* Size */
1966:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->ftime = ld_word(dirb + XDIR_ModTime + 0);	/* Time */
1967:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fdate = ld_word(dirb + XDIR_ModTime + 2);	/* Date */
1968:Middlewares/Third_Party/FatFs/src/ff.c **** }
1969:Middlewares/Third_Party/FatFs/src/ff.c **** 
1970:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_MINIMIZE <= 1 || _FS_RPATH >= 2 */
1971:Middlewares/Third_Party/FatFs/src/ff.c **** 
1972:Middlewares/Third_Party/FatFs/src/ff.c **** 
1973:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------*/
1974:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Get a directry entry block */
1975:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------*/
1976:Middlewares/Third_Party/FatFs/src/ff.c **** 
1977:Middlewares/Third_Party/FatFs/src/ff.c **** static
1978:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT load_xdir (	/* FR_INT_ERR: invalid entry block */
1979:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp			/* Pointer to the reading direcotry object pointing the 85 entry */
1980:Middlewares/Third_Party/FatFs/src/ff.c **** )
1981:Middlewares/Third_Party/FatFs/src/ff.c **** {
1982:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1983:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, sz_ent;
1984:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dirb = dp->obj.fs->dirbuf;	/* Pointer to the on-memory direcotry entry block 85+C0+C1s */
1985:Middlewares/Third_Party/FatFs/src/ff.c **** 
1986:Middlewares/Third_Party/FatFs/src/ff.c **** 
1987:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Load 85 entry */
1988:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = move_window(dp->obj.fs, dp->sect);
1989:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
1990:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dp->dir[XDIR_Type] != 0x85) return FR_INT_ERR;
1991:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(dirb + 0, dp->dir, SZDIRE);
1992:Middlewares/Third_Party/FatFs/src/ff.c **** 	sz_ent = (dirb[XDIR_NumSec] + 1) * SZDIRE;
1993:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sz_ent < 3 * SZDIRE || sz_ent > 19 * SZDIRE) return FR_INT_ERR;
1994:Middlewares/Third_Party/FatFs/src/ff.c **** 
1995:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Load C0 entry */
1996:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_next(dp, 0);
1997:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
1998:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = move_window(dp->obj.fs, dp->sect);
1999:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
2000:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dp->dir[XDIR_Type] != 0xC0) return FR_INT_ERR;
2001:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(dirb + SZDIRE, dp->dir, SZDIRE);
2002:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (MAXDIRB(dirb[XDIR_NumName]) > sz_ent) return FR_INT_ERR;
2003:Middlewares/Third_Party/FatFs/src/ff.c **** 
2004:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Load C1 entries */
2005:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = SZDIRE * 2;	/* C1 offset */
2006:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
2007:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_next(dp, 0);
2008:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
2009:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->obj.fs, dp->sect);
2010:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
2011:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (dp->dir[XDIR_Type] != 0xC1) return FR_INT_ERR;
2012:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i < MAXDIRB(_MAX_LFN)) mem_cpy(dirb + i, dp->dir, SZDIRE);
2013:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while ((i += SZDIRE) < sz_ent);
2014:Middlewares/Third_Party/FatFs/src/ff.c **** 
2015:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Sanity check (do it when accessible object name) */
2016:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i <= MAXDIRB(_MAX_LFN)) {
2017:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (xdir_sum(dirb) != ld_word(dirb + XDIR_SetSum)) return FR_INT_ERR;
2018:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2019:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
ARM GAS  /tmp/ccBfkcjf.s 			page 69


2020:Middlewares/Third_Party/FatFs/src/ff.c **** }
2021:Middlewares/Third_Party/FatFs/src/ff.c **** 
2022:Middlewares/Third_Party/FatFs/src/ff.c **** 
2023:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY || _FS_RPATH != 0
2024:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------*/
2025:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Load the object's directory entry block */
2026:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------*/
2027:Middlewares/Third_Party/FatFs/src/ff.c **** static
2028:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT load_obj_dir (
2029:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Blank directory object to be used to access containing direcotry */
2030:Middlewares/Third_Party/FatFs/src/ff.c **** 	const _FDID* obj	/* Object with its containing directory information */
2031:Middlewares/Third_Party/FatFs/src/ff.c **** )
2032:Middlewares/Third_Party/FatFs/src/ff.c **** {
2033:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2034:Middlewares/Third_Party/FatFs/src/ff.c **** 
2035:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Open object containing directory */
2036:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->obj.fs = obj->fs;
2037:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->obj.sclust = obj->c_scl;
2038:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->obj.stat = (BYTE)obj->c_size;
2039:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->obj.objsize = obj->c_size & 0xFFFFFF00;
2040:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->blk_ofs = obj->c_ofs;
2041:Middlewares/Third_Party/FatFs/src/ff.c **** 
2042:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, dp->blk_ofs);	/* Goto object's entry block */
2043:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
2044:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = load_xdir(dp);		/* Load the object's entry block */
2045:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2046:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
2047:Middlewares/Third_Party/FatFs/src/ff.c **** }
2048:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2049:Middlewares/Third_Party/FatFs/src/ff.c **** 
2050:Middlewares/Third_Party/FatFs/src/ff.c **** 
2051:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
2052:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------*/
2053:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Store the directory block to the media */
2054:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------*/
2055:Middlewares/Third_Party/FatFs/src/ff.c **** static
2056:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT store_xdir (
2057:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp				/* Pointer to the direcotry object */
2058:Middlewares/Third_Party/FatFs/src/ff.c **** )
2059:Middlewares/Third_Party/FatFs/src/ff.c **** {
2060:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2061:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nent;
2062:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dirb = dp->obj.fs->dirbuf;	/* Pointer to the direcotry entry block 85+C0+C1s */
2063:Middlewares/Third_Party/FatFs/src/ff.c **** 
2064:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create set sum */
2065:Middlewares/Third_Party/FatFs/src/ff.c **** 	st_word(dirb + XDIR_SetSum, xdir_sum(dirb));
2066:Middlewares/Third_Party/FatFs/src/ff.c **** 	nent = dirb[XDIR_NumSec] + 1;
2067:Middlewares/Third_Party/FatFs/src/ff.c **** 
2068:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Store the set of directory to the volume */
2069:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, dp->blk_ofs);
2070:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (res == FR_OK) {
2071:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->obj.fs, dp->sect);
2072:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
2073:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(dp->dir, dirb, SZDIRE);
2074:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->obj.fs->wflag = 1;
2075:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (--nent == 0) break;
2076:Middlewares/Third_Party/FatFs/src/ff.c **** 		dirb += SZDIRE;
ARM GAS  /tmp/ccBfkcjf.s 			page 70


2077:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_next(dp, 0);
2078:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2079:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (res == FR_OK || res == FR_DISK_ERR) ? res : FR_INT_ERR;
2080:Middlewares/Third_Party/FatFs/src/ff.c **** }
2081:Middlewares/Third_Party/FatFs/src/ff.c **** 
2082:Middlewares/Third_Party/FatFs/src/ff.c **** 
2083:Middlewares/Third_Party/FatFs/src/ff.c **** 
2084:Middlewares/Third_Party/FatFs/src/ff.c **** /*-------------------------------------------*/
2085:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Create a new directory enrty block */
2086:Middlewares/Third_Party/FatFs/src/ff.c **** /*-------------------------------------------*/
2087:Middlewares/Third_Party/FatFs/src/ff.c **** 
2088:Middlewares/Third_Party/FatFs/src/ff.c **** static
2089:Middlewares/Third_Party/FatFs/src/ff.c **** void create_xdir (
2090:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dirb,			/* Pointer to the direcotry entry block buffer */
2091:Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* lfn	/* Pointer to the nul terminated file name */
2092:Middlewares/Third_Party/FatFs/src/ff.c **** )
2093:Middlewares/Third_Party/FatFs/src/ff.c **** {
2094:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
2095:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE nb, nc;
2096:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR chr;
2097:Middlewares/Third_Party/FatFs/src/ff.c **** 
2098:Middlewares/Third_Party/FatFs/src/ff.c **** 
2099:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create 85+C0 entry */
2100:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(dirb, 0, 2 * SZDIRE);
2101:Middlewares/Third_Party/FatFs/src/ff.c **** 	dirb[XDIR_Type] = 0x85;
2102:Middlewares/Third_Party/FatFs/src/ff.c **** 	dirb[XDIR_Type + SZDIRE] = 0xC0;
2103:Middlewares/Third_Party/FatFs/src/ff.c **** 
2104:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create C1 entries */
2105:Middlewares/Third_Party/FatFs/src/ff.c **** 	nc = 0; nb = 1; chr = 1; i = SZDIRE * 2;
2106:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
2107:Middlewares/Third_Party/FatFs/src/ff.c **** 		dirb[i++] = 0xC1; dirb[i++] = 0;	/* Entry type C1 */
2108:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {	/* Fill name field */
2109:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (chr && (chr = lfn[nc]) != 0) nc++;	/* Get a character if exist */
2110:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(dirb + i, chr); 		/* Store it */
2111:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while ((i += 2) % SZDIRE != 0);
2112:Middlewares/Third_Party/FatFs/src/ff.c **** 		nb++;
2113:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (lfn[nc]);	/* Fill next entry if any char follows */
2114:Middlewares/Third_Party/FatFs/src/ff.c **** 
2115:Middlewares/Third_Party/FatFs/src/ff.c **** 	dirb[XDIR_NumName] = nc;	/* Set name length */
2116:Middlewares/Third_Party/FatFs/src/ff.c **** 	dirb[XDIR_NumSec] = nb;		/* Set block length */
2117:Middlewares/Third_Party/FatFs/src/ff.c **** 	st_word(dirb + XDIR_NameHash, xname_sum(lfn));	/* Set name hash */
2118:Middlewares/Third_Party/FatFs/src/ff.c **** }
2119:Middlewares/Third_Party/FatFs/src/ff.c **** 
2120:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* !_FS_READONLY */
2121:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_EXFAT */
2122:Middlewares/Third_Party/FatFs/src/ff.c **** 
2123:Middlewares/Third_Party/FatFs/src/ff.c **** 
2124:Middlewares/Third_Party/FatFs/src/ff.c **** 
2125:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1 || _FS_RPATH >= 2 || _USE_LABEL || _FS_EXFAT
2126:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2127:Middlewares/Third_Party/FatFs/src/ff.c **** /* Read an object from the directory                                     */
2128:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2129:Middlewares/Third_Party/FatFs/src/ff.c **** 
2130:Middlewares/Third_Party/FatFs/src/ff.c **** static
2131:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_read (
2132:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to the directory object */
2133:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol			/* Filtered by 0:file/directory or 1:volume label */
ARM GAS  /tmp/ccBfkcjf.s 			page 71


2134:Middlewares/Third_Party/FatFs/src/ff.c **** )
2135:Middlewares/Third_Party/FatFs/src/ff.c **** {
2136:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_NO_FILE;
2137:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
2138:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE a, c;
2139:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
2140:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ord = 0xFF, sum = 0xFF;
2141:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2142:Middlewares/Third_Party/FatFs/src/ff.c **** 
2143:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (dp->sect) {
2144:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
2145:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
2146:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dp->dir[DIR_Name];	/* Test for the entry type */
2147:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) {
2148:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_NO_FILE; break; /* Reached to end of the directory */
2149:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2150:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2151:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
2152:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (_USE_LABEL && vol) {
2153:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (c == 0x83) break;	/* Volume label entry? */
2154:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
2155:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (c == 0x85) {		/* Start of the file entry block? */
2156:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->blk_ofs = dp->dptr;	/* Get location of the block */
2157:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = load_xdir(dp);	/* Load the entry block */
2158:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
2159:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->obj.attr = fs->dirbuf[XDIR_Attr] & AM_MASK;	/* Get attribute */
2160:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2161:Middlewares/Third_Party/FatFs/src/ff.c **** 					break;
2162:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2163:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2164:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else
2165:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2166:Middlewares/Third_Party/FatFs/src/ff.c **** 		{	/* On the FAT12/16/32 volume */
2167:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->obj.attr = a = dp->dir[DIR_Attr] & AM_MASK;	/* Get attribute */
2168:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
2169:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c == DDEM || c == '.' || (int)((a & ~AM_ARC) == AM_VOL) != vol) {	/* An entry without valid 
2170:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF;
2171:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
2172:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (a == AM_LFN) {			/* An LFN entry is found */
2173:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c & LLEF) {			/* Is it start of an LFN sequence? */
2174:Middlewares/Third_Party/FatFs/src/ff.c **** 						sum = dp->dir[LDIR_Chksum];
2175:Middlewares/Third_Party/FatFs/src/ff.c **** 						c &= (BYTE)~LLEF; ord = c;
2176:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = dp->dptr;
2177:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2178:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Check LFN validity and capture it */
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 					ord = (c == ord && sum == dp->dir[LDIR_Chksum] && pick_lfn(fs->lfnbuf, dp->dir)) ? ord - 1 : 0
2180:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
2181:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ord || sum != sum_sfn(dp->dir)) {	/* Is there a valid LFN? */
2182:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = 0xFFFFFFFF;			/* It has no LFN. */
2183:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2184:Middlewares/Third_Party/FatFs/src/ff.c **** 					break;
2185:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2186:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2187:Middlewares/Third_Party/FatFs/src/ff.c **** #else		/* Non LFN configuration */
2188:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c != DDEM && c != '.' && a != AM_LFN && (int)((a & ~AM_ARC) == AM_VOL) == vol) {	/* Is it a 
2189:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
2190:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
ARM GAS  /tmp/ccBfkcjf.s 			page 72


2191:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2192:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2193:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_next(dp, 0);		/* Next entry */
2194:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
2195:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2196:Middlewares/Third_Party/FatFs/src/ff.c **** 
2197:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) dp->sect = 0;		/* Terminate the read operation on error or EOT */
2198:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
2199:Middlewares/Third_Party/FatFs/src/ff.c **** }
2200:Middlewares/Third_Party/FatFs/src/ff.c **** 
2201:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_MINIMIZE <= 1 || _USE_LABEL || _FS_RPATH >= 2 */
2202:Middlewares/Third_Party/FatFs/src/ff.c **** 
2203:Middlewares/Third_Party/FatFs/src/ff.c **** 
2204:Middlewares/Third_Party/FatFs/src/ff.c **** 
2205:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2206:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Find an object in the directory                  */
2207:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2208:Middlewares/Third_Party/FatFs/src/ff.c **** 
2209:Middlewares/Third_Party/FatFs/src/ff.c **** static
2210:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_find (	/* FR_OK(0):succeeded, !=0:error */
2211:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp			/* Pointer to the directory object with the file name */
2212:Middlewares/Third_Party/FatFs/src/ff.c **** )
2213:Middlewares/Third_Party/FatFs/src/ff.c **** {
2214:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2215:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
2216:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE c;
2217:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
2218:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE a, ord, sum;
2219:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2220:Middlewares/Third_Party/FatFs/src/ff.c **** 
2221:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, 0);			/* Rewind directory object */
2222:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
2223:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2224:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
2225:Middlewares/Third_Party/FatFs/src/ff.c **** 		BYTE nc;
2226:Middlewares/Third_Party/FatFs/src/ff.c **** 		UINT di, ni;
2227:Middlewares/Third_Party/FatFs/src/ff.c **** 		WORD hash = xname_sum(fs->lfnbuf);		/* Hash value of the name to find */
2228:Middlewares/Third_Party/FatFs/src/ff.c **** 
2229:Middlewares/Third_Party/FatFs/src/ff.c **** 		while ((res = dir_read(dp, 0)) == FR_OK) {	/* Read an item */
2230:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_LFN < 255
2231:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->dirbuf[XDIR_NumName] > _MAX_LFN) continue;			/* Skip comparison if inaccessible object n
2232:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2233:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ld_word(fs->dirbuf + XDIR_NameHash) != hash) continue;	/* Skip comparison if hash mismatched
2234:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (nc = fs->dirbuf[XDIR_NumName], di = SZDIRE * 2, ni = 0; nc; nc--, di += 2, ni++) {	/* Compa
2235:Middlewares/Third_Party/FatFs/src/ff.c **** 				if ((di % SZDIRE) == 0) di += 2;
2236:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ff_wtoupper(ld_word(fs->dirbuf + di)) != ff_wtoupper(fs->lfnbuf[ni])) break;
2237:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2238:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nc == 0 && !fs->lfnbuf[ni]) break;	/* Name matched? */
2239:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2240:Middlewares/Third_Party/FatFs/src/ff.c **** 		return res;
2241:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2242:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2243:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* On the FAT12/16/32 volume */
2244:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
2245:Middlewares/Third_Party/FatFs/src/ff.c **** 	ord = sum = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
2246:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2247:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
ARM GAS  /tmp/ccBfkcjf.s 			page 73


2248:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
2249:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
2250:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dp->dir[DIR_Name];
2251:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
2252:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
2253:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->obj.attr = a = dp->dir[DIR_Attr] & AM_MASK;
2254:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == DDEM || ((a & AM_VOL) && a != AM_LFN)) {	/* An entry without valid data */
2255:Middlewares/Third_Party/FatFs/src/ff.c **** 			ord = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
2256:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
2257:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (a == AM_LFN) {			/* An LFN entry is found */
2258:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!(dp->fn[NSFLAG] & NS_NOLFN)) {
2259:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c & LLEF) {		/* Is it start of LFN sequence? */
2260:Middlewares/Third_Party/FatFs/src/ff.c **** 						sum = dp->dir[LDIR_Chksum];
2261:Middlewares/Third_Party/FatFs/src/ff.c **** 						c &= (BYTE)~LLEF; ord = c;	/* LFN start order */
2262:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = dp->dptr;	/* Start offset of LFN */
2263:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2264:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Check validity of the LFN entry and compare it with given name */
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 					ord = (c == ord && sum == dp->dir[LDIR_Chksum] && cmp_lfn(fs->lfnbuf, dp->dir)) ? ord - 1 : 0x
2266:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2267:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* An SFN entry is found */
2268:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!ord && sum == sum_sfn(dp->dir)) break;	/* LFN matched? */
2269:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!(dp->fn[NSFLAG] & NS_LOSS) && !mem_cmp(dp->dir, dp->fn, 11)) break;	/* SFN matched? */
2270:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
2271:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2272:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2273:Middlewares/Third_Party/FatFs/src/ff.c **** #else		/* Non LFN configuration */
2274:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->obj.attr = dp->dir[DIR_Attr] & AM_MASK;
2275:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(dp->dir[DIR_Attr] & AM_VOL) && !mem_cmp(dp->dir, dp->fn, 11)) break;	/* Is it a valid entry
2276:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2277:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_next(dp, 0);	/* Next entry */
2278:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (res == FR_OK);
2279:Middlewares/Third_Party/FatFs/src/ff.c **** 
2280:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
2281:Middlewares/Third_Party/FatFs/src/ff.c **** }
2282:Middlewares/Third_Party/FatFs/src/ff.c **** 
2283:Middlewares/Third_Party/FatFs/src/ff.c **** 
2284:Middlewares/Third_Party/FatFs/src/ff.c **** 
2285:Middlewares/Third_Party/FatFs/src/ff.c **** 
2286:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
2287:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2288:Middlewares/Third_Party/FatFs/src/ff.c **** /* Register an object to the directory                                   */
2289:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2290:Middlewares/Third_Party/FatFs/src/ff.c **** 
2291:Middlewares/Third_Party/FatFs/src/ff.c **** static
2292:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_register (	/* FR_OK:succeeded, FR_DENIED:no free entry or too many SFN collision, FR_DI
2293:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp				/* Target directory with object name to be created */
2294:Middlewares/Third_Party/FatFs/src/ff.c **** )
2295:Middlewares/Third_Party/FatFs/src/ff.c **** {
2296:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2297:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
2298:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
2299:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n, nlen, nent;
2300:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sn[12], sum;
2301:Middlewares/Third_Party/FatFs/src/ff.c **** 
2302:Middlewares/Third_Party/FatFs/src/ff.c **** 
2303:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dp->fn[NSFLAG] & (NS_DOT | NS_NONAME)) return FR_INVALID_NAME;	/* Check name validity */
2304:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (nlen = 0; fs->lfnbuf[nlen]; nlen++) ;	/* Get lfn length */
ARM GAS  /tmp/ccBfkcjf.s 			page 74


2305:Middlewares/Third_Party/FatFs/src/ff.c **** 
2306:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2307:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
2308:Middlewares/Third_Party/FatFs/src/ff.c **** 		DIR dj;
2309:Middlewares/Third_Party/FatFs/src/ff.c **** 
2310:Middlewares/Third_Party/FatFs/src/ff.c **** 		nent = (nlen + 14) / 15 + 2;	/* Number of entries to allocate (85+C0+C1s) */
2311:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_alloc(dp, nent);		/* Allocate entries */
2312:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
2313:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->blk_ofs = dp->dptr - SZDIRE * (nent - 1);	/* Set the allocated entry block offset */
2314:Middlewares/Third_Party/FatFs/src/ff.c **** 
2315:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (dp->obj.sclust != 0 && (dp->obj.stat & 4)) {	/* Has the sub-directory been stretched? */
2316:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->obj.objsize += (DWORD)fs->csize * SS(fs);	/* Increase the directory size by cluster size */
2317:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = fill_first_frag(&dp->obj);				/* Fill first fragment on the FAT if needed */
2318:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
2319:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = fill_last_frag(&dp->obj, dp->clust, 0xFFFFFFFF);	/* Fill last fragment on the FAT if neede
2320:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
2321:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = load_obj_dir(&dj, &dp->obj);				/* Load the object status */
2322:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
2323:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_qword(fs->dirbuf + XDIR_FileSize, dp->obj.objsize);		/* Update the allocation status */
2324:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_qword(fs->dirbuf + XDIR_ValidFileSize, dp->obj.objsize);
2325:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbuf[XDIR_GenFlags] = dp->obj.stat | 1;
2326:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = store_xdir(&dj);							/* Store the object status */
2327:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
2328:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2329:Middlewares/Third_Party/FatFs/src/ff.c **** 
2330:Middlewares/Third_Party/FatFs/src/ff.c **** 		create_xdir(fs->dirbuf, fs->lfnbuf);	/* Create on-memory directory block to be written later */
2331:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_OK;
2332:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2333:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2334:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* On the FAT12/16/32 volume */
2335:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(sn, dp->fn, 12);
2336:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sn[NSFLAG] & NS_LOSS) {			/* When LFN is out of 8.3 format, generate a numbered name */
2337:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = NS_NOLFN;		/* Find only SFN */
2338:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (n = 1; n < 100; n++) {
2339:Middlewares/Third_Party/FatFs/src/ff.c **** 			gen_numname(dp->fn, sn, fs->lfnbuf, n);	/* Generate a numbered name */
2340:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Check if the name collides with existing SFN */
2341:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
2342:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2343:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n == 100) return FR_DENIED;		/* Abort if too many collisions */
2344:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_NO_FILE) return res;	/* Abort if the result is other than 'not collided' */
2345:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = sn[NSFLAG];
2346:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2347:Middlewares/Third_Party/FatFs/src/ff.c **** 
2348:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create an SFN with/without LFNs. */
2349:Middlewares/Third_Party/FatFs/src/ff.c **** 	nent = (sn[NSFLAG] & NS_LFN) ? (nlen + 12) / 13 + 1 : 1;	/* Number of entries to allocate */
2350:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, nent);		/* Allocate entries */
2351:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && --nent) {	/* Set LFN entry if needed */
2352:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, dp->dptr - nent * SZDIRE);
2353:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
2354:Middlewares/Third_Party/FatFs/src/ff.c **** 			sum = sum_sfn(dp->fn);	/* Checksum value of the SFN tied to the LFN */
2355:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {					/* Store LFN entries in bottom first */
2356:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = move_window(fs, dp->sect);
2357:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
2358:Middlewares/Third_Party/FatFs/src/ff.c **** 				put_lfn(fs->lfnbuf, dp->dir, (BYTE)nent, sum);
2359:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->wflag = 1;
2360:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_next(dp, 0);	/* Next entry */
2361:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (res == FR_OK && --nent);
ARM GAS  /tmp/ccBfkcjf.s 			page 75


2362:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2363:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2364:Middlewares/Third_Party/FatFs/src/ff.c **** 
2365:Middlewares/Third_Party/FatFs/src/ff.c **** #else	/* Non LFN configuration */
2366:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, 1);		/* Allocate an entry for SFN */
2367:Middlewares/Third_Party/FatFs/src/ff.c **** 
2368:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2369:Middlewares/Third_Party/FatFs/src/ff.c **** 
2370:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Set SFN entry */
2371:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
2372:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
2373:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
2374:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZDIRE);	/* Clean the entry */
2375:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(dp->dir + DIR_Name, dp->fn, 11);	/* Put SFN */
2376:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
2377:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->dir[DIR_NTres] = dp->fn[NSFLAG] & (NS_BODY | NS_EXT);	/* Put NT flag */
2378:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2379:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
2380:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2381:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2382:Middlewares/Third_Party/FatFs/src/ff.c **** 
2383:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
2384:Middlewares/Third_Party/FatFs/src/ff.c **** }
2385:Middlewares/Third_Party/FatFs/src/ff.c **** 
2386:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
2387:Middlewares/Third_Party/FatFs/src/ff.c **** 
2388:Middlewares/Third_Party/FatFs/src/ff.c **** 
2389:Middlewares/Third_Party/FatFs/src/ff.c **** 
2390:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE == 0
2391:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2392:Middlewares/Third_Party/FatFs/src/ff.c **** /* Remove an object from the directory                                   */
2393:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2394:Middlewares/Third_Party/FatFs/src/ff.c **** 
2395:Middlewares/Third_Party/FatFs/src/ff.c **** static
2396:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_remove (	/* FR_OK:Succeeded, FR_DISK_ERR:A disk error */
2397:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp				/* Directory object pointing the entry to be removed */
2398:Middlewares/Third_Party/FatFs/src/ff.c **** )
2399:Middlewares/Third_Party/FatFs/src/ff.c **** {
2400:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2401:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
2402:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
2403:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD last = dp->dptr;
2404:Middlewares/Third_Party/FatFs/src/ff.c **** 
2405:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = (dp->blk_ofs == 0xFFFFFFFF) ? FR_OK : dir_sdi(dp, dp->blk_ofs);	/* Goto top of the entry blo
2406:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
2407:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
2408:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, dp->sect);
2409:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
2410:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Mark an entry 'deleted' */
2411:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (_FS_EXFAT && fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
2412:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->dir[XDIR_Type] &= 0x7F;
2413:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* On the FAT12/16/32 volume */
2414:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->dir[DIR_Name] = DDEM;
2415:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2416:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
2417:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dptr >= last) break;	/* If reached last entry then all entries of the object has been de
2418:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_next(dp, 0);	/* Next entry */
ARM GAS  /tmp/ccBfkcjf.s 			page 76


2419:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);
2420:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_INT_ERR;
2421:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2422:Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* Non LFN configuration */
2423:Middlewares/Third_Party/FatFs/src/ff.c **** 
2424:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = move_window(fs, dp->sect);
2425:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
2426:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->dir[DIR_Name] = DDEM;
2427:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->wflag = 1;
2428:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2429:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2430:Middlewares/Third_Party/FatFs/src/ff.c **** 
2431:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
2432:Middlewares/Third_Party/FatFs/src/ff.c **** }
2433:Middlewares/Third_Party/FatFs/src/ff.c **** 
2434:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY && _FS_MINIMIZE == 0 */
2435:Middlewares/Third_Party/FatFs/src/ff.c **** 
2436:Middlewares/Third_Party/FatFs/src/ff.c **** 
2437:Middlewares/Third_Party/FatFs/src/ff.c **** 
2438:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1 || _FS_RPATH >= 2
2439:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2440:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get file information from directory entry                             */
2441:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2442:Middlewares/Third_Party/FatFs/src/ff.c **** 
2443:Middlewares/Third_Party/FatFs/src/ff.c **** static
2444:Middlewares/Third_Party/FatFs/src/ff.c **** void get_fileinfo (		/* No return code */
2445:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to the directory object */
2446:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno	 	/* Pointer to the file information to be filled */
2447:Middlewares/Third_Party/FatFs/src/ff.c **** )
2448:Middlewares/Third_Party/FatFs/src/ff.c **** {
2449:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j;
2450:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c;
2451:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD tm;
2452:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
2453:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w, lfv;
2454:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
2455:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2456:Middlewares/Third_Party/FatFs/src/ff.c **** 
2457:Middlewares/Third_Party/FatFs/src/ff.c **** 
2458:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fname[0] = 0;		/* Invaidate file info */
2459:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect) return;	/* Exit if read pointer has reached end of directory */
2460:Middlewares/Third_Party/FatFs/src/ff.c **** 
2461:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
2462:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2463:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
2464:Middlewares/Third_Party/FatFs/src/ff.c **** 		get_xdir_info(fs->dirbuf, fno);
2465:Middlewares/Third_Party/FatFs/src/ff.c **** 		return;
2466:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
2467:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2468:Middlewares/Third_Party/FatFs/src/ff.c **** 	{	/* On the FAT12/16/32 volume */
2469:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (dp->blk_ofs != 0xFFFFFFFF) {	/* Get LFN if available */
2470:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = j = 0;
2471:Middlewares/Third_Party/FatFs/src/ff.c **** 			while ((w = fs->lfnbuf[j++]) != 0) {	/* Get an LFN character */
2472:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
2473:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = ff_convert(w, 0);		/* Unicode -> OEM */
2474:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (w == 0) { i = 0; break; }	/* No LFN if it could not be converted */
2475:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (_DF1S && w >= 0x100) {	/* Put 1st byte if it is a DBC (always false at SBCS cfg) */
ARM GAS  /tmp/ccBfkcjf.s 			page 77


2476:Middlewares/Third_Party/FatFs/src/ff.c **** 					fno->fname[i++] = (char)(w >> 8);
2477:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2478:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2479:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i >= _MAX_LFN) { i = 0; break; }	/* No LFN if buffer overflow */
2480:Middlewares/Third_Party/FatFs/src/ff.c **** 				fno->fname[i++] = (TCHAR)w;
2481:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2482:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno->fname[i] = 0;	/* Terminate the LFN */
2483:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2484:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2485:Middlewares/Third_Party/FatFs/src/ff.c **** 
2486:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = j = 0;
2487:Middlewares/Third_Party/FatFs/src/ff.c **** 	lfv = fno->fname[i];	/* LFN is exist if non-zero */
2488:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (i < 11) {		/* Copy name body and extension */
2489:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (TCHAR)dp->dir[i++];
2490:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == ' ') continue;				/* Skip padding spaces */
2491:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == RDDEM) c = (TCHAR)DDEM;	/* Restore replaced DDEM character */
2492:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 9) {						/* Insert a . if extension is exist */
2493:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!lfv) fno->fname[j] = '.';
2494:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno->altname[j++] = '.';
2495:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2496:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
2497:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(c) && i != 8 && i != 11 && IsDBCS2(dp->dir[i])) {
2498:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = c << 8 | dp->dir[i++];
2499:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2500:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = ff_convert(c, 1);	/* OEM -> Unicode */
2501:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!c) c = '?';
2502:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2503:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->altname[j] = c;
2504:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!lfv) {
2505:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsUpper(c) && (dp->dir[DIR_NTres] & ((i >= 9) ? NS_EXT : NS_BODY))) {
2506:Middlewares/Third_Party/FatFs/src/ff.c **** 				c += 0x20;			/* To lower */
2507:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2508:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno->fname[j] = c;
2509:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2510:Middlewares/Third_Party/FatFs/src/ff.c **** 		j++;
2511:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2512:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!lfv) {
2513:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fname[j] = 0;
2514:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!dp->dir[DIR_NTres]) j = 0;	/* Altname is no longer needed if neither LFN nor case info is ex
2515:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2516:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->altname[j] = 0;	/* Terminate the SFN */
2517:Middlewares/Third_Party/FatFs/src/ff.c **** 
2518:Middlewares/Third_Party/FatFs/src/ff.c **** #else	/* Non-LFN configuration */
2519:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = j = 0;
2520:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (i < 11) {		/* Copy name body and extension */
2521:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (TCHAR)dp->dir[i++];
2522:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == ' ') continue;				/* Skip padding spaces */
2523:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == RDDEM) c = (TCHAR)DDEM;	/* Restore replaced DDEM character */
2524:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 9) fno->fname[j++] = '.';	/* Insert a . if extension is exist */
2525:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fname[j++] = c;
2526:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2527:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fname[j] = 0;
2528:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2529:Middlewares/Third_Party/FatFs/src/ff.c **** 
2530:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fattrib = dp->dir[DIR_Attr];				/* Attribute */
2531:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fsize = ld_dword(dp->dir + DIR_FileSize);	/* Size */
2532:Middlewares/Third_Party/FatFs/src/ff.c **** 	tm = ld_dword(dp->dir + DIR_ModTime);			/* Timestamp */
ARM GAS  /tmp/ccBfkcjf.s 			page 78


2533:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->ftime = (WORD)tm; fno->fdate = (WORD)(tm >> 16);
2534:Middlewares/Third_Party/FatFs/src/ff.c **** }
2535:Middlewares/Third_Party/FatFs/src/ff.c **** 
2536:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE <= 1 || _FS_RPATH >= 2 */
2537:Middlewares/Third_Party/FatFs/src/ff.c **** 
2538:Middlewares/Third_Party/FatFs/src/ff.c **** 
2539:Middlewares/Third_Party/FatFs/src/ff.c **** 
2540:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FIND && _FS_MINIMIZE <= 1
2541:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2542:Middlewares/Third_Party/FatFs/src/ff.c **** /* Pattern matching                                                      */
2543:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2544:Middlewares/Third_Party/FatFs/src/ff.c **** 
2545:Middlewares/Third_Party/FatFs/src/ff.c **** static
2546:Middlewares/Third_Party/FatFs/src/ff.c **** WCHAR get_achar (		/* Get a character and advances ptr 1 or 2 */
2547:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** ptr	/* Pointer to pointer to the SBCS/DBCS/Unicode string */
2548:Middlewares/Third_Party/FatFs/src/ff.c **** )
2549:Middlewares/Third_Party/FatFs/src/ff.c **** {
2550:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
2551:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR chr;
2552:Middlewares/Third_Party/FatFs/src/ff.c **** 
2553:Middlewares/Third_Party/FatFs/src/ff.c **** 	chr = (BYTE)*(*ptr)++;					/* Get a byte */
2554:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (IsLower(chr)) chr -= 0x20;			/* To upper ASCII char */
2555:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
2556:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (chr >= 0x80) chr = ExCvt[chr - 0x80];	/* To upper SBCS extended char */
2557:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2558:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (IsDBCS1(chr) && IsDBCS2(**ptr)) {		/* Get DBC 2nd byte if needed */
2559:Middlewares/Third_Party/FatFs/src/ff.c **** 		chr = chr << 8 | (BYTE)*(*ptr)++;
2560:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2561:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2562:Middlewares/Third_Party/FatFs/src/ff.c **** 	return chr;
2563:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2564:Middlewares/Third_Party/FatFs/src/ff.c **** 	return ff_wtoupper(*(*ptr)++);			/* Get a word and to upper */
2565:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2566:Middlewares/Third_Party/FatFs/src/ff.c **** }
2567:Middlewares/Third_Party/FatFs/src/ff.c **** 
2568:Middlewares/Third_Party/FatFs/src/ff.c **** 
2569:Middlewares/Third_Party/FatFs/src/ff.c **** static
2570:Middlewares/Third_Party/FatFs/src/ff.c **** int pattern_matching (	/* 0:not matched, 1:matched */
2571:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* pat,	/* Matching pattern */
2572:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* nam,	/* String to be tested */
2573:Middlewares/Third_Party/FatFs/src/ff.c **** 	int skip,			/* Number of pre-skip chars (number of ?s) */
2574:Middlewares/Third_Party/FatFs/src/ff.c **** 	int inf				/* Infinite search (* specified) */
2575:Middlewares/Third_Party/FatFs/src/ff.c **** )
2576:Middlewares/Third_Party/FatFs/src/ff.c **** {
2577:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *pp, *np;
2578:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR pc, nc;
2579:Middlewares/Third_Party/FatFs/src/ff.c **** 	int nm, nx;
2580:Middlewares/Third_Party/FatFs/src/ff.c **** 
2581:Middlewares/Third_Party/FatFs/src/ff.c **** 
2582:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (skip--) {				/* Pre-skip name chars */
2583:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!get_achar(&nam)) return 0;	/* Branch mismatched if less name chars */
2584:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2585:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!*pat && inf) return 1;		/* (short circuit) */
2586:Middlewares/Third_Party/FatFs/src/ff.c **** 
2587:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
2588:Middlewares/Third_Party/FatFs/src/ff.c **** 		pp = pat; np = nam;			/* Top of pattern and name to match */
2589:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
ARM GAS  /tmp/ccBfkcjf.s 			page 79


2590:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (*pp == '?' || *pp == '*') {	/* Wildcard? */
2591:Middlewares/Third_Party/FatFs/src/ff.c **** 				nm = nx = 0;
2592:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {				/* Analyze the wildcard chars */
2593:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (*pp++ == '?') nm++; else nx = 1;
2594:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (*pp == '?' || *pp == '*');
2595:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (pattern_matching(pp, np, nm, nx)) return 1;	/* Test new branch (recurs upto number of wildc
2596:Middlewares/Third_Party/FatFs/src/ff.c **** 				nc = *np; break;	/* Branch mismatched */
2597:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2598:Middlewares/Third_Party/FatFs/src/ff.c **** 			pc = get_achar(&pp);	/* Get a pattern char */
2599:Middlewares/Third_Party/FatFs/src/ff.c **** 			nc = get_achar(&np);	/* Get a name char */
2600:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (pc != nc) break;	/* Branch mismatched? */
2601:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (pc == 0) return 1;	/* Branch matched? (matched at end of both strings) */
2602:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2603:Middlewares/Third_Party/FatFs/src/ff.c **** 		get_achar(&nam);			/* nam++ */
2604:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (inf && nc);			/* Retry until end of name if infinite search is specified */
2605:Middlewares/Third_Party/FatFs/src/ff.c **** 
2606:Middlewares/Third_Party/FatFs/src/ff.c **** 	return 0;
2607:Middlewares/Third_Party/FatFs/src/ff.c **** }
2608:Middlewares/Third_Party/FatFs/src/ff.c **** 
2609:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_FIND && _FS_MINIMIZE <= 1 */
2610:Middlewares/Third_Party/FatFs/src/ff.c **** 
2611:Middlewares/Third_Party/FatFs/src/ff.c **** 
2612:Middlewares/Third_Party/FatFs/src/ff.c **** 
2613:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2614:Middlewares/Third_Party/FatFs/src/ff.c **** /* Pick a top segment and create the object name in directory form       */
2615:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2616:Middlewares/Third_Party/FatFs/src/ff.c **** 
2617:Middlewares/Third_Party/FatFs/src/ff.c **** static
2618:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT create_name (	/* FR_OK: successful, FR_INVALID_NAME: could not create */
2619:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to the directory object */
2620:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** path	/* Pointer to pointer to the segment in the path string */
2621:Middlewares/Third_Party/FatFs/src/ff.c **** )
2622:Middlewares/Third_Party/FatFs/src/ff.c **** {
2623:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
2624:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE b, cf;
2625:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w, *lfn;
2626:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, ni, si, di;
2627:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *p;
2628:Middlewares/Third_Party/FatFs/src/ff.c **** 
2629:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create LFN in Unicode */
2630:Middlewares/Third_Party/FatFs/src/ff.c **** 	p = *path; lfn = dp->obj.fs->lfnbuf; si = di = 0;
2631:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
2632:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = p[si++];					/* Get a character */
2633:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w < ' ') break;				/* Break if end of the path name */
2634:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w == '/' || w == '\\') {	/* Break if a separator is found */
2635:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (p[si] == '/' || p[si] == '\\') si++;	/* Skip duplicated separator if exist */
2636:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
2637:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2638:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (di >= _MAX_LFN) return FR_INVALID_NAME;	/* Reject too long name */
2639:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
2640:Middlewares/Third_Party/FatFs/src/ff.c **** 		w &= 0xFF;
2641:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(w)) {				/* Check if it is a DBC 1st byte (always false on SBCS cfg) */
2642:Middlewares/Third_Party/FatFs/src/ff.c **** 			b = (BYTE)p[si++];			/* Get 2nd byte */
2643:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = (w << 8) + b;			/* Create a DBC */
2644:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!IsDBCS2(b)) return FR_INVALID_NAME;	/* Reject invalid sequence */
2645:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2646:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = ff_convert(w, 1);			/* Convert ANSI/OEM to Unicode */
ARM GAS  /tmp/ccBfkcjf.s 			page 80


2647:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!w) return FR_INVALID_NAME;	/* Reject invalid code */
2648:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2649:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w < 0x80 && chk_chr("\"*:<>\?|\x7F", w)) return FR_INVALID_NAME;	/* Reject illegal characters
2650:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfn[di++] = w;					/* Store the Unicode character */
2651:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2652:Middlewares/Third_Party/FatFs/src/ff.c **** 	*path = &p[si];						/* Return pointer to the next segment */
2653:Middlewares/Third_Party/FatFs/src/ff.c **** 	cf = (w < ' ') ? NS_LAST : 0;		/* Set last segment flag if end of the path */
2654:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
2655:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((di == 1 && lfn[di - 1] == '.') ||
2656:Middlewares/Third_Party/FatFs/src/ff.c **** 		(di == 2 && lfn[di - 1] == '.' && lfn[di - 2] == '.')) {	/* Is this segment a dot name? */
2657:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfn[di] = 0;
2658:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 11; i++)		/* Create dot name for SFN entry */
2659:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fn[i] = (i < di) ? '.' : ' ';
2660:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[i] = cf | NS_DOT;		/* This is a dot entry */
2661:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_OK;
2662:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2663:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2664:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (di) {						/* Snip off trailing spaces and dots if exist */
2665:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = lfn[di - 1];
2666:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w != ' ' && w != '.') break;
2667:Middlewares/Third_Party/FatFs/src/ff.c **** 		di--;
2668:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2669:Middlewares/Third_Party/FatFs/src/ff.c **** 	lfn[di] = 0;						/* LFN is created */
2670:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (di == 0) return FR_INVALID_NAME;	/* Reject nul name */
2671:Middlewares/Third_Party/FatFs/src/ff.c **** 
2672:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create SFN in directory form */
2673:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(dp->fn, ' ', 11);
2674:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (si = 0; lfn[si] == ' ' || lfn[si] == '.'; si++) ;	/* Strip leading spaces and dots */
2675:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (si) cf |= NS_LOSS | NS_LFN;
2676:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (di && lfn[di - 1] != '.') di--;	/* Find extension (di<=si: no extension) */
2677:Middlewares/Third_Party/FatFs/src/ff.c **** 
2678:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = b = 0; ni = 8;
2679:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
2680:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = lfn[si++];					/* Get an LFN character */
2681:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!w) break;					/* Break on end of the LFN */
2682:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w == ' ' || (w == '.' && si != di)) {	/* Remove spaces and dots */
2683:Middlewares/Third_Party/FatFs/src/ff.c **** 			cf |= NS_LOSS | NS_LFN; continue;
2684:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2685:Middlewares/Third_Party/FatFs/src/ff.c **** 
2686:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i >= ni || si == di) {		/* Extension or end of SFN */
2687:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni == 11) {				/* Long extension */
2688:Middlewares/Third_Party/FatFs/src/ff.c **** 				cf |= NS_LOSS | NS_LFN; break;
2689:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2690:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (si != di) cf |= NS_LOSS | NS_LFN;	/* Out of 8.3 format */
2691:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (si > di) break;			/* No extension */
2692:Middlewares/Third_Party/FatFs/src/ff.c **** 			si = di; i = 8; ni = 11;	/* Enter extension section */
2693:Middlewares/Third_Party/FatFs/src/ff.c **** 			b <<= 2; continue;
2694:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2695:Middlewares/Third_Party/FatFs/src/ff.c **** 
2696:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w >= 0x80) {				/* Non ASCII character */
2697:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
2698:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = ff_convert(w, 0);		/* Unicode -> OEM code */
2699:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (w) w = ExCvt[w - 0x80];	/* Convert extended character to upper (SBCS) */
2700:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2701:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = ff_convert(ff_wtoupper(w), 0);	/* Upper converted Unicode -> OEM code */
2702:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2703:Middlewares/Third_Party/FatFs/src/ff.c **** 			cf |= NS_LFN;				/* Force create LFN entry */
ARM GAS  /tmp/ccBfkcjf.s 			page 81


2704:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2705:Middlewares/Third_Party/FatFs/src/ff.c **** 
2706:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_DF1S && w >= 0x100) {		/* Is this DBC? (always false at SBCS cfg) */
2707:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= ni - 1) {
2708:Middlewares/Third_Party/FatFs/src/ff.c **** 				cf |= NS_LOSS | NS_LFN; i = ni; continue;
2709:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2710:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fn[i++] = (BYTE)(w >> 8);
2711:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {						/* SBC */
2712:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!w || chk_chr("+,;=[]", w)) {	/* Replace illegal characters for SFN */
2713:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = '_'; cf |= NS_LOSS | NS_LFN;/* Lossy conversion */
2714:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
2715:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (IsUpper(w)) {		/* ASCII large capital */
2716:Middlewares/Third_Party/FatFs/src/ff.c **** 					b |= 2;
2717:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
2718:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (IsLower(w)) {	/* ASCII small capital */
2719:Middlewares/Third_Party/FatFs/src/ff.c **** 						b |= 1; w -= 0x20;
2720:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2721:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2722:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2723:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2724:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[i++] = (BYTE)w;
2725:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2726:Middlewares/Third_Party/FatFs/src/ff.c **** 
2727:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dp->fn[0] == DDEM) dp->fn[0] = RDDEM;	/* If the first character collides with DDEM, replace it
2728:Middlewares/Third_Party/FatFs/src/ff.c **** 
2729:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ni == 8) b <<= 2;
2730:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x0C || (b & 0x03) == 0x03) cf |= NS_LFN;	/* Create LFN entry when there are com
2731:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(cf & NS_LFN)) {						/* When LFN is in 8.3 format without extended character, NT flags are c
2732:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((b & 0x03) == 0x01) cf |= NS_EXT;	/* NT flag (Extension has only small capital) */
2733:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((b & 0x0C) == 0x04) cf |= NS_BODY;	/* NT flag (Filename has only small capital) */
2734:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2735:Middlewares/Third_Party/FatFs/src/ff.c **** 
2736:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->fn[NSFLAG] = cf;	/* SFN is created */
2737:Middlewares/Third_Party/FatFs/src/ff.c **** 
2738:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
2739:Middlewares/Third_Party/FatFs/src/ff.c **** 
2740:Middlewares/Third_Party/FatFs/src/ff.c **** 
2741:Middlewares/Third_Party/FatFs/src/ff.c **** #else	/* _USE_LFN != 0 : Non-LFN configuration */
2742:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE c, d, *sfn;
2743:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT ni, si, i;
2744:Middlewares/Third_Party/FatFs/src/ff.c **** 	const char *p;
2745:Middlewares/Third_Party/FatFs/src/ff.c **** 
2746:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create file name in directory form */
2747:Middlewares/Third_Party/FatFs/src/ff.c **** 	p = *path; sfn = dp->fn;
2748:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(sfn, ' ', 11);
2749:Middlewares/Third_Party/FatFs/src/ff.c **** 	si = i = 0; ni = 8;
2750:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
2751:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (p[si] == '.') { /* Is this a dot entry? */
2752:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
2753:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = (BYTE)p[si++];
2754:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c != '.' || si >= 3) break;
2755:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
2756:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2757:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != '/' && c != '\\' && c > ' ') return FR_INVALID_NAME;
2758:Middlewares/Third_Party/FatFs/src/ff.c **** 		*path = p + si;								/* Return pointer to the next segment */
2759:Middlewares/Third_Party/FatFs/src/ff.c **** 		sfn[NSFLAG] = (c <= ' ') ? NS_LAST | NS_DOT : NS_DOT;	/* Set last segment flag if end of the path
2760:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_OK;
ARM GAS  /tmp/ccBfkcjf.s 			page 82


2761:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2762:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2763:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
2764:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (BYTE)p[si++];
2765:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c <= ' ') break; 			/* Break if end of the path name */
2766:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '/' || c == '\\') {	/* Break if a separator is found */
2767:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (p[si] == '/' || p[si] == '\\') si++;	/* Skip duplicated separator if exist */
2768:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
2769:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2770:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '.' || i >= ni) {		/* End of body or over size? */
2771:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni == 11 || c != '.') return FR_INVALID_NAME;	/* Over size or invalid dot */
2772:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;				/* Goto extension */
2773:Middlewares/Third_Party/FatFs/src/ff.c **** 			continue;
2774:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2775:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c >= 0x80) {				/* Extended character? */
2776:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
2777:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = ExCvt[c - 0x80];		/* To upper extended characters (SBCS cfg) */
2778:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2779:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_DF1S
2780:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_INVALID_NAME;		/* Reject extended characters (ASCII only cfg) */
2781:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2782:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2783:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2784:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(c)) {				/* Check if it is a DBC 1st byte (always false at SBCS cfg.) */
2785:Middlewares/Third_Party/FatFs/src/ff.c **** 			d = (BYTE)p[si++];			/* Get 2nd byte */
2786:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!IsDBCS2(d) || i >= ni - 1) return FR_INVALID_NAME;	/* Reject invalid DBC */
2787:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
2788:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = d;
2789:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {						/* SBC */
2790:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (chk_chr("\"*+,:;<=>\?[]|\x7F", c)) return FR_INVALID_NAME;	/* Reject illegal chrs for SFN */
2791:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsLower(c)) c -= 0x20;	/* To upper */
2792:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
2793:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2794:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2795:Middlewares/Third_Party/FatFs/src/ff.c **** 	*path = p + si;						/* Return pointer to the next segment */
2796:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i == 0) return FR_INVALID_NAME;	/* Reject nul string */
2797:Middlewares/Third_Party/FatFs/src/ff.c **** 
2798:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sfn[0] == DDEM) sfn[0] = RDDEM;	/* If the first character collides with DDEM, replace it with 
2799:Middlewares/Third_Party/FatFs/src/ff.c **** 	sfn[NSFLAG] = (c <= ' ') ? NS_LAST : 0;		/* Set last segment flag if end of the path */
2800:Middlewares/Third_Party/FatFs/src/ff.c **** 
2801:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
2802:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_LFN != 0 */
2803:Middlewares/Third_Party/FatFs/src/ff.c **** }
2804:Middlewares/Third_Party/FatFs/src/ff.c **** 
2805:Middlewares/Third_Party/FatFs/src/ff.c **** 
2806:Middlewares/Third_Party/FatFs/src/ff.c **** 
2807:Middlewares/Third_Party/FatFs/src/ff.c **** 
2808:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2809:Middlewares/Third_Party/FatFs/src/ff.c **** /* Follow a file path                                                    */
2810:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2811:Middlewares/Third_Party/FatFs/src/ff.c **** 
2812:Middlewares/Third_Party/FatFs/src/ff.c **** static
2813:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT follow_path (	/* FR_OK(0): successful, !=0: error code */
2814:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Directory object to return last directory and found object */
2815:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path	/* Full-path string to find a file or directory */
2816:Middlewares/Third_Party/FatFs/src/ff.c **** )
2817:Middlewares/Third_Party/FatFs/src/ff.c **** {
ARM GAS  /tmp/ccBfkcjf.s 			page 83


2818:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2819:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ns;
2820:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID *obj = &dp->obj;
2821:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
2822:Middlewares/Third_Party/FatFs/src/ff.c **** 
2823:Middlewares/Third_Party/FatFs/src/ff.c **** 
2824:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
2825:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (*path != '/' && *path != '\\') {	/* Without heading separator */
2826:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = fs->cdir;				/* Start from current directory */
2827:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
2828:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2829:Middlewares/Third_Party/FatFs/src/ff.c **** 	{										/* With heading separator */
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (*path == '/' || *path == '\\') path++;	/* Strip heading separator */
2831:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = 0;					/* Start from root directory */
2832:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2833:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2834:Middlewares/Third_Party/FatFs/src/ff.c **** 	obj->n_frag = 0;	/* Invalidate last fragment counter of the object */
2835:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
2836:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT && obj->sclust) {	/* Retrieve the sub-directory status if needed */
2837:Middlewares/Third_Party/FatFs/src/ff.c **** 		DIR dj;
2838:Middlewares/Third_Party/FatFs/src/ff.c **** 
2839:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->c_scl = fs->cdc_scl;
2840:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->c_size = fs->cdc_size;
2841:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->c_ofs = fs->cdc_ofs;
2842:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = load_obj_dir(&dj, obj);
2843:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
2844:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->objsize = ld_dword(fs->dirbuf + XDIR_FileSize);
2845:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->stat = fs->dirbuf[XDIR_GenFlags] & 2;
2846:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2847:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2848:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2849:Middlewares/Third_Party/FatFs/src/ff.c **** 
2850:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((UINT)*path < ' ') {				/* Null path name is the origin directory itself */
2851:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = NS_NONAME;
2852:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, 0);
2853:Middlewares/Third_Party/FatFs/src/ff.c **** 
2854:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {								/* Follow path */
2855:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
2856:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = create_name(dp, &path);	/* Get a segment name of the path */
2857:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
2858:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Find an object with the segment name */
2859:Middlewares/Third_Party/FatFs/src/ff.c **** 			ns = dp->fn[NSFLAG];
2860:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {				/* Failed to find the object */
2861:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {	/* Object is not found */
2862:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (_FS_RPATH && (ns & NS_DOT)) {	/* If dot entry is not exist, stay there */
2863:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!(ns & NS_LAST)) continue;	/* Continue to follow if not last segment */
2864:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fn[NSFLAG] = NS_NONAME;
2865:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_OK;
2866:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {							/* Could not find the object */
2867:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!(ns & NS_LAST)) res = FR_NO_PATH;	/* Adjust error code if not last segment */
2868:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2869:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2870:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
2871:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2872:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ns & NS_LAST) break;			/* Last segment matched. Function completed. */
2873:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Get into the sub-directory */
2874:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(obj->attr & AM_DIR)) {		/* It is not a sub-directory and cannot follow */
ARM GAS  /tmp/ccBfkcjf.s 			page 84


2875:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_PATH; break;
2876:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2877:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2878:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {		/* Save containing directory information for next dir */
2879:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->c_scl = obj->sclust;
2880:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->c_size = ((DWORD)obj->objsize & 0xFFFFFF00) | obj->stat;
2881:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->c_ofs = dp->blk_ofs;
2882:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->sclust = ld_dword(fs->dirbuf + XDIR_FstClus);	/* Open next directory */
2883:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->stat = fs->dirbuf[XDIR_GenFlags] & 2;
2884:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->objsize = ld_qword(fs->dirbuf + XDIR_FileSize);
2885:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else
2886:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2887:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->sclust = ld_clust(fs, fs->win + dp->dptr % SS(fs));	/* Open next directory */
2889:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2890:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2891:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2892:Middlewares/Third_Party/FatFs/src/ff.c **** 
2893:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
2894:Middlewares/Third_Party/FatFs/src/ff.c **** }
2895:Middlewares/Third_Party/FatFs/src/ff.c **** 
2896:Middlewares/Third_Party/FatFs/src/ff.c **** 
2897:Middlewares/Third_Party/FatFs/src/ff.c **** 
2898:Middlewares/Third_Party/FatFs/src/ff.c **** 
2899:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2900:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get logical drive number from path name                               */
2901:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2902:Middlewares/Third_Party/FatFs/src/ff.c **** 
2903:Middlewares/Third_Party/FatFs/src/ff.c **** static
2904:Middlewares/Third_Party/FatFs/src/ff.c **** int get_ldnumber (		/* Returns logical drive number (-1:invalid drive) */
2905:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** path	/* Pointer to pointer to the path name */
2906:Middlewares/Third_Party/FatFs/src/ff.c **** )
2907:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1744              		.loc 1 2907 1 is_stmt 1 view -0
 1745              		.cfi_startproc
 1746              		@ args = 0, pretend = 0, frame = 0
 1747              		@ frame_needed = 0, uses_anonymous_args = 0
 1748              		@ link register save eliminated.
 1749              		.loc 1 2907 1 is_stmt 0 view .LVU534
 1750 0000 0146     		mov	r1, r0
2908:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *tp, *tt;
 1751              		.loc 1 2908 2 is_stmt 1 view .LVU535
2909:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 1752              		.loc 1 2909 2 view .LVU536
2910:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol = -1;
 1753              		.loc 1 2910 2 view .LVU537
 1754              	.LVL189:
2911:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
2912:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const char* const volid[] = {_VOLUME_STRS};
2913:Middlewares/Third_Party/FatFs/src/ff.c **** 	const char *sp;
2914:Middlewares/Third_Party/FatFs/src/ff.c **** 	char c;
2915:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR tc;
2916:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2917:Middlewares/Third_Party/FatFs/src/ff.c **** 
2918:Middlewares/Third_Party/FatFs/src/ff.c **** 
2919:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (*path) {	/* If the pointer is not a null */
 1755              		.loc 1 2919 2 view .LVU538
ARM GAS  /tmp/ccBfkcjf.s 			page 85


 1756              		.loc 1 2919 6 is_stmt 0 view .LVU539
 1757 0002 0068     		ldr	r0, [r0]
 1758              	.LVL190:
 1759              		.loc 1 2919 5 view .LVU540
 1760 0004 08B1     		cbz	r0, .L156
2920:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (tt = *path; (UINT)*tt >= (_USE_LFN ? ' ' : '!') && *tt != ':'; tt++) ;	/* Find ':' in the pa
 1761              		.loc 1 2920 11 view .LVU541
 1762 0006 0246     		mov	r2, r0
 1763 0008 03E0     		b	.L148
 1764              	.L156:
2910:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol = -1;
 1765              		.loc 1 2910 6 view .LVU542
 1766 000a 4FF0FF30 		mov	r0, #-1
 1767 000e 7047     		bx	lr
 1768              	.LVL191:
 1769              	.L150:
 1770              		.loc 1 2920 77 is_stmt 1 discriminator 3 view .LVU543
 1771              		.loc 1 2920 71 discriminator 3 view .LVU544
 1772              		.loc 1 2920 73 is_stmt 0 discriminator 3 view .LVU545
 1773 0010 0132     		adds	r2, r2, #1
 1774              	.LVL192:
 1775              	.L148:
 1776              		.loc 1 2920 20 is_stmt 1 discriminator 1 view .LVU546
 1777              		.loc 1 2920 26 is_stmt 0 discriminator 1 view .LVU547
 1778 0012 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1779              		.loc 1 2920 3 discriminator 1 view .LVU548
 1780 0014 3A2B     		cmp	r3, #58
 1781 0016 18BF     		it	ne
 1782 0018 1F2B     		cmpne	r3, #31
 1783 001a F9D8     		bhi	.L150
2921:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (*tt == ':') {	/* If a ':' is exist in the path name */
 1784              		.loc 1 2921 3 is_stmt 1 view .LVU549
 1785              		.loc 1 2921 6 is_stmt 0 view .LVU550
 1786 001c 3A2B     		cmp	r3, #58
 1787 001e 01D0     		beq	.L157
2922:Middlewares/Third_Party/FatFs/src/ff.c **** 			tp = *path;
2923:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = *tp++ - '0';
2924:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
2925:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
2926:Middlewares/Third_Party/FatFs/src/ff.c **** 					vol = (int)i;
2927:Middlewares/Third_Party/FatFs/src/ff.c **** 					*path = ++tt;
2928:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2929:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2930:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID
2931:Middlewares/Third_Party/FatFs/src/ff.c **** 			 else {	/* No numeric drive number, find string drive id */
2932:Middlewares/Third_Party/FatFs/src/ff.c **** 				i = 0; tt++;
2933:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
2934:Middlewares/Third_Party/FatFs/src/ff.c **** 					sp = volid[i]; tp = *path;
2935:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {	/* Compare a string drive id with path name */
2936:Middlewares/Third_Party/FatFs/src/ff.c **** 						c = *sp++; tc = *tp++;
2937:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (IsLower(tc)) tc -= 0x20;
2938:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (c && (TCHAR)c == tc);
2939:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while ((c || tp != tt) && ++i < _VOLUMES);	/* Repeat for each id until pattern match */
2940:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
2941:Middlewares/Third_Party/FatFs/src/ff.c **** 					vol = (int)i;
2942:Middlewares/Third_Party/FatFs/src/ff.c **** 					*path = tt;
2943:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
ARM GAS  /tmp/ccBfkcjf.s 			page 86


2944:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2945:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2946:Middlewares/Third_Party/FatFs/src/ff.c **** 			return vol;
2947:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2948:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0 && _VOLUMES >= 2
2949:Middlewares/Third_Party/FatFs/src/ff.c **** 		vol = CurrVol;	/* Current drive */
2950:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2951:Middlewares/Third_Party/FatFs/src/ff.c **** 		vol = 0;		/* Drive 0 */
 1788              		.loc 1 2951 7 view .LVU551
 1789 0020 0020     		movs	r0, #0
 1790              	.LVL193:
2952:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2953:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2954:Middlewares/Third_Party/FatFs/src/ff.c **** 	return vol;
2955:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1791              		.loc 1 2955 1 view .LVU552
 1792 0022 7047     		bx	lr
 1793              	.LVL194:
 1794              	.L157:
2922:Middlewares/Third_Party/FatFs/src/ff.c **** 			tp = *path;
 1795              		.loc 1 2922 4 is_stmt 1 view .LVU553
2923:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
 1796              		.loc 1 2923 4 view .LVU554
2923:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
 1797              		.loc 1 2923 11 is_stmt 0 view .LVU555
 1798 0024 0346     		mov	r3, r0
 1799              	.LVL195:
2923:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
 1800              		.loc 1 2923 8 view .LVU556
 1801 0026 13F8010B 		ldrb	r0, [r3], #1	@ zero_extendqisi2
 1802              	.LVL196:
2923:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
 1803              		.loc 1 2923 14 view .LVU557
 1804 002a 3038     		subs	r0, r0, #48
 1805              	.LVL197:
2924:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
 1806              		.loc 1 2924 4 is_stmt 1 view .LVU558
2924:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
 1807              		.loc 1 2924 7 is_stmt 0 view .LVU559
 1808 002c 0928     		cmp	r0, #9
 1809 002e 98BF     		it	ls
 1810 0030 9A42     		cmpls	r2, r3
 1811 0032 03D1     		bne	.L154
2925:Middlewares/Third_Party/FatFs/src/ff.c **** 					vol = (int)i;
 1812              		.loc 1 2925 5 is_stmt 1 view .LVU560
2925:Middlewares/Third_Party/FatFs/src/ff.c **** 					vol = (int)i;
 1813              		.loc 1 2925 8 is_stmt 0 view .LVU561
 1814 0034 28B9     		cbnz	r0, .L155
2926:Middlewares/Third_Party/FatFs/src/ff.c **** 					*path = ++tt;
 1815              		.loc 1 2926 6 is_stmt 1 view .LVU562
 1816              	.LVL198:
2927:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1817              		.loc 1 2927 6 view .LVU563
2927:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1818              		.loc 1 2927 12 is_stmt 0 view .LVU564
 1819 0036 0132     		adds	r2, r2, #1
 1820              	.LVL199:
ARM GAS  /tmp/ccBfkcjf.s 			page 87


2927:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1821              		.loc 1 2927 12 view .LVU565
 1822 0038 0A60     		str	r2, [r1]
 1823 003a 7047     		bx	lr
 1824              	.LVL200:
 1825              	.L154:
2910:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
 1826              		.loc 1 2910 6 view .LVU566
 1827 003c 4FF0FF30 		mov	r0, #-1
 1828              	.LVL201:
2910:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
 1829              		.loc 1 2910 6 view .LVU567
 1830 0040 7047     		bx	lr
 1831              	.LVL202:
 1832              	.L155:
2910:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
 1833              		.loc 1 2910 6 view .LVU568
 1834 0042 4FF0FF30 		mov	r0, #-1
 1835              	.LVL203:
2946:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 1836              		.loc 1 2946 4 is_stmt 1 view .LVU569
2946:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 1837              		.loc 1 2946 11 is_stmt 0 view .LVU570
 1838 0046 7047     		bx	lr
 1839              		.cfi_endproc
 1840              	.LFE389:
 1842              		.section	.text.putc_init,"ax",%progbits
 1843              		.align	1
 1844              		.syntax unified
 1845              		.thumb
 1846              		.thumb_func
 1847              		.fpu fpv5-d16
 1849              	putc_init:
 1850              	.LVL204:
 1851              	.LFB413:
2956:Middlewares/Third_Party/FatFs/src/ff.c **** 
2957:Middlewares/Third_Party/FatFs/src/ff.c **** 
2958:Middlewares/Third_Party/FatFs/src/ff.c **** 
2959:Middlewares/Third_Party/FatFs/src/ff.c **** 
2960:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2961:Middlewares/Third_Party/FatFs/src/ff.c **** /* Load a sector and check if it is an FAT boot sector                   */
2962:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2963:Middlewares/Third_Party/FatFs/src/ff.c **** 
2964:Middlewares/Third_Party/FatFs/src/ff.c **** static
2965:Middlewares/Third_Party/FatFs/src/ff.c **** BYTE check_fs (	/* 0:FAT, 1:exFAT, 2:Valid BS but not FAT, 3:Not a BS, 4:Disk error */
2966:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* File system object */
2967:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sect	/* Sector# (lba) to load and check if it is an FAT-VBR or not */
2968:Middlewares/Third_Party/FatFs/src/ff.c **** )
2969:Middlewares/Third_Party/FatFs/src/ff.c **** {
2970:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->wflag = 0; fs->winsect = 0xFFFFFFFF;		/* Invaidate window */
2971:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (move_window(fs, sect) != FR_OK) return 4;	/* Load boot record */
2972:Middlewares/Third_Party/FatFs/src/ff.c **** 
2973:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ld_word(fs->win + BS_55AA) != 0xAA55) return 3;	/* Check boot record signature (always placed 
2974:Middlewares/Third_Party/FatFs/src/ff.c **** 
2975:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->win[BS_JmpBoot] == 0xE9 || (fs->win[BS_JmpBoot] == 0xEB && fs->win[BS_JmpBoot + 2] == 0x90
2976:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((ld_dword(fs->win + BS_FilSysType) & 0xFFFFFF) == 0x544146) return 0;	/* Check "FAT" string *
2977:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_dword(fs->win + BS_FilSysType32) == 0x33544146) return 0;			/* Check "FAT3" string */
ARM GAS  /tmp/ccBfkcjf.s 			page 88


2978:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2979:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2980:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!mem_cmp(fs->win + BS_JmpBoot, "\xEB\x76\x90" "EXFAT   ", 11)) return 1;
2981:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2982:Middlewares/Third_Party/FatFs/src/ff.c **** 	return 2;
2983:Middlewares/Third_Party/FatFs/src/ff.c **** }
2984:Middlewares/Third_Party/FatFs/src/ff.c **** 
2985:Middlewares/Third_Party/FatFs/src/ff.c **** 
2986:Middlewares/Third_Party/FatFs/src/ff.c **** 
2987:Middlewares/Third_Party/FatFs/src/ff.c **** 
2988:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2989:Middlewares/Third_Party/FatFs/src/ff.c **** /* Find logical drive and check if the volume is mounted                 */
2990:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2991:Middlewares/Third_Party/FatFs/src/ff.c **** 
2992:Middlewares/Third_Party/FatFs/src/ff.c **** static
2993:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT find_volume (	/* FR_OK(0): successful, !=0: any error occurred */
2994:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** path,	/* Pointer to pointer to the path name (drive number) */
2995:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS** rfs,		/* Pointer to pointer to the found file system object */
2996:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE mode			/* !=0: Check write protection for write access */
2997:Middlewares/Third_Party/FatFs/src/ff.c **** )
2998:Middlewares/Third_Party/FatFs/src/ff.c **** {
2999:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, *pt;
3000:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
3001:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
3002:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD bsect, fasize, tsect, sysect, nclst, szbfat, br[4];
3003:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD nrsv;
3004:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3005:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
3006:Middlewares/Third_Party/FatFs/src/ff.c **** 
3007:Middlewares/Third_Party/FatFs/src/ff.c **** 
3008:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3009:Middlewares/Third_Party/FatFs/src/ff.c **** 	*rfs = 0;
3010:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(path);
3011:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
3012:Middlewares/Third_Party/FatFs/src/ff.c **** 
3013:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Check if the file system object is valid or not */
3014:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = FatFs[vol];					/* Get pointer to the file system object */
3015:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;		/* Is the file system object available? */
3016:Middlewares/Third_Party/FatFs/src/ff.c **** 
3017:Middlewares/Third_Party/FatFs/src/ff.c **** 	ENTER_FF(fs);						/* Lock the volume */
3018:Middlewares/Third_Party/FatFs/src/ff.c **** 	*rfs = fs;							/* Return pointer to the file system object */
3019:Middlewares/Third_Party/FatFs/src/ff.c **** 
3020:Middlewares/Third_Party/FatFs/src/ff.c **** 	mode &= (BYTE)~FA_READ;				/* Desired access mode, write access or not */
3021:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type) {					/* If the volume has been mounted */
3022:Middlewares/Third_Party/FatFs/src/ff.c **** 		stat = disk_status(fs->drv);
3023:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(stat & STA_NOINIT)) {		/* and the physical drive is kept initialized */
3024:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_READONLY && mode && (stat & STA_PROTECT)) {	/* Check write protection if needed */
3025:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_WRITE_PROTECTED;
3026:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3027:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_OK;				/* The file system object is valid */
3028:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3029:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3030:Middlewares/Third_Party/FatFs/src/ff.c **** 
3031:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* The file system object is not valid. */
3032:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Following code attempts to mount the volume. (analyze BPB and initialize the fs object) */
3033:Middlewares/Third_Party/FatFs/src/ff.c **** 
3034:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = 0;					/* Clear the file system object */
ARM GAS  /tmp/ccBfkcjf.s 			page 89


3035:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->drv = LD2PD(vol);				/* Bind the logical drive and a physical drive */
3036:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(fs->drv);	/* Initialize the physical drive */
3037:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) { 			/* Check if the initialization succeeded */
3038:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NOT_READY;			/* Failed to initialize due to no medium or hard error */
3039:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3040:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!_FS_READONLY && mode && (stat & STA_PROTECT)) { /* Check disk write protection if needed */
3041:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_WRITE_PROTECTED;
3042:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3043:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS					/* Get sector size (multiple sector size cfg only) */
3044:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(fs->drv, GET_SECTOR_SIZE, &SS(fs)) != RES_OK) return FR_DISK_ERR;
3045:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (SS(fs) > _MAX_SS || SS(fs) < _MIN_SS || (SS(fs) & (SS(fs) - 1))) return FR_DISK_ERR;
3046:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3047:Middlewares/Third_Party/FatFs/src/ff.c **** 
3048:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Find an FAT partition on the drive. Supports only generic partitioning rules, FDISK and SFD. */
3049:Middlewares/Third_Party/FatFs/src/ff.c **** 	bsect = 0;
3050:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = check_fs(fs, bsect);			/* Load sector 0 and check if it is an FAT-VBR as SFD */
3051:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 2 || (fmt < 2 && LD2PT(vol) != 0)) {	/* Not an FAT-VBR or forced partition number */
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 4; i++) {		/* Get partition offset */
3053:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win + (MBR_Table + i * SZ_PTE);
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[PTE_System] ? ld_dword(pt + PTE_StLba) : 0;
3055:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3056:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = LD2PT(vol);					/* Partition number: 0:auto, 1-4:forced */
3057:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i) i--;
3058:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {							/* Find an FAT volume */
3059:Middlewares/Third_Party/FatFs/src/ff.c **** 			bsect = br[i];
3060:Middlewares/Third_Party/FatFs/src/ff.c **** 			fmt = bsect ? check_fs(fs, bsect) : 3;	/* Check the partition */
3061:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (LD2PT(vol) == 0 && fmt >= 2 && ++i < 4);
3062:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3063:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 4) return FR_DISK_ERR;		/* An error occured in the disk I/O layer */
3064:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt >= 2) return FR_NO_FILESYSTEM;	/* No FAT volume is found */
3065:Middlewares/Third_Party/FatFs/src/ff.c **** 
3066:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* An FAT volume is found (bsect). Following code initializes the file system object */
3067:Middlewares/Third_Party/FatFs/src/ff.c **** 
3068:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3069:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 1) {
3070:Middlewares/Third_Party/FatFs/src/ff.c **** 		QWORD maxlba;
3071:Middlewares/Third_Party/FatFs/src/ff.c **** 
3072:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = BPB_ZeroedEx; i < BPB_ZeroedEx + 53 && fs->win[i] == 0; i++) ;	/* Check zero filler */
3073:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i < BPB_ZeroedEx + 53) return FR_NO_FILESYSTEM;
3074:Middlewares/Third_Party/FatFs/src/ff.c **** 
3075:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_word(fs->win + BPB_FSVerEx) != 0x100) return FR_NO_FILESYSTEM;	/* Check exFAT revision (Mu
3076:Middlewares/Third_Party/FatFs/src/ff.c **** 
3077:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (1 << fs->win[BPB_BytsPerSecEx] != SS(fs)) {	/* (BPB_BytsPerSecEx must be equal to the physica
3078:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_NO_FILESYSTEM;
3079:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3080:Middlewares/Third_Party/FatFs/src/ff.c **** 
3081:Middlewares/Third_Party/FatFs/src/ff.c **** 		maxlba = ld_qword(fs->win + BPB_TotSecEx) + bsect;	/* Last LBA + 1 of the volume */
3082:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (maxlba >= 0x100000000) return FR_NO_FILESYSTEM;	/* (It cannot be handled in 32-bit LBA) */
3083:Middlewares/Third_Party/FatFs/src/ff.c **** 
3084:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsize = ld_dword(fs->win + BPB_FatSzEx);	/* Number of sectors per FAT */
3085:Middlewares/Third_Party/FatFs/src/ff.c **** 
3086:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->n_fats = fs->win[BPB_NumFATsEx];			/* Number of FATs */
3087:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_fats != 1) return FR_NO_FILESYSTEM;	/* (Supports only 1 FAT) */
3088:Middlewares/Third_Party/FatFs/src/ff.c **** 
3089:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->csize = 1 << fs->win[BPB_SecPerClusEx];		/* Cluster size */
3090:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->csize == 0)	return FR_NO_FILESYSTEM;	/* (Must be 1..32768) */
3091:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccBfkcjf.s 			page 90


3092:Middlewares/Third_Party/FatFs/src/ff.c **** 		nclst = ld_dword(fs->win + BPB_NumClusEx);		/* Number of clusters */
3093:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst > MAX_EXFAT) return FR_NO_FILESYSTEM;	/* (Too many clusters) */
3094:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->n_fatent = nclst + 2;
3095:Middlewares/Third_Party/FatFs/src/ff.c **** 
3096:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Boundaries and Limits */
3097:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->volbase = bsect;
3098:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->database = bsect + ld_dword(fs->win + BPB_DataOfsEx);
3099:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fatbase = bsect + ld_dword(fs->win + BPB_FatOfsEx);
3100:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (maxlba < (QWORD)fs->database + nclst * fs->csize) return FR_NO_FILESYSTEM;	/* (Volume size mu
3101:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->dirbase = ld_dword(fs->win + BPB_RootClusEx);
3102:Middlewares/Third_Party/FatFs/src/ff.c **** 
3103:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Check if bitmap location is in assumption (at the first cluster) */
3104:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fs, clust2sect(fs, fs->dirbase)) != FR_OK) return FR_DISK_ERR;
3105:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < SS(fs); i += SZDIRE) {
3106:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->win[i] == 0x81 && ld_dword(fs->win + i + 20) == 2) break;	/* 81 entry with cluster #2? *
3107:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3108:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == SS(fs)) return FR_NO_FILESYSTEM;
3109:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3110:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clst = fs->free_clst = 0xFFFFFFFF;		/* Initialize cluster allocation information */
3111:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3112:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_EXFAT;			/* FAT sub-type */
3113:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
3114:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_EXFAT */
3115:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_word(fs->win + BPB_BytsPerSec) != SS(fs)) return FR_NO_FILESYSTEM;	/* (BPB_BytsPerSec must
3117:Middlewares/Third_Party/FatFs/src/ff.c **** 
3118:Middlewares/Third_Party/FatFs/src/ff.c **** 		fasize = ld_word(fs->win + BPB_FATSz16);		/* Number of sectors per FAT */
3119:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fasize == 0) fasize = ld_dword(fs->win + BPB_FATSz32);
3120:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsize = fasize;
3121:Middlewares/Third_Party/FatFs/src/ff.c **** 
3122:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->n_fats = fs->win[BPB_NumFATs];				/* Number of FATs */
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_fats != 1 && fs->n_fats != 2) return FR_NO_FILESYSTEM;	/* (Must be 1 or 2) */
3124:Middlewares/Third_Party/FatFs/src/ff.c **** 		fasize *= fs->n_fats;							/* Number of sectors for FAT area */
3125:Middlewares/Third_Party/FatFs/src/ff.c **** 
3126:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->csize = fs->win[BPB_SecPerClus];			/* Cluster size */
3127:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->csize == 0 || (fs->csize & (fs->csize - 1))) return FR_NO_FILESYSTEM;	/* (Must be power o
3128:Middlewares/Third_Party/FatFs/src/ff.c **** 
3129:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->n_rootdir = ld_word(fs->win + BPB_RootEntCnt);	/* Number of root directory entries */
3130:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_rootdir % (SS(fs) / SZDIRE)) return FR_NO_FILESYSTEM;	/* (Must be sector aligned) */
3131:Middlewares/Third_Party/FatFs/src/ff.c **** 
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 		tsect = ld_word(fs->win + BPB_TotSec16);		/* Number of sectors on the volume */
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect == 0) tsect = ld_dword(fs->win + BPB_TotSec32);
3134:Middlewares/Third_Party/FatFs/src/ff.c **** 
3135:Middlewares/Third_Party/FatFs/src/ff.c **** 		nrsv = ld_word(fs->win + BPB_RsvdSecCnt);		/* Number of reserved sectors */
3136:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nrsv == 0) return FR_NO_FILESYSTEM;			/* (Must not be 0) */
3137:Middlewares/Third_Party/FatFs/src/ff.c **** 
3138:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Determine the FAT sub type */
3139:Middlewares/Third_Party/FatFs/src/ff.c **** 		sysect = nrsv + fasize + fs->n_rootdir / (SS(fs) / SZDIRE);	/* RSV + FAT + DIR */
3140:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect < sysect) return FR_NO_FILESYSTEM;	/* (Invalid volume size) */
3141:Middlewares/Third_Party/FatFs/src/ff.c **** 		nclst = (tsect - sysect) / fs->csize;			/* Number of clusters */
3142:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst == 0) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
3143:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT32;
3144:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst <= MAX_FAT16) fmt = FS_FAT16;
3145:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst <= MAX_FAT12) fmt = FS_FAT12;
3146:Middlewares/Third_Party/FatFs/src/ff.c **** 
3147:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Boundaries and Limits */
3148:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->n_fatent = nclst + 2;						/* Number of FAT entries */
ARM GAS  /tmp/ccBfkcjf.s 			page 91


3149:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->volbase = bsect;							/* Volume start sector */
3150:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fatbase = bsect + nrsv; 					/* FAT start sector */
3151:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->database = bsect + sysect;					/* Data start sector */
3152:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ld_word(fs->win + BPB_FSVer32) != 0) return FR_NO_FILESYSTEM;	/* (Must be FAT32 revision 0.0
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->n_rootdir) return FR_NO_FILESYSTEM;	/* (BPB_RootEntCnt must be 0) */
3155:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = ld_dword(fs->win + BPB_RootClus32);	/* Root directory start cluster */
3156:Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = fs->n_fatent * 4;					/* (Needed FAT size) */
3157:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
3158:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->n_rootdir == 0)	return FR_NO_FILESYSTEM;/* (BPB_RootEntCnt must not be 0) */
3159:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = fs->fatbase + fasize;			/* Root directory start sector */
3160:Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = (fmt == FS_FAT16) ?				/* (Needed FAT size) */
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->n_fatent * 2 : fs->n_fatent * 3 / 2 + (fs->n_fatent & 1);
3162:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3163:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->fsize < (szbfat + (SS(fs) - 1)) / SS(fs)) return FR_NO_FILESYSTEM;	/* (BPB_FATSz must not
3164:Middlewares/Third_Party/FatFs/src/ff.c **** 
3165:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3166:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Get FSINFO if available */
3167:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clst = fs->free_clst = 0xFFFFFFFF;		/* Initialize cluster allocation information */
3168:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag = 0x80;
3169:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 3) != 3
3170:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32				/* Enable FSINFO only if FAT32 and BPB_FSInfo32 == 1 */
3171:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& ld_word(fs->win + BPB_FSInfo32) == 1
3172:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& move_window(fs, bsect + 1) == FR_OK)
3173:Middlewares/Third_Party/FatFs/src/ff.c **** 		{
3174:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag = 0;
3175:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ld_word(fs->win + BS_55AA) == 0xAA55	/* Load FSINFO data if available */
3176:Middlewares/Third_Party/FatFs/src/ff.c **** 				&& ld_dword(fs->win + FSI_LeadSig) == 0x41615252
3177:Middlewares/Third_Party/FatFs/src/ff.c **** 				&& ld_dword(fs->win + FSI_StrucSig) == 0x61417272)
3178:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
3179:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 1) == 0
3180:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->free_clst = ld_dword(fs->win + FSI_Free_Count);
3181:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3182:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 2) == 0
3183:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->last_clst = ld_dword(fs->win + FSI_Nxt_Free);
3184:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3185:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3186:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3187:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* (_FS_NOFSINFO & 3) != 3 */
3188:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* !_FS_READONLY */
3189:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3190:Middlewares/Third_Party/FatFs/src/ff.c **** 
3191:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = fmt;		/* FAT sub-type */
3192:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->id = ++Fsid;		/* File system mount ID */
3193:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1
3194:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->lfnbuf = LfnBuf;	/* Static LFN working buffer */
3195:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3196:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->dirbuf = DirBuf;	/* Static directory block scratchpad buuffer */
3197:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3198:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3199:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
3200:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->cdir = 0;			/* Initialize current directory */
3201:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3202:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0			/* Clear file lock semaphores */
3203:Middlewares/Third_Party/FatFs/src/ff.c **** 	clear_lock(fs);
3204:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3205:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
ARM GAS  /tmp/ccBfkcjf.s 			page 92


3206:Middlewares/Third_Party/FatFs/src/ff.c **** }
3207:Middlewares/Third_Party/FatFs/src/ff.c **** 
3208:Middlewares/Third_Party/FatFs/src/ff.c **** 
3209:Middlewares/Third_Party/FatFs/src/ff.c **** 
3210:Middlewares/Third_Party/FatFs/src/ff.c **** 
3211:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3212:Middlewares/Third_Party/FatFs/src/ff.c **** /* Check if the file/directory object is valid or not                    */
3213:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3214:Middlewares/Third_Party/FatFs/src/ff.c **** 
3215:Middlewares/Third_Party/FatFs/src/ff.c **** static
3216:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT validate (	/* Returns FR_OK or FR_INVALID_OBJECT */
3217:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID* obj,		/* Pointer to the _OBJ, the 1st member in the FIL/DIR object, to check validity */
3218:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS** fs		/* Pointer to pointer to the owner file system object to return */
3219:Middlewares/Third_Party/FatFs/src/ff.c **** )
3220:Middlewares/Third_Party/FatFs/src/ff.c **** {
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_INVALID_OBJECT;
3222:Middlewares/Third_Party/FatFs/src/ff.c **** 
3223:Middlewares/Third_Party/FatFs/src/ff.c **** 
3224:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (obj && obj->fs && obj->fs->fs_type && obj->id == obj->fs->id) {	/* Test if the object is valid
3225:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
3226:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (lock_fs(obj->fs)) {	/* Obtain the filesystem object */
3227:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(disk_status(obj->fs->drv) & STA_NOINIT)) { /* Test if the phsical drive is kept initialize
3228:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
3229:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3230:Middlewares/Third_Party/FatFs/src/ff.c **** 				unlock_fs(obj->fs, FR_OK);
3231:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3232:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
3233:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_TIMEOUT;
3234:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3235:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3236:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(disk_status(obj->fs->drv) & STA_NOINIT)) { /* Test if the phsical drive is kept initialized
3237:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
3238:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3239:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3240:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	*fs = (res == FR_OK) ? obj->fs : 0;	/* Corresponding filesystem object */
3242:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
3243:Middlewares/Third_Party/FatFs/src/ff.c **** }
3244:Middlewares/Third_Party/FatFs/src/ff.c **** 
3245:Middlewares/Third_Party/FatFs/src/ff.c **** 
3246:Middlewares/Third_Party/FatFs/src/ff.c **** 
3247:Middlewares/Third_Party/FatFs/src/ff.c **** 
3248:Middlewares/Third_Party/FatFs/src/ff.c **** /*---------------------------------------------------------------------------
3249:Middlewares/Third_Party/FatFs/src/ff.c **** 
3250:Middlewares/Third_Party/FatFs/src/ff.c ****    Public Functions (FatFs API)
3251:Middlewares/Third_Party/FatFs/src/ff.c **** 
3252:Middlewares/Third_Party/FatFs/src/ff.c **** ----------------------------------------------------------------------------*/
3253:Middlewares/Third_Party/FatFs/src/ff.c **** 
3254:Middlewares/Third_Party/FatFs/src/ff.c **** 
3255:Middlewares/Third_Party/FatFs/src/ff.c **** 
3256:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3257:Middlewares/Third_Party/FatFs/src/ff.c **** /* Mount/Unmount a Logical Drive                                         */
3258:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3259:Middlewares/Third_Party/FatFs/src/ff.c **** 
3260:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_mount (
3261:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,			/* Pointer to the file system object (NULL:unmount)*/
3262:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Logical drive number to be mounted/unmounted */
ARM GAS  /tmp/ccBfkcjf.s 			page 93


3263:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE opt			/* Mode option 0:Do not mount (delayed mount), 1:Mount immediately */
3264:Middlewares/Third_Party/FatFs/src/ff.c **** )
3265:Middlewares/Third_Party/FatFs/src/ff.c **** {
3266:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *cfs;
3267:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
3268:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3269:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *rp = path;
3270:Middlewares/Third_Party/FatFs/src/ff.c **** 
3271:Middlewares/Third_Party/FatFs/src/ff.c **** 
3272:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3273:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&rp);
3274:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
3275:Middlewares/Third_Party/FatFs/src/ff.c **** 	cfs = FatFs[vol];					/* Pointer to fs object */
3276:Middlewares/Third_Party/FatFs/src/ff.c **** 
3277:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (cfs) {
3278:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
3279:Middlewares/Third_Party/FatFs/src/ff.c **** 		clear_lock(cfs);
3280:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3281:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT						/* Discard sync object of the current volume */
3282:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!ff_del_syncobj(cfs->sobj)) return FR_INT_ERR;
3283:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3284:Middlewares/Third_Party/FatFs/src/ff.c **** 		cfs->fs_type = 0;				/* Clear old fs object */
3285:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3286:Middlewares/Third_Party/FatFs/src/ff.c **** 
3287:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs) {
3288:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fs_type = 0;				/* Clear new fs object */
3289:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT						/* Create sync object for the new volume */
3290:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!ff_cre_syncobj((BYTE)vol, &fs->sobj)) return FR_INT_ERR;
3291:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3292:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3293:Middlewares/Third_Party/FatFs/src/ff.c **** 	FatFs[vol] = fs;					/* Register new fs object */
3294:Middlewares/Third_Party/FatFs/src/ff.c **** 
3295:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs || opt != 1) return FR_OK;	/* Do not mount now, it will be mounted later */
3296:Middlewares/Third_Party/FatFs/src/ff.c **** 
3297:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, 0);	/* Force mounted the volume */
3298:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
3299:Middlewares/Third_Party/FatFs/src/ff.c **** }
3300:Middlewares/Third_Party/FatFs/src/ff.c **** 
3301:Middlewares/Third_Party/FatFs/src/ff.c **** 
3302:Middlewares/Third_Party/FatFs/src/ff.c **** 
3303:Middlewares/Third_Party/FatFs/src/ff.c **** 
3304:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3305:Middlewares/Third_Party/FatFs/src/ff.c **** /* Open or Create a File                                                 */
3306:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3307:Middlewares/Third_Party/FatFs/src/ff.c **** 
3308:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_open (
3309:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,			/* Pointer to the blank file object */
3310:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file name */
3311:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE mode			/* Access mode and file open mode flags */
3312:Middlewares/Third_Party/FatFs/src/ff.c **** )
3313:Middlewares/Third_Party/FatFs/src/ff.c **** {
3314:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3315:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3316:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3317:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3318:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dw, cl, bcs, clst, sc;
3319:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t ofs;
ARM GAS  /tmp/ccBfkcjf.s 			page 94


3320:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3321:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
3322:Middlewares/Third_Party/FatFs/src/ff.c **** 
3323:Middlewares/Third_Party/FatFs/src/ff.c **** 
3324:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fp) return FR_INVALID_OBJECT;
3325:Middlewares/Third_Party/FatFs/src/ff.c **** 
3326:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
3327:Middlewares/Third_Party/FatFs/src/ff.c **** 	mode &= _FS_READONLY ? FA_READ : FA_READ | FA_WRITE | FA_CREATE_ALWAYS | FA_CREATE_NEW | FA_OPEN_A
3328:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, mode);
3329:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3330:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.obj.fs = fs;
3331:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
3332:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
3333:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY	/* R/W configuration */
3334:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3335:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* Origin directory itself? */
3336:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
3337:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3338:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
3339:Middlewares/Third_Party/FatFs/src/ff.c **** 			else {
3340:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = chk_lock(&dj, (mode & ~FA_READ) ? 1 : 0);
3341:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3342:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3343:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3344:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create or Open a file */
3345:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (mode & (FA_CREATE_ALWAYS | FA_OPEN_ALWAYS | FA_CREATE_NEW)) {
3346:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {					/* No file, create new */
3347:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {		/* There is no file to open, create a new entry */
3348:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
3349:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = enq_lock() ? dir_register(&dj) : FR_TOO_MANY_OPEN_FILES;
3350:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3351:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&dj);
3352:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3353:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3354:Middlewares/Third_Party/FatFs/src/ff.c **** 				mode |= FA_CREATE_ALWAYS;		/* File is created */
3355:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3356:Middlewares/Third_Party/FatFs/src/ff.c **** 			else {								/* Any object is already existing */
3357:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & (AM_RDO | AM_DIR)) {	/* Cannot overwrite it (R/O or DIR) */
3358:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;
3359:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (mode & FA_CREATE_NEW) res = FR_EXIST;	/* Cannot create as new file */
3361:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3362:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3363:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK && (mode & FA_CREATE_ALWAYS)) {	/* Truncate it if overwrite mode */
3364:Middlewares/Third_Party/FatFs/src/ff.c **** 				dw = GET_FATTIME();
3365:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3366:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->fs_type == FS_EXFAT) {
3367:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Get current allocation info */
3368:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.fs = fs;
3369:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = ld_dword(fs->dirbuf + XDIR_FstClus);
3370:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.objsize = ld_qword(fs->dirbuf + XDIR_FileSize);
3371:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.stat = fs->dirbuf[XDIR_GenFlags] & 2;
3372:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.n_frag = 0;
3373:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Initialize directory entry block */
3374:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_CrtTime, dw);	/* Set created time */
3375:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->dirbuf[XDIR_CrtTime10] = 0;
3376:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_ModTime, dw);	/* Set modified time */
ARM GAS  /tmp/ccBfkcjf.s 			page 95


3377:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->dirbuf[XDIR_ModTime10] = 0;
3378:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->dirbuf[XDIR_Attr] = AM_ARC;				/* Reset attribute */
3379:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_FstClus, 0);		/* Reset file allocation info */
3380:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_qword(fs->dirbuf + XDIR_FileSize, 0);
3381:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_qword(fs->dirbuf + XDIR_ValidFileSize, 0);
3382:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->dirbuf[XDIR_GenFlags] = 1;
3383:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = store_xdir(&dj);
3384:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK && fp->obj.sclust) {		/* Remove the cluster chain if exist */
3385:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = remove_chain(&fp->obj, fp->obj.sclust, 0);
3386:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->last_clst = fp->obj.sclust - 1;		/* Reuse the cluster hole */
3387:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3388:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else
3389:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3390:Middlewares/Third_Party/FatFs/src/ff.c **** 				{
3391:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean directory info */
3392:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dj.dir + DIR_CrtTime, dw);	/* Set created time */
3393:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dj.dir + DIR_ModTime, dw);	/* Set modified time */
3394:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.dir[DIR_Attr] = AM_ARC;			/* Reset attribute */
3395:Middlewares/Third_Party/FatFs/src/ff.c **** 					cl = ld_clust(fs, dj.dir);			/* Get cluster chain */
3396:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dj.dir, 0);			/* Reset file allocation info */
3397:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dj.dir + DIR_FileSize, 0);
3398:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
3399:Middlewares/Third_Party/FatFs/src/ff.c **** 
3400:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (cl) {							/* Remove the cluster chain if exist */
3401:Middlewares/Third_Party/FatFs/src/ff.c **** 						dw = fs->winsect;
3402:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = remove_chain(&dj.obj, cl, 0);
3403:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
3404:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = move_window(fs, dw);
3405:Middlewares/Third_Party/FatFs/src/ff.c **** 							fs->last_clst = cl - 1;		/* Reuse the cluster hole */
3406:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
3407:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3408:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3409:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3410:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3411:Middlewares/Third_Party/FatFs/src/ff.c **** 		else {	/* Open an existing file */
3412:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Following succeeded */
3413:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_DIR) {		/* It is a directory */
3414:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
3415:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
3416:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((mode & FA_WRITE) && (dj.obj.attr & AM_RDO)) { /* R/O violation */
3417:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
3418:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3419:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3420:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3421:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3422:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3423:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (mode & FA_CREATE_ALWAYS)		/* Set file change flag if created or overwritten */
3424:Middlewares/Third_Party/FatFs/src/ff.c **** 				mode |= FA_MODIFIED;
3425:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_sect = fs->winsect;			/* Pointer to the directory entry */
3426:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_ptr = dj.dir;
3427:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
3428:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.lockid = inc_lock(&dj, (mode & ~FA_READ) ? 1 : 0);
3429:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!fp->obj.lockid) res = FR_INT_ERR;
3430:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3431:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3432:Middlewares/Third_Party/FatFs/src/ff.c **** #else		/* R/O configuration */
3433:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
ARM GAS  /tmp/ccBfkcjf.s 			page 96


3434:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* Origin directory itself? */
3435:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
3436:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3437:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_DIR) {		/* It is a directory */
3438:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
3439:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3440:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3441:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3442:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3443:Middlewares/Third_Party/FatFs/src/ff.c **** 
3444:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3445:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3446:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {
3447:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.c_scl = dj.obj.sclust;							/* Get containing directory info */
3448:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.c_size = ((DWORD)dj.obj.objsize & 0xFFFFFF00) | dj.obj.stat;
3449:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.c_ofs = dj.blk_ofs;
3450:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.sclust = ld_dword(fs->dirbuf + XDIR_FstClus);	/* Get object allocation info */
3451:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.objsize = ld_qword(fs->dirbuf + XDIR_FileSize);
3452:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.stat = fs->dirbuf[XDIR_GenFlags] & 2;
3453:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else
3454:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3455:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
3456:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.sclust = ld_clust(fs, dj.dir);					/* Get object allocation info */
3457:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.objsize = ld_dword(dj.dir + DIR_FileSize);
3458:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3459:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
3460:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->cltbl = 0;			/* Disable fast seek mode */
3461:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3462:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.fs = fs;	 	/* Validate the file object */
3463:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.id = fs->id;
3464:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag = mode;		/* Set file access mode */
3465:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->err = 0;			/* Clear error flag */
3466:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sect = 0;			/* Invalidate current data sector */
3467:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = 0;			/* Set file pointer top of the file */
3468:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3469:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
3470:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(fp->buf, 0, _MAX_SS);	/* Clear sector buffer */
3471:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3472:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((mode & FA_SEEKEND) && fp->obj.objsize > 0) {	/* Seek to end of file if FA_OPEN_APPEND is sp
3473:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = fp->obj.objsize;			/* Offset to seek */
3474:Middlewares/Third_Party/FatFs/src/ff.c **** 				bcs = (DWORD)fs->csize * SS(fs);	/* Cluster size in byte */
3475:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->obj.sclust;				/* Follow the cluster chain */
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (ofs = fp->obj.objsize; res == FR_OK && ofs > bcs; ofs -= bcs) {
3477:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
3478:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1) res = FR_INT_ERR;
3479:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) res = FR_DISK_ERR;
3480:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3481:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;
3482:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && ofs % SS(fs)) {	/* Fill sector buffer if not on the sector boundary */
3483:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((sc = clust2sect(fs, clst)) == 0) {
3484:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_INT_ERR;
3485:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
3486:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->sect = sc + (DWORD)(ofs / SS(fs));
3487:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
3488:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_read(fs->drv, fp->buf, fp->sect, 1) != RES_OK) res = FR_DISK_ERR;
3489:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3490:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
ARM GAS  /tmp/ccBfkcjf.s 			page 97


3491:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3492:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3493:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3494:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3495:Middlewares/Third_Party/FatFs/src/ff.c **** 
3496:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
3497:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3498:Middlewares/Third_Party/FatFs/src/ff.c **** 
3499:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) fp->obj.fs = 0;	/* Invalidate file object on error */
3500:Middlewares/Third_Party/FatFs/src/ff.c **** 
3501:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
3502:Middlewares/Third_Party/FatFs/src/ff.c **** }
3503:Middlewares/Third_Party/FatFs/src/ff.c **** 
3504:Middlewares/Third_Party/FatFs/src/ff.c **** 
3505:Middlewares/Third_Party/FatFs/src/ff.c **** 
3506:Middlewares/Third_Party/FatFs/src/ff.c **** 
3507:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3508:Middlewares/Third_Party/FatFs/src/ff.c **** /* Read File                                                             */
3509:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3510:Middlewares/Third_Party/FatFs/src/ff.c **** 
3511:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_read (
3512:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp, 	/* Pointer to the file object */
3513:Middlewares/Third_Party/FatFs/src/ff.c **** 	void* buff,	/* Pointer to data buffer */
3514:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT btr,	/* Number of bytes to read */
3515:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT* br	/* Pointer to number of bytes read */
3516:Middlewares/Third_Party/FatFs/src/ff.c **** )
3517:Middlewares/Third_Party/FatFs/src/ff.c **** {
3518:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3519:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3520:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
3521:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t remain;
3522:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rcnt, cc, csect;
3523:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *rbuff = (BYTE*)buff;
3524:Middlewares/Third_Party/FatFs/src/ff.c **** 
3525:Middlewares/Third_Party/FatFs/src/ff.c **** 
3526:Middlewares/Third_Party/FatFs/src/ff.c **** 	*br = 0;	/* Clear read byte counter */
3527:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);				/* Check validity of the file object */
3528:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
3529:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_READ)) LEAVE_FF(fs, FR_DENIED); /* Check access mode */
3530:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
3531:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (btr > remain) btr = (UINT)remain;		/* Truncate btr by remaining bytes */
3532:Middlewares/Third_Party/FatFs/src/ff.c **** 
3533:Middlewares/Third_Party/FatFs/src/ff.c **** 	for ( ;  btr;								/* Repeat until all data read */
3534:Middlewares/Third_Party/FatFs/src/ff.c **** 		rbuff += rcnt, fp->fptr += rcnt, *br += rcnt, btr -= rcnt) {
3535:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
3536:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs) & (fs->csize - 1));	/* Sector offset in the cluster */
3537:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {					/* On the cluster boundary? */
3538:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {			/* On the top of the file? */
3539:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->obj.sclust;		/* Follow cluster chain from the origin */
3540:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {						/* Middle or end of the file */
3541:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
3542:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->cltbl) {
3543:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
3544:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
3545:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3546:Middlewares/Third_Party/FatFs/src/ff.c **** 					{
3547:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = get_fat(&fp->obj, fp->clust);	/* Follow cluster chain on the FAT */
ARM GAS  /tmp/ccBfkcjf.s 			page 98


3548:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3549:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3550:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst < 2) ABORT(fs, FR_INT_ERR);
3551:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
3552:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
3553:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3554:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect = clust2sect(fs, fp->clust);	/* Get current sector */
3555:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fs, FR_INT_ERR);
3556:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
3557:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btr / SS(fs);					/* When remaining bytes >= sector size, */
3558:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {							/* Read maximum contiguous sectors directly */
3559:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fs->csize) {	/* Clip at cluster boundary */
3560:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
3561:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3562:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_read(fs->drv, rbuff, sect, cc) != RES_OK) ABORT(fs, FR_DISK_ERR);
3563:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
3564:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
3565:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->wflag && fs->winsect - sect < cc) {
3566:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fs->winsect - sect) * SS(fs)), fs->win, SS(fs));
3567:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3568:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 				if ((fp->flag & FA_DIRTY) && fp->sect - sect < cc) {
3570:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->sect - sect) * SS(fs)), fp->buf, SS(fs));
3571:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3572:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3573:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3574:Middlewares/Third_Party/FatFs/src/ff.c **** 				rcnt = SS(fs) * cc;				/* Number of bytes transferred */
3575:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
3576:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3577:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
3578:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->sect != sect) {			/* Load data sector if not in cache */
3579:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3580:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->flag & FA_DIRTY) {		/* Write-back dirty sector cache */
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
3582:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
3583:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3584:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_read(fs->drv, fp->buf, sect, 1) != RES_OK)	ABORT(fs, FR_DISK_ERR);	/* Fill sector cach
3586:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3587:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3588:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sect = sect;
3589:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3590:Middlewares/Third_Party/FatFs/src/ff.c **** 		rcnt = SS(fs) - (UINT)fp->fptr % SS(fs);	/* Number of bytes left in the sector */
3591:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btr) rcnt = btr;					/* Clip it by btr if needed */
3592:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
3593:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fs, fp->sect) != FR_OK) ABORT(fs, FR_DISK_ERR);	/* Move sector window */
3594:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(rbuff, fs->win + fp->fptr % SS(fs), rcnt);	/* Extract partial sector */
3595:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3596:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(rbuff, fp->buf + fp->fptr % SS(fs), rcnt);	/* Extract partial sector */
3597:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3598:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3599:Middlewares/Third_Party/FatFs/src/ff.c **** 
3600:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, FR_OK);
3601:Middlewares/Third_Party/FatFs/src/ff.c **** }
3602:Middlewares/Third_Party/FatFs/src/ff.c **** 
3603:Middlewares/Third_Party/FatFs/src/ff.c **** 
3604:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccBfkcjf.s 			page 99


3605:Middlewares/Third_Party/FatFs/src/ff.c **** 
3606:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3607:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3608:Middlewares/Third_Party/FatFs/src/ff.c **** /* Write File                                                            */
3609:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3610:Middlewares/Third_Party/FatFs/src/ff.c **** 
3611:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_write (
3612:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,			/* Pointer to the file object */
3613:Middlewares/Third_Party/FatFs/src/ff.c **** 	const void* buff,	/* Pointer to the data to be written */
3614:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT btw,			/* Number of bytes to write */
3615:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT* bw			/* Pointer to number of bytes written */
3616:Middlewares/Third_Party/FatFs/src/ff.c **** )
3617:Middlewares/Third_Party/FatFs/src/ff.c **** {
3618:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3619:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3620:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
3621:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wcnt, cc, csect;
3622:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE *wbuff = (const BYTE*)buff;
3623:Middlewares/Third_Party/FatFs/src/ff.c **** 
3624:Middlewares/Third_Party/FatFs/src/ff.c **** 
3625:Middlewares/Third_Party/FatFs/src/ff.c **** 	*bw = 0;	/* Clear write byte counter */
3626:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);			/* Check validity of the file object */
3627:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
3628:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
3629:Middlewares/Third_Party/FatFs/src/ff.c **** 
3630:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Check fptr wrap-around (file size cannot reach 4GiB on FATxx) */
3631:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((!_FS_EXFAT || fs->fs_type != FS_EXFAT) && (DWORD)(fp->fptr + btw) < (DWORD)fp->fptr) {
3632:Middlewares/Third_Party/FatFs/src/ff.c **** 		btw = (UINT)(0xFFFFFFFF - (DWORD)fp->fptr);
3633:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3634:Middlewares/Third_Party/FatFs/src/ff.c **** 
3635:Middlewares/Third_Party/FatFs/src/ff.c **** 	for ( ;  btw;							/* Repeat until all data written */
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		wbuff += wcnt, fp->fptr += wcnt, fp->obj.objsize = (fp->fptr > fp->obj.objsize) ? fp->fptr : fp->
3637:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
3638:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs)) & (fs->csize - 1);	/* Sector offset in the cluster */
3639:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {				/* On the cluster boundary? */
3640:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {		/* On the top of the file? */
3641:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->obj.sclust;	/* Follow from the origin */
3642:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) {		/* If no cluster is allocated, */
3643:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(&fp->obj, 0);	/* create a new cluster chain */
3644:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3645:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* On the middle or end of the file */
3646:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
3647:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->cltbl) {
3648:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
3649:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
3650:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3651:Middlewares/Third_Party/FatFs/src/ff.c **** 					{
3652:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(&fp->obj, fp->clust);	/* Follow or stretch cluster chain on the FAT */
3653:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3654:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3655:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0) break;		/* Could not allocate a new cluster (disk full) */
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 1) ABORT(fs, FR_INT_ERR);
3657:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
3658:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
3659:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->obj.sclust == 0) fp->obj.sclust = clst;	/* Set start cluster if the first write */
3660:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3661:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
ARM GAS  /tmp/ccBfkcjf.s 			page 100


3662:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->winsect == fp->sect && sync_window(fs) != FR_OK) ABORT(fs, FR_DISK_ERR);	/* Write-back s
3663:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3664:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA_DIRTY) {		/* Write-back sector cache */
3665:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
3666:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
3667:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3668:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3669:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect = clust2sect(fs, fp->clust);	/* Get current sector */
3670:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fs, FR_INT_ERR);
3671:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
3672:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btw / SS(fs);				/* When remaining bytes >= sector size, */
3673:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {						/* Write maximum contiguous sectors directly */
3674:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fs->csize) {	/* Clip at cluster boundary */
3675:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
3676:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3677:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, wbuff, sect, cc) != RES_OK) ABORT(fs, FR_DISK_ERR);
3678:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
3679:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
3680:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->winsect - sect < cc) {	/* Refill sector cache if it gets invalidated by the direct writ
3681:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fs->win, wbuff + ((fs->winsect - sect) * SS(fs)), SS(fs));
3682:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 0;
3683:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3684:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3685:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->sect - sect < cc) { /* Refill sector cache if it gets invalidated by the direct write *
3686:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf, wbuff + ((fp->sect - sect) * SS(fs)), SS(fs));
3687:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
3688:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3689:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3690:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3691:Middlewares/Third_Party/FatFs/src/ff.c **** 				wcnt = SS(fs) * cc;		/* Number of bytes transferred */
3692:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
3693:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3694:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
3695:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->fptr >= fp->obj.objsize) {	/* Avoid silly cache filling on the growing edge */
3696:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (sync_window(fs) != FR_OK) ABORT(fs, FR_DISK_ERR);
3697:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->winsect = sect;
3698:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3699:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3700:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->sect != sect && 		/* Fill sector cache with file data */
3701:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr < fp->obj.objsize &&
3702:Middlewares/Third_Party/FatFs/src/ff.c **** 				disk_read(fs->drv, fp->buf, sect, 1) != RES_OK) {
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fs, FR_DISK_ERR);
3704:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3705:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3706:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sect = sect;
3707:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3708:Middlewares/Third_Party/FatFs/src/ff.c **** 		wcnt = SS(fs) - (UINT)fp->fptr % SS(fs);	/* Number of bytes left in the sector */
3709:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;					/* Clip it by btw if needed */
3710:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
3711:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fs, fp->sect) != FR_OK) ABORT(fs, FR_DISK_ERR);	/* Move sector window */
3712:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(fs->win + fp->fptr % SS(fs), wbuff, wcnt);	/* Fit data to the sector */
3713:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->wflag = 1;
3714:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3715:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(fp->buf + fp->fptr % SS(fs), wbuff, wcnt);	/* Fit data to the sector */
3716:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA_DIRTY;
3717:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3718:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
ARM GAS  /tmp/ccBfkcjf.s 			page 101


3719:Middlewares/Third_Party/FatFs/src/ff.c **** 
3720:Middlewares/Third_Party/FatFs/src/ff.c **** 	fp->flag |= FA_MODIFIED;				/* Set file change flag */
3721:Middlewares/Third_Party/FatFs/src/ff.c **** 
3722:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, FR_OK);
3723:Middlewares/Third_Party/FatFs/src/ff.c **** }
3724:Middlewares/Third_Party/FatFs/src/ff.c **** 
3725:Middlewares/Third_Party/FatFs/src/ff.c **** 
3726:Middlewares/Third_Party/FatFs/src/ff.c **** 
3727:Middlewares/Third_Party/FatFs/src/ff.c **** 
3728:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3729:Middlewares/Third_Party/FatFs/src/ff.c **** /* Synchronize the File                                                  */
3730:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3731:Middlewares/Third_Party/FatFs/src/ff.c **** 
3732:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_sync (
3733:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp		/* Pointer to the file object */
3734:Middlewares/Third_Party/FatFs/src/ff.c **** )
3735:Middlewares/Third_Party/FatFs/src/ff.c **** {
3736:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3737:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3738:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD tm;
3739:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
3740:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3741:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3742:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
3743:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3744:Middlewares/Third_Party/FatFs/src/ff.c **** 
3745:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);	/* Check validity of the file object */
3746:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3747:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->flag & FA_MODIFIED) {	/* Is there any change to the file? */
3748:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
3749:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA_DIRTY) {	/* Write-back cached data if needed */
3750:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) LEAVE_FF(fs, FR_DISK_ERR);
3751:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
3752:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3753:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3754:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Update the directory entry */
3755:Middlewares/Third_Party/FatFs/src/ff.c **** 			tm = GET_FATTIME();				/* Modified time */
3756:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3757:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {
3758:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = fill_first_frag(&fp->obj);	/* Fill first fragment on the FAT if needed */
3759:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
3760:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = fill_last_frag(&fp->obj, fp->clust, 0xFFFFFFFF);	/* Fill last fragment on the FAT if nee
3761:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3762:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
3763:Middlewares/Third_Party/FatFs/src/ff.c **** 					INIT_NAMBUF(fs);
3764:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = load_obj_dir(&dj, &fp->obj);	/* Load directory entry block */
3765:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
3766:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->dirbuf[XDIR_Attr] |= AM_ARC;				/* Set archive bit */
3767:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->dirbuf[XDIR_GenFlags] = fp->obj.stat | 1;	/* Update file allocation info */
3768:Middlewares/Third_Party/FatFs/src/ff.c **** 						st_dword(fs->dirbuf + XDIR_FstClus, fp->obj.sclust);
3769:Middlewares/Third_Party/FatFs/src/ff.c **** 						st_qword(fs->dirbuf + XDIR_FileSize, fp->obj.objsize);
3770:Middlewares/Third_Party/FatFs/src/ff.c **** 						st_qword(fs->dirbuf + XDIR_ValidFileSize, fp->obj.objsize);
3771:Middlewares/Third_Party/FatFs/src/ff.c **** 						st_dword(fs->dirbuf + XDIR_ModTime, tm);		/* Update modified time */
3772:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->dirbuf[XDIR_ModTime10] = 0;
3773:Middlewares/Third_Party/FatFs/src/ff.c **** 						st_dword(fs->dirbuf + XDIR_AccTime, 0);
3774:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = store_xdir(&dj);	/* Restore it to the directory */
3775:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
ARM GAS  /tmp/ccBfkcjf.s 			page 102


3776:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = sync_fs(fs);
3777:Middlewares/Third_Party/FatFs/src/ff.c **** 							fp->flag &= (BYTE)~FA_MODIFIED;
3778:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
3779:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3780:Middlewares/Third_Party/FatFs/src/ff.c **** 					FREE_NAMBUF();
3781:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3782:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else
3783:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3784:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
3785:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = move_window(fs, fp->dir_sect);
3786:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
3787:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir = fp->dir_ptr;
3788:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] |= AM_ARC;						/* Set archive bit */
3789:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fp->obj.fs, dir, fp->obj.sclust);		/* Update file allocation info  */
3790:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_FileSize, (DWORD)fp->obj.objsize);	/* Update file size */
3791:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);				/* Update modified time */
3792:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_word(dir + DIR_LstAccDate, 0);
3793:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
3794:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);					/* Restore it to the directory */
3795:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_MODIFIED;
3796:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3797:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3798:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3799:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3800:Middlewares/Third_Party/FatFs/src/ff.c **** 
3801:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
3802:Middlewares/Third_Party/FatFs/src/ff.c **** }
3803:Middlewares/Third_Party/FatFs/src/ff.c **** 
3804:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
3805:Middlewares/Third_Party/FatFs/src/ff.c **** 
3806:Middlewares/Third_Party/FatFs/src/ff.c **** 
3807:Middlewares/Third_Party/FatFs/src/ff.c **** 
3808:Middlewares/Third_Party/FatFs/src/ff.c **** 
3809:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3810:Middlewares/Third_Party/FatFs/src/ff.c **** /* Close File                                                            */
3811:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3812:Middlewares/Third_Party/FatFs/src/ff.c **** 
3813:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_close (
3814:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp		/* Pointer to the file object to be closed */
3815:Middlewares/Third_Party/FatFs/src/ff.c **** )
3816:Middlewares/Third_Party/FatFs/src/ff.c **** {
3817:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3818:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3819:Middlewares/Third_Party/FatFs/src/ff.c **** 
3820:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3821:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = f_sync(fp);					/* Flush cached data */
3822:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK)
3823:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3824:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
3825:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = validate(&fp->obj, &fs);	/* Lock volume */
3826:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3827:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(fp->obj.lockid);	/* Decrement file open counter */
3829:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)
3830:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3831:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
3832:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.fs = 0;			/* Invalidate file object */
ARM GAS  /tmp/ccBfkcjf.s 			page 103


3833:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3834:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
3835:Middlewares/Third_Party/FatFs/src/ff.c **** 			unlock_fs(fs, FR_OK);		/* Unlock volume */
3836:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3837:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3838:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3839:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
3840:Middlewares/Third_Party/FatFs/src/ff.c **** }
3841:Middlewares/Third_Party/FatFs/src/ff.c **** 
3842:Middlewares/Third_Party/FatFs/src/ff.c **** 
3843:Middlewares/Third_Party/FatFs/src/ff.c **** 
3844:Middlewares/Third_Party/FatFs/src/ff.c **** 
3845:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH >= 1
3846:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3847:Middlewares/Third_Party/FatFs/src/ff.c **** /* Change Current Directory or Current Drive, Get Current Directory      */
3848:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3849:Middlewares/Third_Party/FatFs/src/ff.c **** 
3850:Middlewares/Third_Party/FatFs/src/ff.c **** #if _VOLUMES >= 2
3851:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_chdrive (
3852:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path		/* Drive number */
3853:Middlewares/Third_Party/FatFs/src/ff.c **** )
3854:Middlewares/Third_Party/FatFs/src/ff.c **** {
3855:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
3856:Middlewares/Third_Party/FatFs/src/ff.c **** 
3857:Middlewares/Third_Party/FatFs/src/ff.c **** 
3858:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3859:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&path);
3860:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
3861:Middlewares/Third_Party/FatFs/src/ff.c **** 
3862:Middlewares/Third_Party/FatFs/src/ff.c **** 	CurrVol = (BYTE)vol;	/* Set it as current volume */
3863:Middlewares/Third_Party/FatFs/src/ff.c **** 
3864:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
3865:Middlewares/Third_Party/FatFs/src/ff.c **** }
3866:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3867:Middlewares/Third_Party/FatFs/src/ff.c **** 
3868:Middlewares/Third_Party/FatFs/src/ff.c **** 
3869:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_chdir (
3870:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path	/* Pointer to the directory path */
3871:Middlewares/Third_Party/FatFs/src/ff.c **** )
3872:Middlewares/Third_Party/FatFs/src/ff.c **** {
3873:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3874:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3875:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3876:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
3877:Middlewares/Third_Party/FatFs/src/ff.c **** 
3878:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
3879:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, 0);
3880:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3881:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.obj.fs = fs;
3882:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
3883:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the path */
3884:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {					/* Follow completed */
3885:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {
3886:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->cdir = dj.obj.sclust;	/* It is the start directory itself */
3887:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3888:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->fs_type == FS_EXFAT) {
3889:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->cdc_scl = dj.obj.c_scl;
ARM GAS  /tmp/ccBfkcjf.s 			page 104


3890:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->cdc_size = dj.obj.c_size;
3891:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->cdc_ofs = dj.obj.c_ofs;
3892:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3893:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3894:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3895:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_DIR) {	/* It is a sub-directory */
3896:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3897:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fs->fs_type == FS_EXFAT) {
3898:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->cdir = ld_dword(fs->dirbuf + XDIR_FstClus);		/* Sub-directory cluster */
3899:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->cdc_scl = dj.obj.sclust;						/* Save containing directory information */
3900:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->cdc_size = ((DWORD)dj.obj.objsize & 0xFFFFFF00) | dj.obj.stat;
3901:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->cdc_ofs = dj.blk_ofs;
3902:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
3903:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3904:Middlewares/Third_Party/FatFs/src/ff.c **** 					{
3905:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->cdir = ld_clust(fs, dj.dir);					/* Sub-directory cluster */
3906:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3907:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
3908:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_PATH;		/* Reached but a file */
3909:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3910:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3911:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3912:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
3913:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_NO_PATH;
3914:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3915:Middlewares/Third_Party/FatFs/src/ff.c **** 
3916:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
3917:Middlewares/Third_Party/FatFs/src/ff.c **** }
3918:Middlewares/Third_Party/FatFs/src/ff.c **** 
3919:Middlewares/Third_Party/FatFs/src/ff.c **** 
3920:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH >= 2
3921:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_getcwd (
3922:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR* buff,	/* Pointer to the directory path */
3923:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT len		/* Size of path */
3924:Middlewares/Third_Party/FatFs/src/ff.c **** )
3925:Middlewares/Third_Party/FatFs/src/ff.c **** {
3926:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3927:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3928:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3929:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, n;
3930:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ccl;
3931:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR *tp;
3932:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO fno;
3933:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
3934:Middlewares/Third_Party/FatFs/src/ff.c **** 
3935:Middlewares/Third_Party/FatFs/src/ff.c **** 
3936:Middlewares/Third_Party/FatFs/src/ff.c **** 	*buff = 0;
3937:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
3938:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume((const TCHAR**)&buff, &fs, 0);	/* Get current volume */
3939:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3940:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.obj.fs = fs;
3941:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
3942:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = len;			/* Bottom of buffer (directory stack base) */
3943:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {	/* (Cannot do getcwd on exFAT and returns root path)
3944:Middlewares/Third_Party/FatFs/src/ff.c **** 			dj.obj.sclust = fs->cdir;				/* Start to follow upper directory from current directory */
3945:Middlewares/Third_Party/FatFs/src/ff.c **** 			while ((ccl = dj.obj.sclust) != 0) {	/* Repeat while current directory is a sub-directory */
3946:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(&dj, 1 * SZDIRE);	/* Get parent directory */
ARM GAS  /tmp/ccBfkcjf.s 			page 105


3947:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
3948:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = move_window(fs, dj.sect);
3949:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
3950:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.obj.sclust = ld_clust(fs, dj.dir);	/* Goto parent directory */
3951:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(&dj, 0);
3952:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
3953:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {							/* Find the entry links to the child directory */
3954:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_read(&dj, 0);
3955:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
3956:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ccl == ld_clust(fs, dj.dir)) break;	/* Found the entry */
3957:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_next(&dj, 0);
3958:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (res == FR_OK);
3959:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) res = FR_INT_ERR;/* It cannot be 'not found'. */
3960:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
3961:Middlewares/Third_Party/FatFs/src/ff.c **** 				get_fileinfo(&dj, &fno);		/* Get the directory name and push it to the buffer */
3962:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (n = 0; fno.fname[n]; n++) ;
3963:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < n + 3) {
3964:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NOT_ENOUGH_CORE; break;
3965:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3966:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (n) buff[--i] = fno.fname[--n];
3967:Middlewares/Third_Party/FatFs/src/ff.c **** 				buff[--i] = '/';
3968:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3969:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3970:Middlewares/Third_Party/FatFs/src/ff.c **** 		tp = buff;
3971:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3972:Middlewares/Third_Party/FatFs/src/ff.c **** #if _VOLUMES >= 2
3973:Middlewares/Third_Party/FatFs/src/ff.c **** 			*tp++ = '0' + CurrVol;			/* Put drive number */
3974:Middlewares/Third_Party/FatFs/src/ff.c **** 			*tp++ = ':';
3975:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3976:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i == len) {					/* Root-directory */
3977:Middlewares/Third_Party/FatFs/src/ff.c **** 				*tp++ = '/';
3978:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {						/* Sub-directroy */
3979:Middlewares/Third_Party/FatFs/src/ff.c **** 				do		/* Add stacked path str */
3980:Middlewares/Third_Party/FatFs/src/ff.c **** 					*tp++ = buff[i++];
3981:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (i < len);
3982:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3983:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3984:Middlewares/Third_Party/FatFs/src/ff.c **** 		*tp = 0;
3985:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
3986:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3987:Middlewares/Third_Party/FatFs/src/ff.c **** 
3988:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
3989:Middlewares/Third_Party/FatFs/src/ff.c **** }
3990:Middlewares/Third_Party/FatFs/src/ff.c **** 
3991:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_RPATH >= 2 */
3992:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_RPATH >= 1 */
3993:Middlewares/Third_Party/FatFs/src/ff.c **** 
3994:Middlewares/Third_Party/FatFs/src/ff.c **** 
3995:Middlewares/Third_Party/FatFs/src/ff.c **** 
3996:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
3997:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3998:Middlewares/Third_Party/FatFs/src/ff.c **** /* Seek File R/W Pointer                                                 */
3999:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4000:Middlewares/Third_Party/FatFs/src/ff.c **** 
4001:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_lseek (
4002:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,		/* Pointer to the file object */
4003:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t ofs		/* File pointer from top of file */
ARM GAS  /tmp/ccBfkcjf.s 			page 106


4004:Middlewares/Third_Party/FatFs/src/ff.c **** )
4005:Middlewares/Third_Party/FatFs/src/ff.c **** {
4006:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4007:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4008:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, bcs, nsect;
4009:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t ifptr;
4010:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
4011:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl, pcl, ncl, tcl, dsc, tlen, ulen, *tbl;
4012:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4013:Middlewares/Third_Party/FatFs/src/ff.c **** 
4014:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);		/* Check validity of the file object */
4015:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) res = (FRESULT)fp->err;
4016:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT && !_FS_READONLY
4017:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && fs->fs_type == FS_EXFAT) {
4018:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = fill_last_frag(&fp->obj, fp->clust, 0xFFFFFFFF);	/* Fill last fragment on the FAT if needed
4019:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4020:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4021:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) LEAVE_FF(fs, res);
4022:Middlewares/Third_Party/FatFs/src/ff.c **** 
4023:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
4024:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->cltbl) {	/* Fast seek */
4025:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs == CREATE_LINKMAP) {	/* Create CLMT */
4026:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl = fp->cltbl;
4027:Middlewares/Third_Party/FatFs/src/ff.c **** 			tlen = *tbl++; ulen = 2;	/* Given table size and required table size */
4028:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->obj.sclust;		/* Origin of the chain */
4029:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cl) {
4030:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
4031:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Get a fragment */
4032:Middlewares/Third_Party/FatFs/src/ff.c **** 					tcl = cl; ncl = 0; ulen += 2;	/* Top, length and used items */
4033:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
4034:Middlewares/Third_Party/FatFs/src/ff.c **** 						pcl = cl; ncl++;
4035:Middlewares/Third_Party/FatFs/src/ff.c **** 						cl = get_fat(&fp->obj, cl);
4036:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fs, FR_INT_ERR);
4037:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
4038:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
4039:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ulen <= tlen) {		/* Store the length and top of the fragment */
4040:Middlewares/Third_Party/FatFs/src/ff.c **** 						*tbl++ = ncl; *tbl++ = tcl;
4041:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4042:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (cl < fs->n_fatent);	/* Repeat until end of chain */
4043:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4044:Middlewares/Third_Party/FatFs/src/ff.c **** 			*fp->cltbl = ulen;	/* Number of items used */
4045:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ulen <= tlen) {
4046:Middlewares/Third_Party/FatFs/src/ff.c **** 				*tbl = 0;		/* Terminate table */
4047:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
4048:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NOT_ENOUGH_CORE;	/* Given table size is smaller than required */
4049:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4050:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {						/* Fast seek */
4051:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs > fp->obj.objsize) ofs = fp->obj.objsize;	/* Clip offset at the file size */
4052:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = ofs;				/* Set file pointer */
4053:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs) {
4054:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clmt_clust(fp, ofs - 1);
4055:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fs, fp->clust);
4056:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!dsc) ABORT(fs, FR_INT_ERR);
4057:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (DWORD)((ofs - 1) / SS(fs)) & (fs->csize - 1);
4058:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fs) && dsc != fp->sect) {	/* Refill sector cache if needed */
4059:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
4060:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
ARM GAS  /tmp/ccBfkcjf.s 			page 107


4061:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->flag & FA_DIRTY) {		/* Write-back dirty sector cache */
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
4063:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
4064:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4065:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4066:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (disk_read(fs->drv, fp->buf, dsc, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);	/* Load current sec
4067:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4068:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->sect = dsc;
4069:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4070:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4071:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4072:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
4073:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4074:Middlewares/Third_Party/FatFs/src/ff.c **** 
4075:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Normal Seek */
4076:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
4077:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4078:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->fs_type != FS_EXFAT && ofs >= 0x100000000) ofs = 0xFFFFFFFF;	/* Clip at 4GiB-1 if at FATx
4079:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4080:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs > fp->obj.objsize && (_FS_READONLY || !(fp->flag & FA_WRITE))) {	/* In read-only mode, cl
4081:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs = fp->obj.objsize;
4082:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4083:Middlewares/Third_Party/FatFs/src/ff.c **** 		ifptr = fp->fptr;
4084:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fptr = nsect = 0;
4085:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
4086:Middlewares/Third_Party/FatFs/src/ff.c **** 			bcs = (DWORD)fs->csize * SS(fs);	/* Cluster size (byte) */
4087:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
4088:Middlewares/Third_Party/FatFs/src/ff.c **** 				(ofs - 1) / bcs >= (ifptr - 1) / bcs) {	/* When seek to same or following cluster, */
4089:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(FSIZE_t)(bcs - 1);	/* start from the current cluster */
4090:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
4091:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->clust;
4092:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* When seek to back cluster, */
4093:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->obj.sclust;					/* start from the first cluster */
4094:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
4095:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0) {						/* If no cluster chain, create a new chain */
4096:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(&fp->obj, 0);
4097:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) ABORT(fs, FR_INT_ERR);
4098:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
4099:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = clst;
4100:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4101:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4102:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;
4103:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4104:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst != 0) {
4105:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (ofs > bcs) {						/* Cluster following loop */
4106:Middlewares/Third_Party/FatFs/src/ff.c **** 					ofs -= bcs; fp->fptr += bcs;
4107:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
4108:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->flag & FA_WRITE) {			/* Check if in write mode or not */
4109:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (_FS_EXFAT && fp->fptr > fp->obj.objsize) {	/* No FAT chain object needs correct objsize t
4110:Middlewares/Third_Party/FatFs/src/ff.c **** 							fp->obj.objsize = fp->fptr;
4111:Middlewares/Third_Party/FatFs/src/ff.c **** 							fp->flag |= FA_MODIFIED;
4112:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4113:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(&fp->obj, clst);	/* Follow chain with forceed stretch */
4114:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (clst == 0) {				/* Clip file size in case of disk full */
4115:Middlewares/Third_Party/FatFs/src/ff.c **** 							ofs = 0; break;
4116:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4117:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
ARM GAS  /tmp/ccBfkcjf.s 			page 108


4118:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4119:Middlewares/Third_Party/FatFs/src/ff.c **** 					{
4120:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = get_fat(&fp->obj, clst);	/* Follow cluster chain if not in write mode */
4121:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4122:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fs->n_fatent) ABORT(fs, FR_INT_ERR);
4124:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
4125:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4126:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr += ofs;
4127:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ofs % SS(fs)) {
4128:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect = clust2sect(fs, clst);	/* Current sector */
4129:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!nsect) ABORT(fs, FR_INT_ERR);
4130:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += (DWORD)(ofs / SS(fs));
4131:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4132:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4133:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4134:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!_FS_READONLY && fp->fptr > fp->obj.objsize) {		/* Set file change flag if the file size is e
4135:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.objsize = fp->fptr;
4136:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA_MODIFIED;
4137:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4138:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) && nsect != fp->sect) {	/* Fill sector cache if needed */
4139:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
4140:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
4141:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA_DIRTY) {			/* Write-back dirty sector cache */
4142:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
4143:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
4144:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4145:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4146:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fp->buf, nsect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);	/* Fill sector cach
4147:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4148:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sect = nsect;
4149:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4150:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4151:Middlewares/Third_Party/FatFs/src/ff.c **** 
4152:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4153:Middlewares/Third_Party/FatFs/src/ff.c **** }
4154:Middlewares/Third_Party/FatFs/src/ff.c **** 
4155:Middlewares/Third_Party/FatFs/src/ff.c **** 
4156:Middlewares/Third_Party/FatFs/src/ff.c **** 
4157:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1
4158:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4159:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create a Directory Object                                             */
4160:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4161:Middlewares/Third_Party/FatFs/src/ff.c **** 
4162:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_opendir (
4163:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to directory object to create */
4164:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path	/* Pointer to the directory path */
4165:Middlewares/Third_Party/FatFs/src/ff.c **** )
4166:Middlewares/Third_Party/FatFs/src/ff.c **** {
4167:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4168:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4169:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID *obj;
4170:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4171:Middlewares/Third_Party/FatFs/src/ff.c **** 
4172:Middlewares/Third_Party/FatFs/src/ff.c **** 
4173:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp) return FR_INVALID_OBJECT;
4174:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccBfkcjf.s 			page 109


4175:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
4176:Middlewares/Third_Party/FatFs/src/ff.c **** 	obj = &dp->obj;
4177:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, 0);
4178:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4179:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->fs = fs;
4180:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
4181:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(dp, path);			/* Follow the path to the directory */
4182:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {						/* Follow completed */
4183:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(dp->fn[NSFLAG] & NS_NONAME)) {	/* It is not the origin directory itself */
4184:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->attr & AM_DIR) {		/* This object is a sub-directory */
4185:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4186:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fs->fs_type == FS_EXFAT) {
4187:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->c_scl = obj->sclust;							/* Get containing directory inforamation */
4188:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->c_size = ((DWORD)obj->objsize & 0xFFFFFF00) | obj->stat;
4189:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->c_ofs = dp->blk_ofs;
4190:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->sclust = ld_dword(fs->dirbuf + XDIR_FstClus);	/* Get object allocation info */
4191:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->objsize = ld_qword(fs->dirbuf + XDIR_FileSize);
4192:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->stat = fs->dirbuf[XDIR_GenFlags] & 2;
4193:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
4194:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4195:Middlewares/Third_Party/FatFs/src/ff.c **** 					{
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->sclust = ld_clust(fs, dp->dir);	/* Get object allocation info */
4197:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4198:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {						/* This object is a file */
4199:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_PATH;
4200:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4201:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4202:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4203:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->id = fs->id;
4204:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(dp, 0);			/* Rewind directory */
4205:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
4206:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
4207:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (obj->sclust) {
4208:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->lockid = inc_lock(dp, 0);	/* Lock the sub directory */
4209:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!obj->lockid) res = FR_TOO_MANY_OPEN_FILES;
4210:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
4211:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->lockid = 0;	/* Root directory need not to be locked */
4212:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4213:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4214:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4215:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4216:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4217:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4218:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_NO_PATH;
4219:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4220:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) obj->fs = 0;		/* Invalidate the directory object if function faild */
4221:Middlewares/Third_Party/FatFs/src/ff.c **** 
4222:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4223:Middlewares/Third_Party/FatFs/src/ff.c **** }
4224:Middlewares/Third_Party/FatFs/src/ff.c **** 
4225:Middlewares/Third_Party/FatFs/src/ff.c **** 
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 
4227:Middlewares/Third_Party/FatFs/src/ff.c **** 
4228:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4229:Middlewares/Third_Party/FatFs/src/ff.c **** /* Close Directory                                                       */
4230:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4231:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccBfkcjf.s 			page 110


4232:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_closedir (
4233:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR *dp		/* Pointer to the directory object to be closed */
4234:Middlewares/Third_Party/FatFs/src/ff.c **** )
4235:Middlewares/Third_Party/FatFs/src/ff.c **** {
4236:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4237:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4238:Middlewares/Third_Party/FatFs/src/ff.c **** 
4239:Middlewares/Third_Party/FatFs/src/ff.c **** 
4240:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&dp->obj, &fs);			/* Check validity of the file object */
4241:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4242:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
4243:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (dp->obj.lockid) {				/* Decrement sub-directory open counter */
4244:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(dp->obj.lockid);
4245:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4246:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK)
4247:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4248:Middlewares/Third_Party/FatFs/src/ff.c **** 		{
4249:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->obj.fs = 0;			/* Invalidate directory object */
4250:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4251:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
4252:Middlewares/Third_Party/FatFs/src/ff.c **** 		unlock_fs(fs, FR_OK);		/* Unlock volume */
4253:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4254:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4255:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
4256:Middlewares/Third_Party/FatFs/src/ff.c **** }
4257:Middlewares/Third_Party/FatFs/src/ff.c **** 
4258:Middlewares/Third_Party/FatFs/src/ff.c **** 
4259:Middlewares/Third_Party/FatFs/src/ff.c **** 
4260:Middlewares/Third_Party/FatFs/src/ff.c **** 
4261:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4262:Middlewares/Third_Party/FatFs/src/ff.c **** /* Read Directory Entries in Sequence                                    */
4263:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4264:Middlewares/Third_Party/FatFs/src/ff.c **** 
4265:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_readdir (
4266:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to the open directory object */
4267:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno		/* Pointer to file information to return */
4268:Middlewares/Third_Party/FatFs/src/ff.c **** )
4269:Middlewares/Third_Party/FatFs/src/ff.c **** {
4270:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4271:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4272:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4273:Middlewares/Third_Party/FatFs/src/ff.c **** 
4274:Middlewares/Third_Party/FatFs/src/ff.c **** 
4275:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&dp->obj, &fs);	/* Check validity of the directory object */
4276:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4277:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!fno) {
4278:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_sdi(dp, 0);			/* Rewind the directory object */
4279:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
4280:Middlewares/Third_Party/FatFs/src/ff.c **** 			INIT_NAMBUF(fs);
4281:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_read(dp, 0);			/* Read an item */
4282:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory */
4283:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {				/* A valid entry is found */
4284:Middlewares/Third_Party/FatFs/src/ff.c **** 				get_fileinfo(dp, fno);		/* Get the object information */
4285:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_next(dp, 0);		/* Increment index for next */
4286:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory now */
4287:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4288:Middlewares/Third_Party/FatFs/src/ff.c **** 			FREE_NAMBUF();
ARM GAS  /tmp/ccBfkcjf.s 			page 111


4289:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4290:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4291:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4292:Middlewares/Third_Party/FatFs/src/ff.c **** }
4293:Middlewares/Third_Party/FatFs/src/ff.c **** 
4294:Middlewares/Third_Party/FatFs/src/ff.c **** 
4295:Middlewares/Third_Party/FatFs/src/ff.c **** 
4296:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FIND
4297:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4298:Middlewares/Third_Party/FatFs/src/ff.c **** /* Find Next File                                                        */
4299:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4300:Middlewares/Third_Party/FatFs/src/ff.c **** 
4301:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_findnext (
4302:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to the open directory object */
4303:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno	/* Pointer to the file information structure */
4304:Middlewares/Third_Party/FatFs/src/ff.c **** )
4305:Middlewares/Third_Party/FatFs/src/ff.c **** {
4306:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4307:Middlewares/Third_Party/FatFs/src/ff.c **** 
4308:Middlewares/Third_Party/FatFs/src/ff.c **** 
4309:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
4310:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = f_readdir(dp, fno);		/* Get a directory item */
4311:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK || !fno || !fno->fname[0]) break;	/* Terminate if any error or end of directory 
4312:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (pattern_matching(dp->pat, fno->fname, 0, 0)) break;		/* Test for the file name */
4313:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0 && _USE_FIND == 2
4314:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (pattern_matching(dp->pat, fno->altname, 0, 0)) break;	/* Test for alternative name if exist *
4315:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4316:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4317:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
4318:Middlewares/Third_Party/FatFs/src/ff.c **** }
4319:Middlewares/Third_Party/FatFs/src/ff.c **** 
4320:Middlewares/Third_Party/FatFs/src/ff.c **** 
4321:Middlewares/Third_Party/FatFs/src/ff.c **** 
4322:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4323:Middlewares/Third_Party/FatFs/src/ff.c **** /* Find First File                                                       */
4324:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4325:Middlewares/Third_Party/FatFs/src/ff.c **** 
4326:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_findfirst (
4327:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,				/* Pointer to the blank directory object */
4328:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno,			/* Pointer to the file information structure */
4329:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,		/* Pointer to the directory to open */
4330:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* pattern	/* Pointer to the matching pattern */
4331:Middlewares/Third_Party/FatFs/src/ff.c **** )
4332:Middlewares/Third_Party/FatFs/src/ff.c **** {
4333:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4334:Middlewares/Third_Party/FatFs/src/ff.c **** 
4335:Middlewares/Third_Party/FatFs/src/ff.c **** 
4336:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->pat = pattern;		/* Save pointer to pattern string */
4337:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = f_opendir(dp, path);		/* Open the target directory */
4338:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4339:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = f_findnext(dp, fno);	/* Find the first item */
4340:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4341:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
4342:Middlewares/Third_Party/FatFs/src/ff.c **** }
4343:Middlewares/Third_Party/FatFs/src/ff.c **** 
4344:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_FIND */
4345:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccBfkcjf.s 			page 112


4346:Middlewares/Third_Party/FatFs/src/ff.c **** 
4347:Middlewares/Third_Party/FatFs/src/ff.c **** 
4348:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE == 0
4349:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4350:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get File Status                                                       */
4351:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4352:Middlewares/Third_Party/FatFs/src/ff.c **** 
4353:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_stat (
4354:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file path */
4355:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno		/* Pointer to file information to return */
4356:Middlewares/Third_Party/FatFs/src/ff.c **** )
4357:Middlewares/Third_Party/FatFs/src/ff.c **** {
4358:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4359:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
4360:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4361:Middlewares/Third_Party/FatFs/src/ff.c **** 
4362:Middlewares/Third_Party/FatFs/src/ff.c **** 
4363:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
4364:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &dj.obj.fs, 0);
4365:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4366:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(dj.obj.fs);
4367:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
4368:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {				/* Follow completed */
4369:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* It is origin directory */
4370:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
4371:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {							/* Found an object */
4372:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fno) get_fileinfo(&dj, fno);
4373:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4374:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4375:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4376:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4377:Middlewares/Third_Party/FatFs/src/ff.c **** 
4378:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.obj.fs, res);
4379:Middlewares/Third_Party/FatFs/src/ff.c **** }
4380:Middlewares/Third_Party/FatFs/src/ff.c **** 
4381:Middlewares/Third_Party/FatFs/src/ff.c **** 
4382:Middlewares/Third_Party/FatFs/src/ff.c **** 
4383:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
4384:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4385:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get Number of Free Clusters                                           */
4386:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4387:Middlewares/Third_Party/FatFs/src/ff.c **** 
4388:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_getfree (
4389:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Path name of the logical drive number */
4390:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD* nclst,		/* Pointer to a variable to return number of free clusters */
4391:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS** fatfs		/* Pointer to return pointer to corresponding file system object */
4392:Middlewares/Third_Party/FatFs/src/ff.c **** )
4393:Middlewares/Third_Party/FatFs/src/ff.c **** {
4394:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4395:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4396:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD nfree, clst, sect, stat;
4397:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
4398:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *p;
4399:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID obj;
4400:Middlewares/Third_Party/FatFs/src/ff.c **** 
4401:Middlewares/Third_Party/FatFs/src/ff.c **** 
4402:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
ARM GAS  /tmp/ccBfkcjf.s 			page 113


4403:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, 0);
4404:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4405:Middlewares/Third_Party/FatFs/src/ff.c **** 		*fatfs = fs;				/* Return ptr to the fs object */
4406:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* If free_clst is valid, return it without full cluster scan */
4407:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clst <= fs->n_fatent - 2) {
4408:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clst;
4409:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
4410:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Get number of free clusters */
4411:Middlewares/Third_Party/FatFs/src/ff.c **** 			nfree = 0;
4412:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_FAT12) {	/* FAT12: Sector unalighed FAT entries */
4413:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = 2; obj.fs = fs;
4414:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
4415:Middlewares/Third_Party/FatFs/src/ff.c **** 					stat = get_fat(&obj, clst);
4416:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }
4417:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
4418:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) nfree++;
4419:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
4420:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
4421:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4422:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->fs_type == FS_EXFAT) {	/* exFAT: Scan bitmap table */
4423:Middlewares/Third_Party/FatFs/src/ff.c **** 					BYTE bm;
4424:Middlewares/Third_Party/FatFs/src/ff.c **** 					UINT b;
4425:Middlewares/Third_Party/FatFs/src/ff.c **** 
4426:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fs->n_fatent - 2;
4427:Middlewares/Third_Party/FatFs/src/ff.c **** 					sect = fs->database;
4428:Middlewares/Third_Party/FatFs/src/ff.c **** 					i = 0;
4429:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
4430:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (i == 0 && (res = move_window(fs, sect++)) != FR_OK) break;
4431:Middlewares/Third_Party/FatFs/src/ff.c **** 						for (b = 8, bm = fs->win[i]; b && clst; b--, clst--) {
4432:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!(bm & 1)) nfree++;
4433:Middlewares/Third_Party/FatFs/src/ff.c **** 							bm >>= 1;
4434:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4435:Middlewares/Third_Party/FatFs/src/ff.c **** 						i = (i + 1) % SS(fs);
4436:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (clst);
4437:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else
4438:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4439:Middlewares/Third_Party/FatFs/src/ff.c **** 				{	/* FAT16/32: Sector alighed FAT entries */
4440:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fs->n_fatent; sect = fs->fatbase;
4441:Middlewares/Third_Party/FatFs/src/ff.c **** 					i = 0; p = 0;
4442:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
4443:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (i == 0) {
4444:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = move_window(fs, sect++);
4445:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res != FR_OK) break;
4446:Middlewares/Third_Party/FatFs/src/ff.c **** 							p = fs->win;
4447:Middlewares/Third_Party/FatFs/src/ff.c **** 							i = SS(fs);
4448:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4449:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (fs->fs_type == FS_FAT16) {
4450:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (ld_word(p) == 0) nfree++;
4451:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 2; i -= 2;
4452:Middlewares/Third_Party/FatFs/src/ff.c **** 						} else {
4453:Middlewares/Third_Party/FatFs/src/ff.c **** 							if ((ld_dword(p) & 0x0FFFFFFF) == 0) nfree++;
4454:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 4; i -= 4;
4455:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4456:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (--clst);
4457:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4458:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4459:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = nfree;			/* Return the free clusters */
ARM GAS  /tmp/ccBfkcjf.s 			page 114


4460:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst = nfree;	/* Now free_clst is valid */
4461:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;		/* FSInfo is to be updated */
4462:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4463:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4464:Middlewares/Third_Party/FatFs/src/ff.c **** 
4465:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4466:Middlewares/Third_Party/FatFs/src/ff.c **** }
4467:Middlewares/Third_Party/FatFs/src/ff.c **** 
4468:Middlewares/Third_Party/FatFs/src/ff.c **** 
4469:Middlewares/Third_Party/FatFs/src/ff.c **** 
4470:Middlewares/Third_Party/FatFs/src/ff.c **** 
4471:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4472:Middlewares/Third_Party/FatFs/src/ff.c **** /* Truncate File                                                         */
4473:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4474:Middlewares/Third_Party/FatFs/src/ff.c **** 
4475:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_truncate (
4476:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp		/* Pointer to the file object */
4477:Middlewares/Third_Party/FatFs/src/ff.c **** )
4478:Middlewares/Third_Party/FatFs/src/ff.c **** {
4479:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4480:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4481:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ncl;
4482:Middlewares/Third_Party/FatFs/src/ff.c **** 
4483:Middlewares/Third_Party/FatFs/src/ff.c **** 
4484:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);	/* Check validity of the file object */
4485:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);
4486:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
4487:Middlewares/Third_Party/FatFs/src/ff.c **** 
4488:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->fptr < fp->obj.objsize) {	/* Process when fptr is not on the eof */
4489:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr == 0) {	/* When set file size to zero, remove entire cluster chain */
4490:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = remove_chain(&fp->obj, fp->obj.sclust, 0);
4491:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.sclust = 0;
4492:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {				/* When truncate a part of the file, remove remaining clusters */
4493:Middlewares/Third_Party/FatFs/src/ff.c **** 			ncl = get_fat(&fp->obj, fp->clust);
4494:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
4495:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == 0xFFFFFFFF) res = FR_DISK_ERR;
4496:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == 1) res = FR_INT_ERR;
4497:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK && ncl < fs->n_fatent) {
4498:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = remove_chain(&fp->obj, ncl, fp->clust);
4499:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4500:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4501:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->obj.objsize = fp->fptr;	/* Set file size to current R/W point */
4502:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA_MODIFIED;
4503:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
4504:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (fp->flag & FA_DIRTY)) {
4505:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) {
4506:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
4507:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
4508:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
4509:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4510:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4511:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4512:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) ABORT(fs, res);
4513:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4514:Middlewares/Third_Party/FatFs/src/ff.c **** 
4515:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4516:Middlewares/Third_Party/FatFs/src/ff.c **** }
ARM GAS  /tmp/ccBfkcjf.s 			page 115


4517:Middlewares/Third_Party/FatFs/src/ff.c **** 
4518:Middlewares/Third_Party/FatFs/src/ff.c **** 
4519:Middlewares/Third_Party/FatFs/src/ff.c **** 
4520:Middlewares/Third_Party/FatFs/src/ff.c **** 
4521:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4522:Middlewares/Third_Party/FatFs/src/ff.c **** /* Delete a File/Directory                                               */
4523:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4524:Middlewares/Third_Party/FatFs/src/ff.c **** 
4525:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_unlink (
4526:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path		/* Pointer to the file or directory path */
4527:Middlewares/Third_Party/FatFs/src/ff.c **** )
4528:Middlewares/Third_Party/FatFs/src/ff.c **** {
4529:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4530:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj, sdj;
4531:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dclst = 0;
4532:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4533:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4534:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID obj;
4535:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4536:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4537:Middlewares/Third_Party/FatFs/src/ff.c **** 
4538:Middlewares/Third_Party/FatFs/src/ff.c **** 
4539:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
4540:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, FA_WRITE);
4541:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
4542:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4543:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
4544:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the file path */
4545:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT)) {
4546:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;			/* Cannot remove dot entry */
4547:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4548:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
4549:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = chk_lock(&dj, 2);	/* Check if it is an open object */
4550:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4551:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {					/* The object is accessible */
4552:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {
4553:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;		/* Cannot remove the origin directory */
4554:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
4555:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_RDO) {
4556:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;		/* Cannot remove R/O object */
4557:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4558:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4559:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4560:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4561:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj.fs = fs;
4562:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->fs_type == FS_EXFAT) {
4563:Middlewares/Third_Party/FatFs/src/ff.c **** 					obj.sclust = dclst = ld_dword(fs->dirbuf + XDIR_FstClus);
4564:Middlewares/Third_Party/FatFs/src/ff.c **** 					obj.objsize = ld_qword(fs->dirbuf + XDIR_FileSize);
4565:Middlewares/Third_Party/FatFs/src/ff.c **** 					obj.stat = fs->dirbuf[XDIR_GenFlags] & 2;
4566:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else
4567:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4568:Middlewares/Third_Party/FatFs/src/ff.c **** 				{
4569:Middlewares/Third_Party/FatFs/src/ff.c **** 					dclst = ld_clust(fs, dj.dir);
4570:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4571:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_DIR) {			/* Is it a sub-directory? */
4572:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
4573:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (dclst == fs->cdir) {		 		/* Is it the current directory? */
ARM GAS  /tmp/ccBfkcjf.s 			page 116


4574:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
4575:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
4576:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4577:Middlewares/Third_Party/FatFs/src/ff.c **** 					{
4578:Middlewares/Third_Party/FatFs/src/ff.c **** 						sdj.obj.fs = fs;						/* Open the sub-directory */
4579:Middlewares/Third_Party/FatFs/src/ff.c **** 						sdj.obj.sclust = dclst;
4580:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4581:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (fs->fs_type == FS_EXFAT) {
4582:Middlewares/Third_Party/FatFs/src/ff.c **** 							sdj.obj.objsize = obj.objsize;
4583:Middlewares/Third_Party/FatFs/src/ff.c **** 							sdj.obj.stat = obj.stat;
4584:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4585:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4586:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = dir_sdi(&sdj, 0);
4587:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
4588:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = dir_read(&sdj, 0);			/* Read an item */
4589:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK) res = FR_DENIED;	/* Not empty? */
4590:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_NO_FILE) res = FR_OK;	/* Empty? */
4591:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4592:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4593:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4594:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4595:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4596:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&dj);			/* Remove the directory entry */
4597:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && dclst) {	/* Remove the cluster chain if exist */
4598:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4599:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = remove_chain(&obj, dclst, 0);
4600:Middlewares/Third_Party/FatFs/src/ff.c **** #else
4601:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = remove_chain(&dj.obj, dclst, 0);
4602:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4603:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4604:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) res = sync_fs(fs);
4605:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4606:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4607:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4608:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4609:Middlewares/Third_Party/FatFs/src/ff.c **** 
4610:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4611:Middlewares/Third_Party/FatFs/src/ff.c **** }
4612:Middlewares/Third_Party/FatFs/src/ff.c **** 
4613:Middlewares/Third_Party/FatFs/src/ff.c **** 
4614:Middlewares/Third_Party/FatFs/src/ff.c **** 
4615:Middlewares/Third_Party/FatFs/src/ff.c **** 
4616:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4617:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create a Directory                                                    */
4618:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4619:Middlewares/Third_Party/FatFs/src/ff.c **** 
4620:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_mkdir (
4621:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path		/* Pointer to the directory path */
4622:Middlewares/Third_Party/FatFs/src/ff.c **** )
4623:Middlewares/Third_Party/FatFs/src/ff.c **** {
4624:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4625:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
4626:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4627:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
4628:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n;
4629:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dsc, dcl, pcl, tm;
4630:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
ARM GAS  /tmp/ccBfkcjf.s 			page 117


4631:Middlewares/Third_Party/FatFs/src/ff.c **** 
4632:Middlewares/Third_Party/FatFs/src/ff.c **** 
4633:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
4634:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, FA_WRITE);
4635:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
4636:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4637:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
4638:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);			/* Follow the file path */
4639:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Any object with same name is already existing */
4640:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_NO_FILE && (dj.fn[NSFLAG] & NS_DOT)) {
4641:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
4642:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4643:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) {				/* Can create a new directory */
4644:Middlewares/Third_Party/FatFs/src/ff.c **** 			dcl = create_chain(&dj.obj, 0);		/* Allocate a cluster for the new directory table */
4645:Middlewares/Third_Party/FatFs/src/ff.c **** 			dj.obj.objsize = (DWORD)fs->csize * SS(fs);
4646:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
4647:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0) res = FR_DENIED;		/* No space to allocate a new cluster */
4648:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 1) res = FR_INT_ERR;
4649:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;
4650:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) res = sync_window(fs);	/* Flush FAT */
4651:Middlewares/Third_Party/FatFs/src/ff.c **** 			tm = GET_FATTIME();
4652:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Initialize the new directory table */
4653:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fs, dcl);
4654:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = fs->win;
4655:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(dir, 0, SS(fs));
4656:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
4657:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dir + DIR_Name, ' ', 11);	/* Create "." entry */
4658:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Name] = '.';
4659:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] = AM_DIR;
4660:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);
4661:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir, dcl);
4662:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(dir + SZDIRE, dir, SZDIRE); 	/* Create ".." entry */
4663:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[SZDIRE + 1] = '.'; pcl = dj.obj.sclust;
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fs->fs_type == FS_FAT32 && pcl == fs->dirbase) pcl = 0;
4665:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir + SZDIRE, pcl);
4666:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4667:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (n = fs->csize; n; n--) {	/* Write dot entries and clear following sectors */
4668:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->winsect = dsc++;
4669:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
4670:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_window(fs);
4671:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
4672:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dir, 0, SS(fs));
4673:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4674:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4675:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4676:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_register(&dj);	/* Register the object to the directoy */
4677:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4678:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4679:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4680:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->fs_type == FS_EXFAT) {	/* Initialize directory entry block */
4681:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_ModTime, tm);	/* Created time */
4682:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_FstClus, dcl);	/* Table start cluster */
4683:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_FileSize, (DWORD)dj.obj.objsize);	/* File size needs to be valid */
4684:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_ValidFileSize, (DWORD)dj.obj.objsize);
4685:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->dirbuf[XDIR_GenFlags] = 3;				/* Initialize the object flag (contiguous) */
4686:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->dirbuf[XDIR_Attr] = AM_DIR;				/* Attribute */
4687:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = store_xdir(&dj);
ARM GAS  /tmp/ccBfkcjf.s 			page 118


4688:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else
4689:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4690:Middlewares/Third_Party/FatFs/src/ff.c **** 				{
4691:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir = dj.dir;
4692:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);	/* Created time */
4693:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir, dcl);				/* Table start cluster */
4694:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] = AM_DIR;				/* Attribute */
4695:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
4696:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4697:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
4698:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);
4699:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4700:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
4701:Middlewares/Third_Party/FatFs/src/ff.c **** 				remove_chain(&dj.obj, dcl, 0);		/* Could not register, remove cluster chain */
4702:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4703:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4704:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4705:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4706:Middlewares/Third_Party/FatFs/src/ff.c **** 
4707:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4708:Middlewares/Third_Party/FatFs/src/ff.c **** }
4709:Middlewares/Third_Party/FatFs/src/ff.c **** 
4710:Middlewares/Third_Party/FatFs/src/ff.c **** 
4711:Middlewares/Third_Party/FatFs/src/ff.c **** 
4712:Middlewares/Third_Party/FatFs/src/ff.c **** 
4713:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4714:Middlewares/Third_Party/FatFs/src/ff.c **** /* Rename a File/Directory                                               */
4715:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4716:Middlewares/Third_Party/FatFs/src/ff.c **** 
4717:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_rename (
4718:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path_old,	/* Pointer to the object name to be renamed */
4719:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path_new	/* Pointer to the new name */
4720:Middlewares/Third_Party/FatFs/src/ff.c **** )
4721:Middlewares/Third_Party/FatFs/src/ff.c **** {
4722:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4723:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR djo, djn;
4724:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4725:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE buf[_FS_EXFAT ? SZDIRE * 2 : 24], *dir;
4726:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dw;
4727:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4728:Middlewares/Third_Party/FatFs/src/ff.c **** 
4729:Middlewares/Third_Party/FatFs/src/ff.c **** 
4730:Middlewares/Third_Party/FatFs/src/ff.c **** 	get_ldnumber(&path_new);						/* Snip drive number of new name off */
4731:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path_old, &fs, FA_WRITE);	/* Get logical drive of the old object */
4732:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4733:Middlewares/Third_Party/FatFs/src/ff.c **** 		djo.obj.fs = fs;
4734:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
4735:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&djo, path_old);		/* Check old object */
4736:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (djo.fn[NSFLAG] & (NS_DOT | NS_NONAME))) res = FR_INVALID_NAME;	/* Check vali
4737:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
4738:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
4739:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = chk_lock(&djo, 2);
4740:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4741:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4742:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {						/* Object to be renamed is found */
4743:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4744:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {	/* At exFAT */
ARM GAS  /tmp/ccBfkcjf.s 			page 119


4745:Middlewares/Third_Party/FatFs/src/ff.c **** 				BYTE nf, nn;
4746:Middlewares/Third_Party/FatFs/src/ff.c **** 				WORD nh;
4747:Middlewares/Third_Party/FatFs/src/ff.c **** 
4748:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(buf, fs->dirbuf, SZDIRE * 2);	/* Save 85+C0 entry of old object */
4749:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(&djn, &djo, sizeof djo);
4750:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = follow_path(&djn, path_new);		/* Make sure if new object name is not in use */
4751:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {						/* Is new name already in use by any other object? */
4752:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = (djn.obj.sclust == djo.obj.sclust && djn.dptr == djo.dptr) ? FR_NO_FILE : FR_EXIST;
4753:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4754:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) { 				/* It is a valid path and no name collision */
4755:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&djn);			/* Register the new entry */
4756:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
4757:Middlewares/Third_Party/FatFs/src/ff.c **** 						nf = fs->dirbuf[XDIR_NumSec]; nn = fs->dirbuf[XDIR_NumName];
4758:Middlewares/Third_Party/FatFs/src/ff.c **** 						nh = ld_word(fs->dirbuf + XDIR_NameHash);
4759:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(fs->dirbuf, buf, SZDIRE * 2);
4760:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->dirbuf[XDIR_NumSec] = nf; fs->dirbuf[XDIR_NumName] = nn;
4761:Middlewares/Third_Party/FatFs/src/ff.c **** 						st_word(fs->dirbuf + XDIR_NameHash, nh);
4762:Middlewares/Third_Party/FatFs/src/ff.c **** /* Start of critical section where an interruption can cause a cross-link */
4763:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = store_xdir(&djn);
4764:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4765:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4766:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else
4767:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4768:Middlewares/Third_Party/FatFs/src/ff.c **** 			{	/* At FAT12/FAT16/FAT32 */
4769:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(buf, djo.dir + DIR_Attr, 21);	/* Save information about the object except name */
4770:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(&djn, &djo, sizeof (DIR));		/* Duplicate the directory object */
4771:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = follow_path(&djn, path_new);		/* Make sure if new object name is not in use */
4772:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {						/* Is new name already in use by any other object? */
4773:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = (djn.obj.sclust == djo.obj.sclust && djn.dptr == djo.dptr) ? FR_NO_FILE : FR_EXIST;
4774:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4775:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) { 				/* It is a valid path and no name collision */
4776:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&djn);			/* Register the new entry */
4777:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
4778:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir = djn.dir;					/* Copy information about object except name */
4779:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(dir + 13, buf + 2, 19);
4780:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir[DIR_Attr] = buf[0] | AM_ARC;
4781:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
4782:Middlewares/Third_Party/FatFs/src/ff.c **** 						if ((dir[DIR_Attr] & AM_DIR) && djo.obj.sclust != djn.obj.sclust) {	/* Update .. entry in the
4783:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(fs, ld_clust(fs, dir));
4784:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!dw) {
4785:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = FR_INT_ERR;
4786:Middlewares/Third_Party/FatFs/src/ff.c **** 							} else {
4787:Middlewares/Third_Party/FatFs/src/ff.c **** /* Start of critical section where an interruption can cause a cross-link */
4788:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = move_window(fs, dw);
4789:Middlewares/Third_Party/FatFs/src/ff.c **** 								dir = fs->win + SZDIRE * 1;	/* Ptr to .. entry */
4790:Middlewares/Third_Party/FatFs/src/ff.c **** 								if (res == FR_OK && dir[1] == '.') {
4791:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(fs, dir, djn.obj.sclust);
4792:Middlewares/Third_Party/FatFs/src/ff.c **** 									fs->wflag = 1;
4793:Middlewares/Third_Party/FatFs/src/ff.c **** 								}
4794:Middlewares/Third_Party/FatFs/src/ff.c **** 							}
4795:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4796:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4797:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4798:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4799:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4800:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&djo);		/* Remove old entry */
4801:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
ARM GAS  /tmp/ccBfkcjf.s 			page 120


4802:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);
4803:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4804:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4805:Middlewares/Third_Party/FatFs/src/ff.c **** /* End of the critical section */
4806:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4807:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4808:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4809:Middlewares/Third_Party/FatFs/src/ff.c **** 
4810:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4811:Middlewares/Third_Party/FatFs/src/ff.c **** }
4812:Middlewares/Third_Party/FatFs/src/ff.c **** 
4813:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
4814:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE == 0 */
4815:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE <= 1 */
4816:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE <= 2 */
4817:Middlewares/Third_Party/FatFs/src/ff.c **** 
4818:Middlewares/Third_Party/FatFs/src/ff.c **** 
4819:Middlewares/Third_Party/FatFs/src/ff.c **** 
4820:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_CHMOD && !_FS_READONLY
4821:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4822:Middlewares/Third_Party/FatFs/src/ff.c **** /* Change Attribute                                                      */
4823:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4824:Middlewares/Third_Party/FatFs/src/ff.c **** 
4825:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_chmod (
4826:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file path */
4827:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE attr,			/* Attribute bits */
4828:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE mask			/* Attribute mask to change */
4829:Middlewares/Third_Party/FatFs/src/ff.c **** )
4830:Middlewares/Third_Party/FatFs/src/ff.c **** {
4831:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4832:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
4833:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4834:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4835:Middlewares/Third_Party/FatFs/src/ff.c **** 
4836:Middlewares/Third_Party/FatFs/src/ff.c **** 
4837:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, FA_WRITE);	/* Get logical drive */
4838:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
4839:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4840:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
4841:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
4842:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (dj.fn[NSFLAG] & (NS_DOT | NS_NONAME))) res = FR_INVALID_NAME;	/* Check objec
4843:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
4844:Middlewares/Third_Party/FatFs/src/ff.c **** 			mask &= AM_RDO|AM_HID|AM_SYS|AM_ARC;	/* Valid attribute mask */
4845:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4846:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {
4847:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->dirbuf[XDIR_Attr] = (attr & mask) | (fs->dirbuf[XDIR_Attr] & (BYTE)~mask);	/* Apply attribu
4848:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = store_xdir(&dj);
4849:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else
4850:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4851:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
4852:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.dir[DIR_Attr] = (attr & mask) | (dj.dir[DIR_Attr] & (BYTE)~mask);	/* Apply attribute change 
4853:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->wflag = 1;
4854:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4855:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4856:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(fs);
4857:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4858:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
ARM GAS  /tmp/ccBfkcjf.s 			page 121


4859:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4860:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4861:Middlewares/Third_Party/FatFs/src/ff.c **** 
4862:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4863:Middlewares/Third_Party/FatFs/src/ff.c **** }
4864:Middlewares/Third_Party/FatFs/src/ff.c **** 
4865:Middlewares/Third_Party/FatFs/src/ff.c **** 
4866:Middlewares/Third_Party/FatFs/src/ff.c **** 
4867:Middlewares/Third_Party/FatFs/src/ff.c **** 
4868:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4869:Middlewares/Third_Party/FatFs/src/ff.c **** /* Change Timestamp                                                      */
4870:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4871:Middlewares/Third_Party/FatFs/src/ff.c **** 
4872:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_utime (
4873:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file/directory name */
4874:Middlewares/Third_Party/FatFs/src/ff.c **** 	const FILINFO* fno	/* Pointer to the time stamp to be set */
4875:Middlewares/Third_Party/FatFs/src/ff.c **** )
4876:Middlewares/Third_Party/FatFs/src/ff.c **** {
4877:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4878:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
4879:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4880:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4881:Middlewares/Third_Party/FatFs/src/ff.c **** 
4882:Middlewares/Third_Party/FatFs/src/ff.c **** 
4883:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, FA_WRITE);	/* Get logical drive */
4884:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
4885:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4886:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
4887:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
4888:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (dj.fn[NSFLAG] & (NS_DOT | NS_NONAME))) res = FR_INVALID_NAME;	/* Check objec
4889:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
4890:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4891:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {
4892:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(fs->dirbuf + XDIR_ModTime, (DWORD)fno->fdate << 16 | fno->ftime);
4893:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = store_xdir(&dj);
4894:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else
4895:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4896:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
4897:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(dj.dir + DIR_ModTime, (DWORD)fno->fdate << 16 | fno->ftime);
4898:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->wflag = 1;
4899:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4900:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4901:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(fs);
4902:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4903:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4904:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4905:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4906:Middlewares/Third_Party/FatFs/src/ff.c **** 
4907:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4908:Middlewares/Third_Party/FatFs/src/ff.c **** }
4909:Middlewares/Third_Party/FatFs/src/ff.c **** 
4910:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_CHMOD && !_FS_READONLY */
4911:Middlewares/Third_Party/FatFs/src/ff.c **** 
4912:Middlewares/Third_Party/FatFs/src/ff.c **** 
4913:Middlewares/Third_Party/FatFs/src/ff.c **** 
4914:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LABEL
4915:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
ARM GAS  /tmp/ccBfkcjf.s 			page 122


4916:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get Volume Label                                                      */
4917:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4918:Middlewares/Third_Party/FatFs/src/ff.c **** 
4919:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_getlabel (
4920:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Path name of the logical drive number */
4921:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR* label,		/* Pointer to a buffer to return the volume label */
4922:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD* vsn			/* Pointer to a variable to return the volume serial number */
4923:Middlewares/Third_Party/FatFs/src/ff.c **** )
4924:Middlewares/Third_Party/FatFs/src/ff.c **** {
4925:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4926:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
4927:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4928:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT si, di;
4929:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE || _FS_EXFAT
4930:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w;
4931:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4932:Middlewares/Third_Party/FatFs/src/ff.c **** 
4933:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
4934:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, 0);
4935:Middlewares/Third_Party/FatFs/src/ff.c **** 
4936:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get volume label */
4937:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && label) {
4938:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.obj.fs = fs; dj.obj.sclust = 0;	/* Open root directory */
4939:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(&dj, 0);
4940:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
4941:Middlewares/Third_Party/FatFs/src/ff.c **** 		 	res = dir_read(&dj, 1);			/* Find a volume label entry */
4942:Middlewares/Third_Party/FatFs/src/ff.c **** 		 	if (res == FR_OK) {
4943:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4944:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->fs_type == FS_EXFAT) {
4945:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (si = di = 0; si < dj.dir[XDIR_NumLabel]; si++) {	/* Extract volume label from 83 entry */
4946:Middlewares/Third_Party/FatFs/src/ff.c **** 						w = ld_word(dj.dir + XDIR_Label + si * 2);
4947:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
4948:Middlewares/Third_Party/FatFs/src/ff.c **** 						label[di++] = w;
4949:Middlewares/Third_Party/FatFs/src/ff.c **** #else
4950:Middlewares/Third_Party/FatFs/src/ff.c **** 						w = ff_convert(w, 0);	/* Unicode -> OEM */
4951:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (w == 0) w = '?';	/* Replace wrong character */
4952:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (_DF1S && w >= 0x100) label[di++] = (char)(w >> 8);
4953:Middlewares/Third_Party/FatFs/src/ff.c **** 						label[di++] = (char)w;
4954:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4955:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4956:Middlewares/Third_Party/FatFs/src/ff.c **** 					label[di] = 0;
4957:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else
4958:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4959:Middlewares/Third_Party/FatFs/src/ff.c **** 				{
4960:Middlewares/Third_Party/FatFs/src/ff.c **** 					si = di = 0;		/* Extract volume label from AM_VOL entry with code comversion */
4961:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
4962:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
4963:Middlewares/Third_Party/FatFs/src/ff.c **** 						w = (si < 11) ? dj.dir[si++] : ' ';
4964:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (IsDBCS1(w) && si < 11 && IsDBCS2(dj.dir[si])) {
4965:Middlewares/Third_Party/FatFs/src/ff.c **** 							w = w << 8 | dj.dir[si++];
4966:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4967:Middlewares/Third_Party/FatFs/src/ff.c **** 						label[di++] = ff_convert(w, 1);	/* OEM -> Unicode */
4968:Middlewares/Third_Party/FatFs/src/ff.c **** #else
4969:Middlewares/Third_Party/FatFs/src/ff.c **** 						label[di++] = dj.dir[si++];
4970:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4971:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (di < 11);
4972:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {				/* Truncate trailing spaces */
ARM GAS  /tmp/ccBfkcjf.s 			page 123


4973:Middlewares/Third_Party/FatFs/src/ff.c **** 						label[di] = 0;
4974:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (di == 0) break;
4975:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (label[--di] == ' ');
4976:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4977:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4978:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4979:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) {	/* No label entry and return nul string */
4980:Middlewares/Third_Party/FatFs/src/ff.c **** 			label[0] = 0;
4981:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
4982:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4983:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4984:Middlewares/Third_Party/FatFs/src/ff.c **** 
4985:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get volume serial number */
4986:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && vsn) {
4987:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, fs->volbase);
4988:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
4989:Middlewares/Third_Party/FatFs/src/ff.c **** 			switch (fs->fs_type) {
4990:Middlewares/Third_Party/FatFs/src/ff.c **** 			case FS_EXFAT:
4991:Middlewares/Third_Party/FatFs/src/ff.c **** 				di = BPB_VolIDEx; break;
4992:Middlewares/Third_Party/FatFs/src/ff.c **** 
4993:Middlewares/Third_Party/FatFs/src/ff.c **** 			case FS_FAT32:
4994:Middlewares/Third_Party/FatFs/src/ff.c **** 				di = BS_VolID32; break;
4995:Middlewares/Third_Party/FatFs/src/ff.c **** 
4996:Middlewares/Third_Party/FatFs/src/ff.c **** 			default:
4997:Middlewares/Third_Party/FatFs/src/ff.c **** 				di = BS_VolID;
4998:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4999:Middlewares/Third_Party/FatFs/src/ff.c **** 			*vsn = ld_dword(fs->win + di);
5000:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5001:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5002:Middlewares/Third_Party/FatFs/src/ff.c **** 
5003:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
5004:Middlewares/Third_Party/FatFs/src/ff.c **** }
5005:Middlewares/Third_Party/FatFs/src/ff.c **** 
5006:Middlewares/Third_Party/FatFs/src/ff.c **** 
5007:Middlewares/Third_Party/FatFs/src/ff.c **** 
5008:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
5009:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5010:Middlewares/Third_Party/FatFs/src/ff.c **** /* Set Volume Label                                                      */
5011:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5012:Middlewares/Third_Party/FatFs/src/ff.c **** 
5013:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_setlabel (
5014:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* label	/* Pointer to the volume label to set */
5015:Middlewares/Third_Party/FatFs/src/ff.c **** )
5016:Middlewares/Third_Party/FatFs/src/ff.c **** {
5017:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
5018:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
5019:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
5020:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE dirvn[22];
5021:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j, slen;
5022:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w;
5023:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const char badchr[] = "\"*+,.:;<=>\?[]|\x7F";
5024:Middlewares/Third_Party/FatFs/src/ff.c **** 
5025:Middlewares/Third_Party/FatFs/src/ff.c **** 
5026:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
5027:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&label, &fs, FA_WRITE);
5028:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) LEAVE_FF(fs, res);
5029:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
ARM GAS  /tmp/ccBfkcjf.s 			page 124


5030:Middlewares/Third_Party/FatFs/src/ff.c **** 
5031:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get length of given volume label */
5032:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (slen = 0; (UINT)label[slen] >= ' '; slen++) ;	/* Get name length */
5033:Middlewares/Third_Party/FatFs/src/ff.c **** 
5034:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
5035:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
5036:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = j = 0; i < slen; ) {	/* Create volume label in directory form */
5037:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = label[i++];
5038:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
5039:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsDBCS1(w)) {
5040:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = (i < slen && IsDBCS2(label[i])) ? w << 8 | (BYTE)label[i++] : 0;
5041:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5042:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = ff_convert(w, 1);
5043:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5044:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (w == 0 || chk_chr(badchr, w) || j == 22) {	/* Check validity check validity of the volume la
5045:Middlewares/Third_Party/FatFs/src/ff.c **** 				LEAVE_FF(fs, FR_INVALID_NAME);
5046:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5047:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(dirvn + j, w); j += 2;
5048:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5049:Middlewares/Third_Party/FatFs/src/ff.c **** 		slen = j;
5050:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
5051:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5052:Middlewares/Third_Party/FatFs/src/ff.c **** 	{	/* On the FAT12/16/32 volume */
5053:Middlewares/Third_Party/FatFs/src/ff.c **** 		for ( ; slen && label[slen - 1] == ' '; slen--) ;	/* Remove trailing spaces */
5054:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (slen) {		/* Is there a volume label to be set? */
5055:Middlewares/Third_Party/FatFs/src/ff.c **** 			dirvn[0] = 0; i = j = 0;	/* Create volume label in directory form */
5056:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {
5057:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
5058:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = ff_convert(ff_wtoupper(label[i++]), 0);
5059:Middlewares/Third_Party/FatFs/src/ff.c **** #else
5060:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = (BYTE)label[i++];
5061:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (IsDBCS1(w)) {
5062:Middlewares/Third_Party/FatFs/src/ff.c **** 					w = (j < 10 && i < slen && IsDBCS2(label[i])) ? w << 8 | (BYTE)label[i++] : 0;
5063:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5064:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
5065:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = ff_convert(ff_wtoupper(ff_convert(w, 1)), 0);
5066:Middlewares/Third_Party/FatFs/src/ff.c **** #else
5067:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (IsLower(w)) w -= 0x20;			/* To upper ASCII characters */
5068:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
5069:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (w >= 0x80) w = ExCvt[w - 0x80];	/* To upper extended characters (SBCS cfg) */
5070:Middlewares/Third_Party/FatFs/src/ff.c **** #else
5071:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!_DF1S && w >= 0x80) w = 0;		/* Reject extended characters (ASCII cfg) */
5072:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5073:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5074:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5075:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (w == 0 || chk_chr(badchr, w) || j >= (UINT)((w >= 0x100) ? 10 : 11)) {	/* Reject invalid ch
5076:Middlewares/Third_Party/FatFs/src/ff.c **** 					LEAVE_FF(fs, FR_INVALID_NAME);
5077:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5078:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (w >= 0x100) dirvn[j++] = (BYTE)(w >> 8);
5079:Middlewares/Third_Party/FatFs/src/ff.c **** 				dirvn[j++] = (BYTE)w;
5080:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (i < slen);
5081:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (j < 11) dirvn[j++] = ' ';	/* Fill remaining name field */
5082:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dirvn[0] == DDEM) LEAVE_FF(fs, FR_INVALID_NAME);	/* Reject illegal name (heading DDEM) */
5083:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5084:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5085:Middlewares/Third_Party/FatFs/src/ff.c **** 
5086:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Set volume label */
ARM GAS  /tmp/ccBfkcjf.s 			page 125


5087:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.sclust = 0;		/* Open root directory */
5088:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(&dj, 0);
5089:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
5090:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_read(&dj, 1);	/* Get volume label entry */
5091:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
5092:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (_FS_EXFAT && fs->fs_type == FS_EXFAT) {
5093:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.dir[XDIR_NumLabel] = (BYTE)(slen / 2);	/* Change the volume label */
5094:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(dj.dir + XDIR_Label, dirvn, slen);
5095:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
5096:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (slen) {
5097:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(dj.dir, dirvn, 11);	/* Change the volume label */
5098:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
5099:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.dir[DIR_Name] = DDEM;	/* Remove the volume label */
5100:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5101:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5102:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
5103:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = sync_fs(fs);
5104:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {			/* No volume label entry is found or error */
5105:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) {
5106:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
5107:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (slen) {	/* Create a volume label entry */
5108:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_alloc(&dj, 1);	/* Allocate an entry */
5109:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
5110:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_set(dj.dir, 0, SZDIRE);	/* Clear the entry */
5111:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (_FS_EXFAT && fs->fs_type == FS_EXFAT) {
5112:Middlewares/Third_Party/FatFs/src/ff.c **** 							dj.dir[XDIR_Type] = 0x83;		/* Create 83 entry */
5113:Middlewares/Third_Party/FatFs/src/ff.c **** 							dj.dir[XDIR_NumLabel] = (BYTE)(slen / 2);
5114:Middlewares/Third_Party/FatFs/src/ff.c **** 							mem_cpy(dj.dir + XDIR_Label, dirvn, slen);
5115:Middlewares/Third_Party/FatFs/src/ff.c **** 						} else {
5116:Middlewares/Third_Party/FatFs/src/ff.c **** 							dj.dir[DIR_Attr] = AM_VOL;		/* Create volume label entry */
5117:Middlewares/Third_Party/FatFs/src/ff.c **** 							mem_cpy(dj.dir, dirvn, 11);
5118:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
5119:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
5120:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = sync_fs(fs);
5121:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
5122:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5123:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5124:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5125:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5126:Middlewares/Third_Party/FatFs/src/ff.c **** 
5127:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
5128:Middlewares/Third_Party/FatFs/src/ff.c **** }
5129:Middlewares/Third_Party/FatFs/src/ff.c **** 
5130:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
5131:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_LABEL */
5132:Middlewares/Third_Party/FatFs/src/ff.c **** 
5133:Middlewares/Third_Party/FatFs/src/ff.c **** 
5134:Middlewares/Third_Party/FatFs/src/ff.c **** 
5135:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_EXPAND && !_FS_READONLY
5136:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5137:Middlewares/Third_Party/FatFs/src/ff.c **** /* Allocate a Contiguous Blocks to the File                              */
5138:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5139:Middlewares/Third_Party/FatFs/src/ff.c **** 
5140:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_expand (
5141:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,		/* Pointer to the file object */
5142:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t fsz,	/* File size to be expanded to */
5143:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE opt		/* Operation mode 0:Find and prepare or 1:Find and allocate */
ARM GAS  /tmp/ccBfkcjf.s 			page 126


5144:Middlewares/Third_Party/FatFs/src/ff.c **** )
5145:Middlewares/Third_Party/FatFs/src/ff.c **** {
5146:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
5147:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
5148:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD n, clst, stcl, scl, ncl, tcl, lclst;
5149:Middlewares/Third_Party/FatFs/src/ff.c **** 
5150:Middlewares/Third_Party/FatFs/src/ff.c **** 
5151:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);		/* Check validity of the file object */
5152:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);
5153:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fsz == 0 || fp->obj.objsize != 0 || !(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);
5154:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
5155:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type != FS_EXFAT && fsz >= 0x100000000) LEAVE_FF(fs, FR_DENIED);	/* Check if in size li
5156:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5157:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (DWORD)fs->csize * SS(fs);	/* Cluster size */
5158:Middlewares/Third_Party/FatFs/src/ff.c **** 	tcl = (DWORD)(fsz / n) + ((fsz & (n - 1)) ? 1 : 0);	/* Number of clusters required */
5159:Middlewares/Third_Party/FatFs/src/ff.c **** 	stcl = fs->last_clst; lclst = 0;
5160:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stcl < 2 || stcl >= fs->n_fatent) stcl = 2;
5161:Middlewares/Third_Party/FatFs/src/ff.c **** 
5162:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
5163:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {
5164:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = find_bitmap(fs, stcl, tcl);			/* Find a contiguous cluster block */
5165:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (scl == 0) res = FR_DENIED;				/* No contiguous cluster block was found */
5166:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (scl == 0xFFFFFFFF) res = FR_DISK_ERR;
5167:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {	/* A contiguous free area is found */
5168:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (opt) {		/* Allocate it now */
5169:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = change_bitmap(fs, scl, tcl, 1);	/* Mark the cluster block 'in use' */
5170:Middlewares/Third_Party/FatFs/src/ff.c **** 				lclst = scl + tcl - 1;
5171:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {		/* Set it as suggested point for next allocation */
5172:Middlewares/Third_Party/FatFs/src/ff.c **** 				lclst = scl - 1;
5173:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5174:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5175:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
5176:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5177:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
5178:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst = stcl; ncl = 0;
5179:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {	/* Find a contiguous cluster block */
5180:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = get_fat(&fp->obj, clst);
5181:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (++clst >= fs->n_fatent) clst = 2;
5182:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (n == 1) { res = FR_INT_ERR; break; }
5183:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (n == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }
5184:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (n == 0) {	/* Is it a free cluster? */
5185:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++ncl == tcl) break;	/* Break if a contiguous cluster block is found */
5186:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
5187:Middlewares/Third_Party/FatFs/src/ff.c **** 				scl = clst; ncl = 0;		/* Not a free cluster */
5188:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5189:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst == stcl) { res = FR_DENIED; break; }	/* No contiguous cluster? */
5190:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5191:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {	/* A contiguous free area is found */
5192:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (opt) {		/* Allocate it now */
5193:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (clst = scl, n = tcl; n; clst++, n--) {	/* Create a cluster chain on the FAT */
5194:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = put_fat(fs, clst, (n == 1) ? 0xFFFFFFFF : clst + 1);
5195:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
5196:Middlewares/Third_Party/FatFs/src/ff.c **** 					lclst = clst;
5197:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5198:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {		/* Set it as suggested point for next allocation */
5199:Middlewares/Third_Party/FatFs/src/ff.c **** 				lclst = scl - 1;
5200:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
ARM GAS  /tmp/ccBfkcjf.s 			page 127


5201:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5202:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5203:Middlewares/Third_Party/FatFs/src/ff.c **** 
5204:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
5205:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clst = lclst;		/* Set suggested start cluster to start next */
5206:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (opt) {	/* Is it allocated now? */
5207:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.sclust = scl;		/* Update object allocation information */
5208:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.objsize = fsz;
5209:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (_FS_EXFAT) fp->obj.stat = 2;	/* Set status 'contiguous chain' */
5210:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA_MODIFIED;
5211:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->free_clst <= fs->n_fatent - 2) {	/* Update FSINFO */
5212:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->free_clst -= tcl;
5213:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->fsi_flag |= 1;
5214:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5215:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5216:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5217:Middlewares/Third_Party/FatFs/src/ff.c **** 
5218:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
5219:Middlewares/Third_Party/FatFs/src/ff.c **** }
5220:Middlewares/Third_Party/FatFs/src/ff.c **** 
5221:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_EXPAND && !_FS_READONLY */
5222:Middlewares/Third_Party/FatFs/src/ff.c **** 
5223:Middlewares/Third_Party/FatFs/src/ff.c **** 
5224:Middlewares/Third_Party/FatFs/src/ff.c **** 
5225:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FORWARD
5226:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5227:Middlewares/Third_Party/FatFs/src/ff.c **** /* Forward data to the stream directly                                   */
5228:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5229:Middlewares/Third_Party/FatFs/src/ff.c **** 
5230:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_forward (
5231:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp, 						/* Pointer to the file object */
5232:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT (*func)(const BYTE*,UINT),	/* Pointer to the streaming function */
5233:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT btf,						/* Number of bytes to forward */
5234:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT* bf						/* Pointer to number of bytes forwarded */
5235:Middlewares/Third_Party/FatFs/src/ff.c **** )
5236:Middlewares/Third_Party/FatFs/src/ff.c **** {
5237:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
5238:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
5239:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
5240:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t remain;
5241:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rcnt, csect;
5242:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dbuf;
5243:Middlewares/Third_Party/FatFs/src/ff.c **** 
5244:Middlewares/Third_Party/FatFs/src/ff.c **** 
5245:Middlewares/Third_Party/FatFs/src/ff.c **** 	*bf = 0;	/* Clear transfer byte counter */
5246:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);		/* Check validity of the file object */
5247:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);
5248:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_READ)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
5249:Middlewares/Third_Party/FatFs/src/ff.c **** 
5250:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
5251:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (btf > remain) btf = (UINT)remain;			/* Truncate btf by remaining bytes */
5252:Middlewares/Third_Party/FatFs/src/ff.c **** 
5253:Middlewares/Third_Party/FatFs/src/ff.c **** 	for ( ;  btf && (*func)(0, 0);					/* Repeat until all data transferred or stream goes busy */
5254:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fptr += rcnt, *bf += rcnt, btf -= rcnt) {
5255:Middlewares/Third_Party/FatFs/src/ff.c **** 		csect = (UINT)(fp->fptr / SS(fs) & (fs->csize - 1));	/* Sector offset in the cluster */
5256:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {				/* On the sector boundary? */
5257:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {						/* On the cluster boundary? */
ARM GAS  /tmp/ccBfkcjf.s 			page 128


5258:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = (fp->fptr == 0) ?			/* On the top of the file? */
5259:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust : get_fat(&fp->obj, fp->clust);
5260:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) ABORT(fs, FR_INT_ERR);
5261:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
5262:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;					/* Update current cluster */
5263:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5264:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5265:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = clust2sect(fs, fp->clust);			/* Get current data sector */
5266:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!sect) ABORT(fs, FR_INT_ERR);
5267:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect += csect;
5268:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
5269:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fs, sect) != FR_OK) ABORT(fs, FR_DISK_ERR);	/* Move sector window to the file dat
5270:Middlewares/Third_Party/FatFs/src/ff.c **** 		dbuf = fs->win;
5271:Middlewares/Third_Party/FatFs/src/ff.c **** #else
5272:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->sect != sect) {		/* Fill sector cache with file data */
5273:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
5274:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA_DIRTY) {		/* Write-back dirty sector cache */
5275:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
5276:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
5277:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5278:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5279:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fp->buf, sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
5280:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5281:Middlewares/Third_Party/FatFs/src/ff.c **** 		dbuf = fp->buf;
5282:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5283:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->sect = sect;
5284:Middlewares/Third_Party/FatFs/src/ff.c **** 		rcnt = SS(fs) - (UINT)fp->fptr % SS(fs);	/* Number of bytes left in the sector */
5285:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btf) rcnt = btf;					/* Clip it by btr if needed */
5286:Middlewares/Third_Party/FatFs/src/ff.c **** 		rcnt = (*func)(dbuf + ((UINT)fp->fptr % SS(fs)), rcnt);	/* Forward the file data */
5287:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!rcnt) ABORT(fs, FR_INT_ERR);
5288:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5289:Middlewares/Third_Party/FatFs/src/ff.c **** 
5290:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, FR_OK);
5291:Middlewares/Third_Party/FatFs/src/ff.c **** }
5292:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_FORWARD */
5293:Middlewares/Third_Party/FatFs/src/ff.c **** 
5294:Middlewares/Third_Party/FatFs/src/ff.c **** 
5295:Middlewares/Third_Party/FatFs/src/ff.c **** 
5296:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_MKFS && !_FS_READONLY
5297:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5298:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create an FAT/exFAT volume                                            */
5299:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5300:Middlewares/Third_Party/FatFs/src/ff.c **** 
5301:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_mkfs (
5302:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Logical drive number */
5303:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE opt,			/* Format option */
5304:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD au,			/* Size of allocation unit (cluster) [byte] */
5305:Middlewares/Third_Party/FatFs/src/ff.c **** 	void* work,			/* Pointer to working buffer */
5306:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT len			/* Size of working buffer */
5307:Middlewares/Third_Party/FatFs/src/ff.c **** )
5308:Middlewares/Third_Party/FatFs/src/ff.c **** {
5309:Middlewares/Third_Party/FatFs/src/ff.c **** 	const UINT n_fats = 1;		/* Number of FATs for FAT12/16/32 volume (1 or 2) */
5310:Middlewares/Third_Party/FatFs/src/ff.c **** 	const UINT n_rootdir = 512;	/* Number of root directory entries for FAT12/16 volume */
5311:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const WORD cst[] = {1, 4, 16, 64, 256, 512, 0};	/* Cluster size boundary for FAT12/16 volum
5312:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const WORD cst32[] = {1, 2, 4, 8, 16, 32, 0};	/* Cluster size boundary for FAT32 volume (12
5313:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, sys, *buf, *pte, pdrv, part;
5314:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD ss;
ARM GAS  /tmp/ccBfkcjf.s 			page 129


5315:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD szb_buf, sz_buf, sz_blk, n_clst, pau, sect, nsect, n;
5316:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD b_vol, b_fat, b_data;				/* Base LBA for volume, fat, data */
5317:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sz_vol, sz_rsv, sz_fat, sz_dir;	/* Size for volume, fat, dir, data */
5318:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
5319:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
5320:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
5321:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM || _FS_EXFAT
5322:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD tbl[3];
5323:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5324:Middlewares/Third_Party/FatFs/src/ff.c **** 
5325:Middlewares/Third_Party/FatFs/src/ff.c **** 
5326:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Check mounted drive and clear work area */
5327:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&path);					/* Get target logical drive */
5328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
5329:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (FatFs[vol]) FatFs[vol]->fs_type = 0;	/* Clear the volume */
5330:Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
5331:Middlewares/Third_Party/FatFs/src/ff.c **** 	part = LD2PT(vol);	/* Partition (0:create as new, 1-4:get from partition table) */
5332:Middlewares/Third_Party/FatFs/src/ff.c **** 
5333:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Check physical drive status */
5334:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(pdrv);
5335:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
5336:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
5337:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_BLOCK_SIZE, &sz_blk) != RES_OK || !sz_blk || sz_blk > 32768 || (sz_blk & 
5338:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
5339:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_SECTOR_SIZE, &ss) != RES_OK) return FR_DISK_ERR;
5340:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ss > _MAX_SS || ss < _MIN_SS || (ss & (ss - 1))) return FR_DISK_ERR;
5341:Middlewares/Third_Party/FatFs/src/ff.c **** #else
5342:Middlewares/Third_Party/FatFs/src/ff.c **** 	ss = _MAX_SS;
5343:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((au != 0 && au < ss) || au > 0x1000000 || (au & (au - 1))) return FR_INVALID_PARAMETER;	/* Che
5345:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
5346:Middlewares/Third_Party/FatFs/src/ff.c **** 
5347:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get working buffer */
5348:Middlewares/Third_Party/FatFs/src/ff.c **** 	buf = (BYTE*)work;		/* Working buffer */
5349:Middlewares/Third_Party/FatFs/src/ff.c **** 	sz_buf = len / ss;		/* Size of working buffer (sector) */
5350:Middlewares/Third_Party/FatFs/src/ff.c **** 	szb_buf = sz_buf * ss;	/* Size of working buffer (byte) */
5351:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!szb_buf) return FR_MKFS_ABORTED;
5352:Middlewares/Third_Party/FatFs/src/ff.c **** 
5353:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine where the volume to be located (b_vol, sz_vol) */
5354:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_MULTI_PARTITION && part != 0) {
5355:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Get partition information from partition table in the MBR */
5356:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_read(pdrv, buf, 0, 1) != RES_OK) return FR_DISK_ERR;	/* Load MBR */
5357:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_word(buf + BS_55AA) != 0xAA55) return FR_MKFS_ABORTED;	/* Check if MBR is valid */
5358:Middlewares/Third_Party/FatFs/src/ff.c **** 		pte = buf + (MBR_Table + (part - 1) * SZ_PTE);
5359:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!pte[PTE_System]) return FR_MKFS_ABORTED;	/* No partition? */
5360:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = ld_dword(pte + PTE_StLba);		/* Get volume start sector */
5361:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_vol = ld_dword(pte + PTE_SizLba);	/* Get volume size */
5362:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
5363:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create a single-partition in this function */
5364:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_ioctl(pdrv, GET_SECTOR_COUNT, &sz_vol) != RES_OK) return FR_DISK_ERR;
5365:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = (opt & FM_SFD) ? 0 : 63;		/* Volume start sector */
5366:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < b_vol) return FR_MKFS_ABORTED;
5367:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_vol -= b_vol;						/* Volume size */
5368:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5369:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sz_vol < 128) return FR_MKFS_ABORTED;	/* Check if volume size is >=128s */
5370:Middlewares/Third_Party/FatFs/src/ff.c **** 
5371:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Pre-determine the FAT type */
ARM GAS  /tmp/ccBfkcjf.s 			page 130


5372:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
5373:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_EXFAT && (opt & FM_EXFAT)) {	/* exFAT possible? */
5374:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((opt & FM_ANY) == FM_EXFAT || sz_vol >= 0x4000000 || au > 128) {	/* exFAT only, vol >= 64Ms 
5375:Middlewares/Third_Party/FatFs/src/ff.c **** 				fmt = FS_EXFAT; break;
5376:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5377:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5378:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (au > 128) return FR_INVALID_PARAMETER;	/* Too large au for FAT/FAT32 */
5379:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (opt & FM_FAT32) {	/* FAT32 possible? */
5380:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((opt & FM_ANY) == FM_FAT32 || !(opt & FM_FAT)) {	/* FAT32 only or no-FAT? */
5381:Middlewares/Third_Party/FatFs/src/ff.c **** 				fmt = FS_FAT32; break;
5382:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5383:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5384:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(opt & FM_FAT)) return FR_INVALID_PARAMETER;	/* no-FAT? */
5385:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT16;
5386:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (0);
5387:Middlewares/Third_Party/FatFs/src/ff.c **** 
5388:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
5389:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_EXFAT) {	/* Create an exFAT volume */
5390:Middlewares/Third_Party/FatFs/src/ff.c **** 		DWORD szb_bit, szb_case, sum, nb, cl;
5391:Middlewares/Third_Party/FatFs/src/ff.c **** 		WCHAR ch, si;
5392:Middlewares/Third_Party/FatFs/src/ff.c **** 		UINT j, st;
5393:Middlewares/Third_Party/FatFs/src/ff.c **** 		BYTE b;
5394:Middlewares/Third_Party/FatFs/src/ff.c **** 
5395:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < 0x1000) return FR_MKFS_ABORTED;	/* Too small volume? */
5396:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
5397:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[0] = b_vol; tbl[1] = b_vol + sz_vol - 1;	/* Inform the device the volume area may be erased *
5398:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_ioctl(pdrv, CTRL_TRIM, tbl);
5399:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5400:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Determine FAT location, data location and number of clusters */
5401:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!au) {	/* au auto-selection */
5402:Middlewares/Third_Party/FatFs/src/ff.c **** 			au = 8;
5403:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (sz_vol >= 0x80000) au = 64;		/* >= 512Ks */
5404:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (sz_vol >= 0x4000000) au = 256;	/* >= 64Ms */
5405:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5406:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_fat = b_vol + 32;										/* FAT start at offset 32 */
5407:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_fat = ((sz_vol / au + 2) * 4 + ss - 1) / ss;			/* Number of FAT sectors */
5408:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_data = (b_fat + sz_fat + sz_blk - 1) & ~(sz_blk - 1);	/* Align data area to the erase block bou
5409:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (b_data >= sz_vol / 2) return FR_MKFS_ABORTED;		/* Too small volume? */
5410:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_clst = (sz_vol - (b_data - b_vol)) / au;				/* Number of clusters */
5411:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n_clst <16) return FR_MKFS_ABORTED;					/* Too few clusters? */
5412:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n_clst > MAX_EXFAT) return FR_MKFS_ABORTED;			/* Too many clusters? */
5413:Middlewares/Third_Party/FatFs/src/ff.c **** 
5414:Middlewares/Third_Party/FatFs/src/ff.c **** 		szb_bit = (n_clst + 7) / 8;						/* Size of allocation bitmap */
5415:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[0] = (szb_bit + au * ss - 1) / (au * ss);	/* Number of allocation bitmap clusters */
5416:Middlewares/Third_Party/FatFs/src/ff.c **** 
5417:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create a compressed up-case table */
5418:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_data + au * tbl[0];	/* Table start sector */
5419:Middlewares/Third_Party/FatFs/src/ff.c **** 		sum = 0;						/* Table checksum to be stored in the 82 entry */
5420:Middlewares/Third_Party/FatFs/src/ff.c **** 		st = si = i = j = szb_case = 0;
5421:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
5422:Middlewares/Third_Party/FatFs/src/ff.c **** 			switch (st) {
5423:Middlewares/Third_Party/FatFs/src/ff.c **** 			case 0:
5424:Middlewares/Third_Party/FatFs/src/ff.c **** 				ch = ff_wtoupper(si);	/* Get an up-case char */
5425:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ch != si) {
5426:Middlewares/Third_Party/FatFs/src/ff.c **** 					si++; break;		/* Store the up-case char if exist */
5427:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5428:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (j = 1; (WCHAR)(si + j) && (WCHAR)(si + j) == ff_wtoupper((WCHAR)(si + j)); j++) ;	/* Get r
ARM GAS  /tmp/ccBfkcjf.s 			page 131


5429:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (j >= 128) {
5430:Middlewares/Third_Party/FatFs/src/ff.c **** 					ch = 0xFFFF; st = 2; break;	/* Compress the no-case block if run is >= 128 */
5431:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5432:Middlewares/Third_Party/FatFs/src/ff.c **** 				st = 1;			/* Do not compress short run */
5433:Middlewares/Third_Party/FatFs/src/ff.c **** 				/* go to next case */
5434:Middlewares/Third_Party/FatFs/src/ff.c **** 			case 1:
5435:Middlewares/Third_Party/FatFs/src/ff.c **** 				ch = si++;		/* Fill the short run */
5436:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (--j == 0) st = 0;
5437:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
5438:Middlewares/Third_Party/FatFs/src/ff.c **** 
5439:Middlewares/Third_Party/FatFs/src/ff.c **** 			default:
5440:Middlewares/Third_Party/FatFs/src/ff.c **** 				ch = (WCHAR)j; si += j;	/* Number of chars to skip */
5441:Middlewares/Third_Party/FatFs/src/ff.c **** 				st = 0;
5442:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5443:Middlewares/Third_Party/FatFs/src/ff.c **** 			sum = xsum32(buf[i + 0] = (BYTE)ch, sum);		/* Put it into the write buffer */
5444:Middlewares/Third_Party/FatFs/src/ff.c **** 			sum = xsum32(buf[i + 1] = (BYTE)(ch >> 8), sum);
5445:Middlewares/Third_Party/FatFs/src/ff.c **** 			i += 2; szb_case += 2;
5446:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!si || i == szb_buf) {		/* Write buffered data when buffer full or end of process */
5447:Middlewares/Third_Party/FatFs/src/ff.c **** 				n = (i + ss - 1) / ss;
5448:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(pdrv, buf, sect, n) != RES_OK) return FR_DISK_ERR;
5449:Middlewares/Third_Party/FatFs/src/ff.c **** 				sect += n; i = 0;
5450:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5451:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (si);
5452:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[1] = (szb_case + au * ss - 1) / (au * ss);	/* Number of up-case table clusters */
5453:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[2] = 1;										/* Number of root dir clusters */
5454:Middlewares/Third_Party/FatFs/src/ff.c **** 
5455:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Initialize the allocation bitmap */
5456:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_data; nsect = (szb_bit + ss - 1) / ss;	/* Start of bitmap and number of sectors */
5457:Middlewares/Third_Party/FatFs/src/ff.c **** 		nb = tbl[0] + tbl[1] + tbl[2];					/* Number of clusters in-use by system */
5458:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
5459:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, szb_buf);
5460:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (i = 0; nb >= 8 && i < szb_buf; buf[i++] = 0xFF, nb -= 8) ;
5461:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (b = 1; nb && i < szb_buf; buf[i] |= b, b <<= 1, nb--) ;
5462:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (nsect > sz_buf) ? sz_buf : nsect;		/* Write the buffered data */
5463:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect, n) != RES_OK) return FR_DISK_ERR;
5464:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
5465:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
5466:Middlewares/Third_Party/FatFs/src/ff.c **** 
5467:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Initialize the FAT */
5468:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_fat; nsect = sz_fat;	/* Start of FAT and number of FAT sectors */
5469:Middlewares/Third_Party/FatFs/src/ff.c **** 		j = nb = cl = 0;
5470:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
5471:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, szb_buf); i = 0;	/* Clear work area and reset write index */
5472:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cl == 0) {	/* Set entry 0 and 1 */
5473:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + i, 0xFFFFFFF8); i += 4; cl++;
5474:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + i, 0xFFFFFFFF); i += 4; cl++;
5475:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5476:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {			/* Create chains of bitmap, up-case and root dir */
5477:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (nb && i < szb_buf) {			/* Create a chain */
5478:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(buf + i, (nb > 1) ? cl + 1 : 0xFFFFFFFF);
5479:Middlewares/Third_Party/FatFs/src/ff.c **** 					i += 4; cl++; nb--;
5480:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5481:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!nb && j < 3) nb = tbl[j++];	/* Next chain */
5482:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (nb && i < szb_buf);
5483:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (nsect > sz_buf) ? sz_buf : nsect;	/* Write the buffered data */
5484:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect, n) != RES_OK) return FR_DISK_ERR;
5485:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
ARM GAS  /tmp/ccBfkcjf.s 			page 132


5486:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
5487:Middlewares/Third_Party/FatFs/src/ff.c **** 
5488:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Initialize the root directory */
5489:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(buf, 0, szb_buf);
5490:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[SZDIRE * 0 + 0] = 0x83;		/* 83 entry (volume label) */
5491:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[SZDIRE * 1 + 0] = 0x81;		/* 81 entry (allocation bitmap) */
5492:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + SZDIRE * 1 + 20, 2);
5493:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + SZDIRE * 1 + 24, szb_bit);
5494:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[SZDIRE * 2 + 0] = 0x82;		/* 82 entry (up-case table) */
5495:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + SZDIRE * 2 + 4, sum);
5496:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + SZDIRE * 2 + 20, 2 + tbl[0]);
5497:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + SZDIRE * 2 + 24, szb_case);
5498:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_data + au * (tbl[0] + tbl[1]);	nsect = au;	/* Start of the root directory and number of 
5499:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {	/* Fill root directory sectors */
5500:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (nsect > sz_buf) ? sz_buf : nsect;
5501:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect, n) != RES_OK) return FR_DISK_ERR;
5502:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
5503:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
5504:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
5505:Middlewares/Third_Party/FatFs/src/ff.c **** 
5506:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create two set of the exFAT VBR blocks */
5507:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_vol;
5508:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (n = 0; n < 2; n++) {
5509:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Main record (+0) */
5510:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
5511:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(buf + BS_JmpBoot, "\xEB\x76\x90" "EXFAT   ", 11);	/* Boot jump code (x86), OEM name */
5512:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_VolOfsEx, b_vol);					/* Volume offset in the physical drive [sector] */
5513:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_TotSecEx, sz_vol);					/* Volume size [sector] */
5514:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_FatOfsEx, b_fat - b_vol);			/* FAT offset [sector] */
5515:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_FatSzEx, sz_fat);					/* FAT size [sector] */
5516:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_DataOfsEx, b_data - b_vol);			/* Data offset [sector] */
5517:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_NumClusEx, n_clst);					/* Number of clusters */
5518:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_RootClusEx, 2 + tbl[0] + tbl[1]);	/* Root dir cluster # */
5519:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_VolIDEx, GET_FATTIME());				/* VSN */
5520:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_FSVerEx, 0x100);						/* File system version (1.00) */
5521:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (buf[BPB_BytsPerSecEx] = 0, i = ss; i >>= 1; buf[BPB_BytsPerSecEx]++) ;	/* Log2 of sector si
5522:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (buf[BPB_SecPerClusEx] = 0, i = au; i >>= 1; buf[BPB_SecPerClusEx]++) ;	/* Log2 of cluster s
5523:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BPB_NumFATsEx] = 1;					/* Number of FATs */
5524:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BPB_DrvNumEx] = 0x80;				/* Drive number (for int13) */
5525:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BS_BootCodeEx, 0xFEEB);	/* Boot code (x86) */
5526:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BS_55AA, 0xAA55);			/* Signature (placed here regardless of sector size) */
5527:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (i = sum = 0; i < ss; i++) {		/* VBR checksum */
5528:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i != BPB_VolFlagEx && i != BPB_VolFlagEx + 1 && i != BPB_PercInUseEx) sum = xsum32(buf[i], 
5529:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5530:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect++, 1) != RES_OK) return FR_DISK_ERR;
5531:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Extended bootstrap record (+1..+8) */
5532:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
5533:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + ss - 2, 0xAA55);	/* Signature (placed at end of sector) */
5534:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (j = 1; j < 9; j++) {
5535:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (i = 0; i < ss; sum = xsum32(buf[i++], sum)) ;	/* VBR checksum */
5536:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(pdrv, buf, sect++, 1) != RES_OK) return FR_DISK_ERR;
5537:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5538:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* OEM/Reserved record (+9..+10) */
5539:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
5540:Middlewares/Third_Party/FatFs/src/ff.c **** 			for ( ; j < 11; j++) {
5541:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (i = 0; i < ss; sum = xsum32(buf[i++], sum)) ;	/* VBR checksum */
5542:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(pdrv, buf, sect++, 1) != RES_OK) return FR_DISK_ERR;
ARM GAS  /tmp/ccBfkcjf.s 			page 133


5543:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5544:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Sum record (+11) */
5545:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (i = 0; i < ss; i += 4) st_dword(buf + i, sum);		/* Fill with checksum value */
5546:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect++, 1) != RES_OK) return FR_DISK_ERR;
5547:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5548:Middlewares/Third_Party/FatFs/src/ff.c **** 
5549:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
5550:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_EXFAT */
5551:Middlewares/Third_Party/FatFs/src/ff.c **** 	{	/* Create an FAT12/16/32 volume */
5552:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
5553:Middlewares/Third_Party/FatFs/src/ff.c **** 			pau = au;
5554:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Pre-determine number of clusters and FAT sub-type */
5555:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {	/* FAT32 volume */
5556:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!pau) {	/* au auto-selection */
5557:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = sz_vol / 0x20000;	/* Volume size in unit of 128KS */
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (i = 0, pau = 1; cst32[i] && cst32[i] <= n; i++, pau <<= 1) ;	/* Get from table */
5559:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5560:Middlewares/Third_Party/FatFs/src/ff.c **** 				n_clst = sz_vol / pau;	/* Number of clusters */
5561:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_fat = (n_clst * 4 + 8 + ss - 1) / ss;	/* FAT size [sector] */
5562:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 32;	/* Number of reserved sectors */
5563:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_dir = 0;		/* No static directory */
5564:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst <= MAX_FAT16 || n_clst > MAX_FAT32) return FR_MKFS_ABORTED;
5565:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* FAT12/16 volume */
5566:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!pau) {	/* au auto-selection */
5567:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = sz_vol / 0x1000;	/* Volume size in unit of 4KS */
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (i = 0, pau = 1; cst[i] && cst[i] <= n; i++, pau <<= 1) ;	/* Get from table */
5569:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5570:Middlewares/Third_Party/FatFs/src/ff.c **** 				n_clst = sz_vol / pau;
5571:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst > MAX_FAT12) {
5572:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = n_clst * 2 + 4;		/* FAT size [byte] */
5573:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
5574:Middlewares/Third_Party/FatFs/src/ff.c **** 					fmt = FS_FAT12;
5575:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = (n_clst * 3 + 1) / 2 + 3;	/* FAT size [byte] */
5576:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5577:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_fat = (n + ss - 1) / ss;		/* FAT size [sector] */
5578:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 1;						/* Number of reserved sectors */
5579:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_dir = (DWORD)n_rootdir * SZDIRE / ss;	/* Rootdir size [sector] */
5580:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5581:Middlewares/Third_Party/FatFs/src/ff.c **** 			b_fat = b_vol + sz_rsv;						/* FAT base */
5582:Middlewares/Third_Party/FatFs/src/ff.c **** 			b_data = b_fat + sz_fat * n_fats + sz_dir;	/* Data base */
5583:Middlewares/Third_Party/FatFs/src/ff.c **** 
5584:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Align data base to erase block boundary (for flash memory media) */
5585:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = ((b_data + sz_blk - 1) & ~(sz_blk - 1)) - b_data;	/* Next nearest erase block from current d
5586:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {		/* FAT32: Move FAT base */
5587:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv += n; b_fat += n;
5588:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* FAT12/16: Expand FAT size */
5589:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_fat += n / n_fats;
5590:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5591:Middlewares/Third_Party/FatFs/src/ff.c **** 
5592:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Determine number of clusters and final check of validity of the FAT sub-type */
5593:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (sz_vol < b_data + pau * 16 - b_vol) return FR_MKFS_ABORTED;	/* Too small volume */
5594:Middlewares/Third_Party/FatFs/src/ff.c **** 			n_clst = (sz_vol - sz_rsv - sz_fat * n_fats - sz_dir) / pau;
5595:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
5596:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst <= MAX_FAT16) {	/* Too few clusters for FAT32 */
5597:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (au = pau / 2) != 0) continue;	/* Adjust cluster size and retry */
5598:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
5599:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
ARM GAS  /tmp/ccBfkcjf.s 			page 134


5600:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5601:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT16) {
5602:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst > MAX_FAT16) {	/* Too many clusters for FAT16 */
5603:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (pau * 2) <= 64) {
5604:Middlewares/Third_Party/FatFs/src/ff.c **** 						au = pau * 2; continue;		/* Adjust cluster size and retry */
5605:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
5606:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((opt & FM_FAT32)) {
5607:Middlewares/Third_Party/FatFs/src/ff.c **** 						fmt = FS_FAT32; continue;	/* Switch type to FAT32 and retry */
5608:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
5609:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (au = pau * 2) <= 128) continue;	/* Adjust cluster size and retry */
5610:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
5611:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5612:Middlewares/Third_Party/FatFs/src/ff.c **** 				if  (n_clst <= MAX_FAT12) {	/* Too few clusters for FAT16 */
5613:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (au = pau * 2) <= 128) continue;	/* Adjust cluster size and retry */
5614:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
5615:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5616:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5617:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT12 && n_clst > MAX_FAT12) return FR_MKFS_ABORTED;	/* Too many clusters for FAT1
5618:Middlewares/Third_Party/FatFs/src/ff.c **** 
5619:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Ok, it is the valid cluster configuration */
5620:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
5621:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (1);
5622:Middlewares/Third_Party/FatFs/src/ff.c **** 
5623:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
5624:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[0] = b_vol; tbl[1] = b_vol + sz_vol - 1;	/* Inform the device the volume area can be erased *
5625:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_ioctl(pdrv, CTRL_TRIM, tbl);
5626:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5627:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create FAT VBR */
5628:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(buf, 0, ss);
5629:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(buf + BS_JmpBoot, "\xEB\xFE\x90" "MSDOS5.0", 11);/* Boot jump code (x86), OEM name */
5630:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_BytsPerSec, ss);				/* Sector size [byte] */
5631:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[BPB_SecPerClus] = (BYTE)pau;				/* Cluster size [sector] */
5632:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_RsvdSecCnt, (WORD)sz_rsv);	/* Size of reserved area */
5633:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[BPB_NumFATs] = (BYTE)n_fats;				/* Number of FATs */
5634:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_RootEntCnt, (WORD)((fmt == FS_FAT32) ? 0 : n_rootdir));	/* Number of root direc
5635:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < 0x10000) {
5636:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_TotSec16, (WORD)sz_vol);	/* Volume size in 16-bit LBA */
5637:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
5638:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_TotSec32, sz_vol);		/* Volume size in 32-bit LBA */
5639:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5640:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[BPB_Media] = 0xF8;							/* Media descriptor byte */
5641:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_SecPerTrk, 63);				/* Number of sectors per track (for int13) */
5642:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_NumHeads, 255);				/* Number of heads (for int13) */
5643:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + BPB_HiddSec, b_vol);				/* Volume offset in the physical drive [sector] */
5644:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
5645:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BS_VolID32, GET_FATTIME());	/* VSN */
5646:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_FATSz32, sz_fat);		/* FAT size [sector] */
5647:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_RootClus32, 2);			/* Root directory cluster # (2) */
5648:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_FSInfo32, 1);				/* Offset of FSINFO sector (VBR + 1) */
5649:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_BkBootSec32, 6);			/* Offset of backup VBR (VBR + 6) */
5650:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_DrvNum32] = 0x80;					/* Drive number (for int13) */
5651:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_BootSig32] = 0x29;					/* Extended boot signature */
5652:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(buf + BS_VolLab32, "NO NAME    " "FAT32   ", 19);	/* Volume label, FAT signature */
5653:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
5654:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BS_VolID, GET_FATTIME());	/* VSN */
5655:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_FATSz16, (WORD)sz_fat);	/* FAT size [sector] */
5656:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_DrvNum] = 0x80;						/* Drive number (for int13) */
ARM GAS  /tmp/ccBfkcjf.s 			page 135


5657:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_BootSig] = 0x29;						/* Extended boot signature */
5658:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(buf + BS_VolLab, "NO NAME    " "FAT     ", 19);	/* Volume label, FAT signature */
5659:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5660:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BS_55AA, 0xAA55);					/* Signature (offset is fixed here regardless of sector size)
5661:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(pdrv, buf, b_vol, 1) != RES_OK) return FR_DISK_ERR;	/* Write it to the VBR sector 
5662:Middlewares/Third_Party/FatFs/src/ff.c **** 
5663:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create FSINFO record if needed */
5664:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
5665:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 6, 1);		/* Write backup VBR (VBR + 6) */
5666:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
5667:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_LeadSig, 0x41615252);
5668:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_StrucSig, 0x61417272);
5669:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_Free_Count, n_clst - 1);	/* Number of free clusters */
5670:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_Nxt_Free, 2);			/* Last allocated cluster# */
5671:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BS_55AA, 0xAA55);
5672:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 7, 1);		/* Write backup FSINFO (VBR + 7) */
5673:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 1, 1);		/* Write original FSINFO (VBR + 1) */
5674:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5675:Middlewares/Third_Party/FatFs/src/ff.c **** 
5676:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Initialize FAT area */
5677:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(buf, 0, (UINT)szb_buf);
5678:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_fat;		/* FAT start sector */
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < n_fats; i++) {			/* Initialize FATs each */
5680:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
5681:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 0, 0xFFFFFFF8);	/* Entry 0 */
5682:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 4, 0xFFFFFFFF);	/* Entry 1 */
5683:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 8, 0x0FFFFFFF);	/* Entry 2 (root directory) */
5684:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
5685:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 0, (fmt == FS_FAT12) ? 0xFFFFF8 : 0xFFFFFFF8);	/* Entry 0 and 1 */
5686:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5687:Middlewares/Third_Party/FatFs/src/ff.c **** 			nsect = sz_fat;		/* Number of FAT sectors */
5688:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {	/* Fill FAT sectors */
5689:Middlewares/Third_Party/FatFs/src/ff.c **** 				n = (nsect > sz_buf) ? sz_buf : nsect;
5690:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(pdrv, buf, sect, (UINT)n) != RES_OK) return FR_DISK_ERR;
5691:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(buf, 0, ss);
5692:Middlewares/Third_Party/FatFs/src/ff.c **** 				sect += n; nsect -= n;
5693:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (nsect);
5694:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5695:Middlewares/Third_Party/FatFs/src/ff.c **** 
5696:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Initialize root directory (fill with zero) */
5697:Middlewares/Third_Party/FatFs/src/ff.c **** 		nsect = (fmt == FS_FAT32) ? pau : sz_dir;	/* Number of root directory sectors */
5698:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
5699:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (nsect > sz_buf) ? sz_buf : nsect;
5700:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect, (UINT)n) != RES_OK) return FR_DISK_ERR;
5701:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
5702:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
5703:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5704:Middlewares/Third_Party/FatFs/src/ff.c **** 
5705:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine system ID in the partition table */
5706:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_FS_EXFAT && fmt == FS_EXFAT) {
5707:Middlewares/Third_Party/FatFs/src/ff.c **** 		sys = 0x07;			/* HPFS/NTFS/exFAT */
5708:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
5709:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
5710:Middlewares/Third_Party/FatFs/src/ff.c **** 			sys = 0x0C;		/* FAT32X */
5711:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
5712:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (sz_vol >= 0x10000) {
5713:Middlewares/Third_Party/FatFs/src/ff.c **** 				sys = 0x06;	/* FAT12/16 (>=64KS) */
ARM GAS  /tmp/ccBfkcjf.s 			page 136


5714:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
5715:Middlewares/Third_Party/FatFs/src/ff.c **** 				sys = (fmt == FS_FAT16) ? 0x04 : 0x01;	/* FAT16 (<64KS) : FAT12 (<64KS) */
5716:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5717:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5718:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5719:Middlewares/Third_Party/FatFs/src/ff.c **** 
5720:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Update partition information */
5721:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_MULTI_PARTITION && part != 0) {	/* Created in the existing partition */
5722:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update system ID in the partition table */
5723:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_read(pdrv, buf, 0, 1) != RES_OK) return FR_DISK_ERR;	/* Read the MBR */
5724:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[MBR_Table + (part - 1) * SZ_PTE + PTE_System] = sys;		/* Set system ID */
5725:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(pdrv, buf, 0, 1) != RES_OK) return FR_DISK_ERR;	/* Write it back to the MBR */
5726:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {								/* Created as a new single partition */
5727:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(opt & FM_SFD)) {	/* Create partition table if in FDISK format */
5728:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
5729:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BS_55AA, 0xAA55);		/* MBR signature */
5730:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte = buf + MBR_Table;				/* Create partition table for single partition in the drive */
5731:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_Boot] = 0;					/* Boot indicator */
5732:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StHead] = 1;				/* Start head */
5733:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StSec] = 1;					/* Start sector */
5734:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StCyl] = 0;					/* Start cylinder */
5735:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_System] = sys;				/* System type */
5736:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (b_vol + sz_vol) / (63 * 255);	/* (End CHS may be invalid) */
5737:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdHead] = 254;				/* End head */
5738:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdSec] = (BYTE)(n >> 2 | 63);	/* End sector */
5739:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdCyl] = (BYTE)n;			/* End cylinder */
5740:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(pte + PTE_StLba, b_vol);	/* Start offset in LBA */
5741:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(pte + PTE_SizLba, sz_vol);	/* Size in sectors */
5742:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, 0, 1) != RES_OK) return FR_DISK_ERR;	/* Write it to the MBR */
5743:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5744:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5745:Middlewares/Third_Party/FatFs/src/ff.c **** 
5746:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, CTRL_SYNC, 0) != RES_OK) return FR_DISK_ERR;
5747:Middlewares/Third_Party/FatFs/src/ff.c **** 
5748:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
5749:Middlewares/Third_Party/FatFs/src/ff.c **** }
5750:Middlewares/Third_Party/FatFs/src/ff.c **** 
5751:Middlewares/Third_Party/FatFs/src/ff.c **** 
5752:Middlewares/Third_Party/FatFs/src/ff.c **** 
5753:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MULTI_PARTITION
5754:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5755:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create partition table on the physical drive                          */
5756:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5757:Middlewares/Third_Party/FatFs/src/ff.c **** 
5758:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_fdisk (
5759:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE pdrv,			/* Physical drive number */
5760:Middlewares/Third_Party/FatFs/src/ff.c **** 	const DWORD* szt,	/* Pointer to the size table for each partitions */
5761:Middlewares/Third_Party/FatFs/src/ff.c **** 	void* work			/* Pointer to the working buffer */
5762:Middlewares/Third_Party/FatFs/src/ff.c **** )
5763:Middlewares/Third_Party/FatFs/src/ff.c **** {
5764:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, n, sz_cyl, tot_cyl, b_cyl, e_cyl, p_cyl;
5765:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE s_hd, e_hd, *p, *buf = (BYTE*)work;
5766:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
5767:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sz_disk, sz_part, s_part;
5768:Middlewares/Third_Party/FatFs/src/ff.c **** 
5769:Middlewares/Third_Party/FatFs/src/ff.c **** 
5770:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(pdrv);
ARM GAS  /tmp/ccBfkcjf.s 			page 137


5771:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
5772:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
5773:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_SECTOR_COUNT, &sz_disk)) return FR_DISK_ERR;
5774:Middlewares/Third_Party/FatFs/src/ff.c **** 
5775:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine the CHS without any consideration of the drive geometry */
5776:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (n = 16; n < 256 && sz_disk / n / 63 > 1024; n *= 2) ;
5777:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n == 256) n--;
5778:Middlewares/Third_Party/FatFs/src/ff.c **** 	e_hd = n - 1;
5779:Middlewares/Third_Party/FatFs/src/ff.c **** 	sz_cyl = 63 * n;
5780:Middlewares/Third_Party/FatFs/src/ff.c **** 	tot_cyl = sz_disk / sz_cyl;
5781:Middlewares/Third_Party/FatFs/src/ff.c **** 
5782:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create partition table */
5783:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(buf, 0, _MAX_SS);
5784:Middlewares/Third_Party/FatFs/src/ff.c **** 	p = buf + MBR_Table; b_cyl = 0;
5785:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < 4; i++, p += SZ_PTE) {
5786:Middlewares/Third_Party/FatFs/src/ff.c **** 		p_cyl = (szt[i] <= 100U) ? (DWORD)tot_cyl * szt[i] / 100 : szt[i] / sz_cyl;	/* Number of cylinder
5787:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!p_cyl) continue;
5788:Middlewares/Third_Party/FatFs/src/ff.c **** 		s_part = (DWORD)sz_cyl * b_cyl;
5789:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_part = (DWORD)sz_cyl * p_cyl;
5790:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 0) {	/* Exclude first track of cylinder 0 */
5791:Middlewares/Third_Party/FatFs/src/ff.c **** 			s_hd = 1;
5792:Middlewares/Third_Party/FatFs/src/ff.c **** 			s_part += 63; sz_part -= 63;
5793:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
5794:Middlewares/Third_Party/FatFs/src/ff.c **** 			s_hd = 0;
5795:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5796:Middlewares/Third_Party/FatFs/src/ff.c **** 		e_cyl = b_cyl + p_cyl - 1;	/* End cylinder */
5797:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (e_cyl >= tot_cyl) return FR_INVALID_PARAMETER;
5798:Middlewares/Third_Party/FatFs/src/ff.c **** 
5799:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Set partition table */
5800:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[1] = s_hd;						/* Start head */
5801:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[2] = (BYTE)((b_cyl >> 2) + 1);	/* Start sector */
5802:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[3] = (BYTE)b_cyl;					/* Start cylinder */
5803:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[4] = 0x07;						/* System type (temporary setting) */
5804:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[5] = e_hd;						/* End head */
5805:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[6] = (BYTE)((e_cyl >> 2) + 63);	/* End sector */
5806:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[7] = (BYTE)e_cyl;					/* End cylinder */
5807:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(p + 8, s_part);			/* Start sector in LBA */
5808:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(p + 12, sz_part);			/* Number of sectors */
5809:Middlewares/Third_Party/FatFs/src/ff.c **** 
5810:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Next partition */
5811:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_cyl += p_cyl;
5812:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5813:Middlewares/Third_Party/FatFs/src/ff.c **** 	st_word(p, 0xAA55);
5814:Middlewares/Third_Party/FatFs/src/ff.c **** 
5815:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Write it to the MBR */
5816:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (disk_write(pdrv, buf, 0, 1) != RES_OK || disk_ioctl(pdrv, CTRL_SYNC, 0) != RES_OK) ? FR_DI
5817:Middlewares/Third_Party/FatFs/src/ff.c **** }
5818:Middlewares/Third_Party/FatFs/src/ff.c **** 
5819:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _MULTI_PARTITION */
5820:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_MKFS && !_FS_READONLY */
5821:Middlewares/Third_Party/FatFs/src/ff.c **** 
5822:Middlewares/Third_Party/FatFs/src/ff.c **** 
5823:Middlewares/Third_Party/FatFs/src/ff.c **** 
5824:Middlewares/Third_Party/FatFs/src/ff.c **** 
5825:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_STRFUNC
5826:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5827:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get a string from the file                                            */
ARM GAS  /tmp/ccBfkcjf.s 			page 138


5828:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5829:Middlewares/Third_Party/FatFs/src/ff.c **** 
5830:Middlewares/Third_Party/FatFs/src/ff.c **** TCHAR* f_gets (
5831:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR* buff,	/* Pointer to the string buffer to read */
5832:Middlewares/Third_Party/FatFs/src/ff.c **** 	int len,		/* Size of string buffer (characters) */
5833:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp			/* Pointer to the file object */
5834:Middlewares/Third_Party/FatFs/src/ff.c **** )
5835:Middlewares/Third_Party/FatFs/src/ff.c **** {
5836:Middlewares/Third_Party/FatFs/src/ff.c **** 	int n = 0;
5837:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c, *p = buff;
5838:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE s[2];
5839:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rc;
5840:Middlewares/Third_Party/FatFs/src/ff.c **** 
5841:Middlewares/Third_Party/FatFs/src/ff.c **** 
5842:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (n < len - 1) {	/* Read characters until buffer gets filled */
5843:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
5844:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STRF_ENCODE == 3		/* Read a character in UTF-8 */
5845:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 1, &rc);
5846:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
5847:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
5848:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c >= 0x80) {
5849:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c < 0xC0) continue;	/* Skip stray trailer */
5850:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c < 0xE0) {			/* Two-byte sequence (0x80-0x7FF) */
5851:Middlewares/Third_Party/FatFs/src/ff.c **** 				f_read(fp, s, 1, &rc);
5852:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (rc != 1) break;
5853:Middlewares/Third_Party/FatFs/src/ff.c **** 				c = (c & 0x1F) << 6 | (s[0] & 0x3F);
5854:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (c < 0x80) c = '?';	/* Reject invalid code range */
5855:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
5856:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (c < 0xF0) {		/* Three-byte sequence (0x800-0xFFFF) */
5857:Middlewares/Third_Party/FatFs/src/ff.c **** 					f_read(fp, s, 2, &rc);
5858:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (rc != 2) break;
5859:Middlewares/Third_Party/FatFs/src/ff.c **** 					c = c << 12 | (s[0] & 0x3F) << 6 | (s[1] & 0x3F);
5860:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c < 0x800) c = '?';	/* Reject invalid code range */
5861:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {			/* Reject four-byte sequence */
5862:Middlewares/Third_Party/FatFs/src/ff.c **** 					c = '?';
5863:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5864:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5865:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5866:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 2		/* Read a character in UTF-16BE */
5867:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 2, &rc);
5868:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 2) break;
5869:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[1] + (s[0] << 8);
5870:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 1		/* Read a character in UTF-16LE */
5871:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 2, &rc);
5872:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 2) break;
5873:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0] + (s[1] << 8);
5874:Middlewares/Third_Party/FatFs/src/ff.c **** #else						/* Read a character in ANSI/OEM */
5875:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 1, &rc);
5876:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
5877:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
5878:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(c)) {
5879:Middlewares/Third_Party/FatFs/src/ff.c **** 			f_read(fp, s, 1, &rc);
5880:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (rc != 1) break;
5881:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = (c << 8) + s[0];
5882:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5883:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = ff_convert(c, 1);	/* OEM -> Unicode */
5884:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!c) c = '?';
ARM GAS  /tmp/ccBfkcjf.s 			page 139


5885:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5886:Middlewares/Third_Party/FatFs/src/ff.c **** #else						/* Read a character without conversion */
5887:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 1, &rc);
5888:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
5889:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
5890:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5891:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_USE_STRFUNC == 2 && c == '\r') continue;	/* Strip '\r' */
5892:Middlewares/Third_Party/FatFs/src/ff.c **** 		*p++ = c;
5893:Middlewares/Third_Party/FatFs/src/ff.c **** 		n++;
5894:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '\n') break;		/* Break on EOL */
5895:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5896:Middlewares/Third_Party/FatFs/src/ff.c **** 	*p = 0;
5897:Middlewares/Third_Party/FatFs/src/ff.c **** 	return n ? buff : 0;			/* When no data read (eof or error), return with error. */
5898:Middlewares/Third_Party/FatFs/src/ff.c **** }
5899:Middlewares/Third_Party/FatFs/src/ff.c **** 
5900:Middlewares/Third_Party/FatFs/src/ff.c **** 
5901:Middlewares/Third_Party/FatFs/src/ff.c **** 
5902:Middlewares/Third_Party/FatFs/src/ff.c **** 
5903:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
5904:Middlewares/Third_Party/FatFs/src/ff.c **** #include <stdarg.h>
5905:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5906:Middlewares/Third_Party/FatFs/src/ff.c **** /* Put a character to the file                                           */
5907:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5908:Middlewares/Third_Party/FatFs/src/ff.c **** 
5909:Middlewares/Third_Party/FatFs/src/ff.c **** typedef struct {
5910:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL *fp;		/* Ptr to the writing file */
5911:Middlewares/Third_Party/FatFs/src/ff.c **** 	int idx, nchr;	/* Write index of buf[] (-1:error), number of chars written */
5912:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE buf[64];	/* Write buffer */
5913:Middlewares/Third_Party/FatFs/src/ff.c **** } putbuff;
5914:Middlewares/Third_Party/FatFs/src/ff.c **** 
5915:Middlewares/Third_Party/FatFs/src/ff.c **** 
5916:Middlewares/Third_Party/FatFs/src/ff.c **** static
5917:Middlewares/Third_Party/FatFs/src/ff.c **** void putc_bfd (		/* Buffered write with code conversion */
5918:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff* pb,
5919:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c
5920:Middlewares/Third_Party/FatFs/src/ff.c **** )
5921:Middlewares/Third_Party/FatFs/src/ff.c **** {
5922:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bw;
5923:Middlewares/Third_Party/FatFs/src/ff.c **** 	int i;
5924:Middlewares/Third_Party/FatFs/src/ff.c **** 
5925:Middlewares/Third_Party/FatFs/src/ff.c **** 
5926:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_USE_STRFUNC == 2 && c == '\n') {	 /* LF -> CRLF conversion */
5927:Middlewares/Third_Party/FatFs/src/ff.c **** 		putc_bfd(pb, '\r');
5928:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5929:Middlewares/Third_Party/FatFs/src/ff.c **** 
5930:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = pb->idx;		/* Write index of pb->buf[] */
5931:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i < 0) return;
5932:Middlewares/Third_Party/FatFs/src/ff.c **** 
5933:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
5934:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STRF_ENCODE == 3			/* Write a character in UTF-8 */
5935:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (c < 0x80) {				/* 7-bit */
5936:Middlewares/Third_Party/FatFs/src/ff.c **** 		pb->buf[i++] = (BYTE)c;
5937:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
5938:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c < 0x800) {		/* 11-bit */
5939:Middlewares/Third_Party/FatFs/src/ff.c **** 			pb->buf[i++] = (BYTE)(0xC0 | c >> 6);
5940:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {				/* 16-bit */
5941:Middlewares/Third_Party/FatFs/src/ff.c **** 			pb->buf[i++] = (BYTE)(0xE0 | c >> 12);
ARM GAS  /tmp/ccBfkcjf.s 			page 140


5942:Middlewares/Third_Party/FatFs/src/ff.c **** 			pb->buf[i++] = (BYTE)(0x80 | (c >> 6 & 0x3F));
5943:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5944:Middlewares/Third_Party/FatFs/src/ff.c **** 		pb->buf[i++] = (BYTE)(0x80 | (c & 0x3F));
5945:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5946:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 2			/* Write a character in UTF-16BE */
5947:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)(c >> 8);
5948:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
5949:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 1			/* Write a character in UTF-16LE */
5950:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
5951:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)(c >> 8);
5952:Middlewares/Third_Party/FatFs/src/ff.c **** #else							/* Write a character in ANSI/OEM */
5953:Middlewares/Third_Party/FatFs/src/ff.c **** 	c = ff_convert(c, 0);	/* Unicode -> OEM */
5954:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!c) c = '?';
5955:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (c >= 0x100)
5956:Middlewares/Third_Party/FatFs/src/ff.c **** 		pb->buf[i++] = (BYTE)(c >> 8);
5957:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
5958:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5959:Middlewares/Third_Party/FatFs/src/ff.c **** #else							/* Write a character without conversion */
5960:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
5961:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5962:Middlewares/Third_Party/FatFs/src/ff.c **** 
5963:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i >= (int)(sizeof pb->buf) - 3) {	/* Write buffered characters to the file */
5964:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_write(pb->fp, pb->buf, (UINT)i, &bw);
5965:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = (bw == (UINT)i) ? 0 : -1;
5966:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5967:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->idx = i;
5968:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->nchr++;
5969:Middlewares/Third_Party/FatFs/src/ff.c **** }
5970:Middlewares/Third_Party/FatFs/src/ff.c **** 
5971:Middlewares/Third_Party/FatFs/src/ff.c **** 
5972:Middlewares/Third_Party/FatFs/src/ff.c **** static
5973:Middlewares/Third_Party/FatFs/src/ff.c **** int putc_flush (		/* Flush left characters in the buffer */
5974:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff* pb
5975:Middlewares/Third_Party/FatFs/src/ff.c **** )
5976:Middlewares/Third_Party/FatFs/src/ff.c **** {
5977:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nw;
5978:Middlewares/Third_Party/FatFs/src/ff.c **** 
5979:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   pb->idx >= 0	/* Flush buffered characters to the file */
5980:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& f_write(pb->fp, pb->buf, (UINT)pb->idx, &nw) == FR_OK
5981:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb->idx == nw) return pb->nchr;
5982:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
5983:Middlewares/Third_Party/FatFs/src/ff.c **** }
5984:Middlewares/Third_Party/FatFs/src/ff.c **** 
5985:Middlewares/Third_Party/FatFs/src/ff.c **** 
5986:Middlewares/Third_Party/FatFs/src/ff.c **** static
5987:Middlewares/Third_Party/FatFs/src/ff.c **** void putc_init (		/* Initialize write buffer */
5988:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff* pb,
5989:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp
5990:Middlewares/Third_Party/FatFs/src/ff.c **** )
5991:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1852              		.loc 1 5991 1 is_stmt 1 view -0
 1853              		.cfi_startproc
 1854              		@ args = 0, pretend = 0, frame = 0
 1855              		@ frame_needed = 0, uses_anonymous_args = 0
 1856              		@ link register save eliminated.
5992:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->fp = fp;
 1857              		.loc 1 5992 2 view .LVU572
ARM GAS  /tmp/ccBfkcjf.s 			page 141


 1858              		.loc 1 5992 9 is_stmt 0 view .LVU573
 1859 0000 0160     		str	r1, [r0]
5993:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->nchr = pb->idx = 0;
 1860              		.loc 1 5993 2 is_stmt 1 view .LVU574
 1861              		.loc 1 5993 21 is_stmt 0 view .LVU575
 1862 0002 0023     		movs	r3, #0
 1863 0004 4360     		str	r3, [r0, #4]
 1864              		.loc 1 5993 11 view .LVU576
 1865 0006 8360     		str	r3, [r0, #8]
5994:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1866              		.loc 1 5994 1 view .LVU577
 1867 0008 7047     		bx	lr
 1868              		.cfi_endproc
 1869              	.LFE413:
 1871              		.section	.text.validate,"ax",%progbits
 1872              		.align	1
 1873              		.syntax unified
 1874              		.thumb
 1875              		.thumb_func
 1876              		.fpu fpv5-d16
 1878              	validate:
 1879              	.LVL205:
 1880              	.LFB392:
3220:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_INVALID_OBJECT;
 1881              		.loc 1 3220 1 is_stmt 1 view -0
 1882              		.cfi_startproc
 1883              		@ args = 0, pretend = 0, frame = 0
 1884              		@ frame_needed = 0, uses_anonymous_args = 0
3220:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_INVALID_OBJECT;
 1885              		.loc 1 3220 1 is_stmt 0 view .LVU579
 1886 0000 38B5     		push	{r3, r4, r5, lr}
 1887              	.LCFI17:
 1888              		.cfi_def_cfa_offset 16
 1889              		.cfi_offset 3, -16
 1890              		.cfi_offset 4, -12
 1891              		.cfi_offset 5, -8
 1892              		.cfi_offset 14, -4
 1893 0002 0D46     		mov	r5, r1
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1894              		.loc 1 3221 2 is_stmt 1 view .LVU580
 1895              	.LVL206:
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 1896              		.loc 1 3224 2 view .LVU581
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 1897              		.loc 1 3224 5 is_stmt 0 view .LVU582
 1898 0004 0446     		mov	r4, r0
 1899 0006 98B1     		cbz	r0, .L161
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 1900              		.loc 1 3224 16 discriminator 1 view .LVU583
 1901 0008 0368     		ldr	r3, [r0]
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 1902              		.loc 1 3224 10 discriminator 1 view .LVU584
 1903 000a 9BB1     		cbz	r3, .L162
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 1904              		.loc 1 3224 31 discriminator 2 view .LVU585
 1905 000c 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
ARM GAS  /tmp/ccBfkcjf.s 			page 142


 1906              		.loc 1 3224 21 discriminator 2 view .LVU586
 1907 000e A2B1     		cbz	r2, .L163
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 1908              		.loc 1 3224 47 discriminator 3 view .LVU587
 1909 0010 8188     		ldrh	r1, [r0, #4]
 1910              	.LVL207:
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 1911              		.loc 1 3224 62 discriminator 3 view .LVU588
 1912 0012 DA88     		ldrh	r2, [r3, #6]
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 1913              		.loc 1 3224 41 discriminator 3 view .LVU589
 1914 0014 9142     		cmp	r1, r2
 1915 0016 03D0     		beq	.L167
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1916              		.loc 1 3221 10 view .LVU590
 1917 0018 0920     		movs	r0, #9
 1918              	.LVL208:
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1919              		.loc 1 3241 33 view .LVU591
 1920 001a 0024     		movs	r4, #0
 1921              	.LVL209:
 1922              	.L160:
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1923              		.loc 1 3241 6 discriminator 4 view .LVU592
 1924 001c 2C60     		str	r4, [r5]
3242:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1925              		.loc 1 3242 2 is_stmt 1 discriminator 4 view .LVU593
3243:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1926              		.loc 1 3243 1 is_stmt 0 discriminator 4 view .LVU594
 1927 001e 38BD     		pop	{r3, r4, r5, pc}
 1928              	.LVL210:
 1929              	.L167:
3236:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 1930              		.loc 1 3236 3 is_stmt 1 view .LVU595
3236:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 1931              		.loc 1 3236 9 is_stmt 0 view .LVU596
 1932 0020 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 1933              	.LVL211:
3236:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 1934              		.loc 1 3236 9 view .LVU597
 1935 0022 FFF7FEFF 		bl	disk_status
 1936              	.LVL212:
3236:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 1937              		.loc 1 3236 6 view .LVU598
 1938 0026 10F00100 		ands	r0, r0, #1
 1939 002a 09D1     		bne	.L165
3237:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 1940              		.loc 1 3237 4 is_stmt 1 view .LVU599
 1941              	.LVL213:
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1942              		.loc 1 3241 2 view .LVU600
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1943              		.loc 1 3241 33 is_stmt 0 view .LVU601
 1944 002c 2468     		ldr	r4, [r4]
 1945              	.LVL214:
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1946              		.loc 1 3241 33 view .LVU602
ARM GAS  /tmp/ccBfkcjf.s 			page 143


 1947 002e F5E7     		b	.L160
 1948              	.LVL215:
 1949              	.L161:
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1950              		.loc 1 3221 10 view .LVU603
 1951 0030 0920     		movs	r0, #9
 1952              	.LVL216:
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1953              		.loc 1 3221 10 view .LVU604
 1954 0032 F3E7     		b	.L160
 1955              	.LVL217:
 1956              	.L162:
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1957              		.loc 1 3241 33 view .LVU605
 1958 0034 1C46     		mov	r4, r3
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1959              		.loc 1 3221 10 view .LVU606
 1960 0036 0920     		movs	r0, #9
 1961              	.LVL218:
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1962              		.loc 1 3221 10 view .LVU607
 1963 0038 F0E7     		b	.L160
 1964              	.LVL219:
 1965              	.L163:
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1966              		.loc 1 3221 10 view .LVU608
 1967 003a 0920     		movs	r0, #9
 1968              	.LVL220:
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1969              		.loc 1 3241 33 view .LVU609
 1970 003c 0024     		movs	r4, #0
 1971              	.LVL221:
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1972              		.loc 1 3241 33 view .LVU610
 1973 003e EDE7     		b	.L160
 1974              	.LVL222:
 1975              	.L165:
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1976              		.loc 1 3221 10 view .LVU611
 1977 0040 0920     		movs	r0, #9
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1978              		.loc 1 3241 33 view .LVU612
 1979 0042 0024     		movs	r4, #0
 1980              	.LVL223:
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1981              		.loc 1 3241 33 view .LVU613
 1982 0044 EAE7     		b	.L160
 1983              		.cfi_endproc
 1984              	.LFE392:
 1986              		.section	.text.sync_window,"ax",%progbits
 1987              		.align	1
 1988              		.syntax unified
 1989              		.thumb
 1990              		.thumb_func
 1991              		.fpu fpv5-d16
 1993              	sync_window:
 1994              	.LVL224:
ARM GAS  /tmp/ccBfkcjf.s 			page 144


 1995              	.LFB363:
 886:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD wsect;
 1996              		.loc 1 886 1 is_stmt 1 view -0
 1997              		.cfi_startproc
 1998              		@ args = 0, pretend = 0, frame = 0
 1999              		@ frame_needed = 0, uses_anonymous_args = 0
 886:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD wsect;
 2000              		.loc 1 886 1 is_stmt 0 view .LVU615
 2001 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 2002              	.LCFI18:
 2003              		.cfi_def_cfa_offset 24
 2004              		.cfi_offset 4, -24
 2005              		.cfi_offset 5, -20
 2006              		.cfi_offset 6, -16
 2007              		.cfi_offset 7, -12
 2008              		.cfi_offset 8, -8
 2009              		.cfi_offset 14, -4
 887:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nf;
 2010              		.loc 1 887 2 is_stmt 1 view .LVU616
 888:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 2011              		.loc 1 888 2 view .LVU617
 889:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2012              		.loc 1 889 2 view .LVU618
 2013              	.LVL225:
 892:Middlewares/Third_Party/FatFs/src/ff.c **** 		wsect = fs->winsect;	/* Current sector number */
 2014              		.loc 1 892 2 view .LVU619
 892:Middlewares/Third_Party/FatFs/src/ff.c **** 		wsect = fs->winsect;	/* Current sector number */
 2015              		.loc 1 892 8 is_stmt 0 view .LVU620
 2016 0004 C578     		ldrb	r5, [r0, #3]	@ zero_extendqisi2
 892:Middlewares/Third_Party/FatFs/src/ff.c **** 		wsect = fs->winsect;	/* Current sector number */
 2017              		.loc 1 892 5 view .LVU621
 2018 0006 15B9     		cbnz	r5, .L174
 2019              	.LVL226:
 2020              	.L169:
 906:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2021              		.loc 1 906 2 is_stmt 1 view .LVU622
 907:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2022              		.loc 1 907 1 is_stmt 0 view .LVU623
 2023 0008 2846     		mov	r0, r5
 2024 000a BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2025              	.LVL227:
 2026              	.L174:
 907:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2027              		.loc 1 907 1 view .LVU624
 2028 000e 0446     		mov	r4, r0
 893:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(fs->drv, fs->win, wsect, 1) != RES_OK) {
 2029              		.loc 1 893 3 is_stmt 1 view .LVU625
 893:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(fs->drv, fs->win, wsect, 1) != RES_OK) {
 2030              		.loc 1 893 9 is_stmt 0 view .LVU626
 2031 0010 476B     		ldr	r7, [r0, #52]
 2032              	.LVL228:
 894:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 2033              		.loc 1 894 3 is_stmt 1 view .LVU627
 894:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 2034              		.loc 1 894 29 is_stmt 0 view .LVU628
 2035 0012 00F13808 		add	r8, r0, #56
 894:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
ARM GAS  /tmp/ccBfkcjf.s 			page 145


 2036              		.loc 1 894 7 view .LVU629
 2037 0016 0123     		movs	r3, #1
 2038 0018 3A46     		mov	r2, r7
 2039 001a 4146     		mov	r1, r8
 2040 001c 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 2041              	.LVL229:
 894:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 2042              		.loc 1 894 7 view .LVU630
 2043 001e FFF7FEFF 		bl	disk_write
 2044              	.LVL230:
 894:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 2045              		.loc 1 894 6 view .LVU631
 2046 0022 0546     		mov	r5, r0
 2047 0024 A0B9     		cbnz	r0, .L172
 897:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (wsect - fs->fatbase < fs->fsize) {		/* Is it in the FAT area? */
 2048              		.loc 1 897 4 is_stmt 1 view .LVU632
 897:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (wsect - fs->fatbase < fs->fsize) {		/* Is it in the FAT area? */
 2049              		.loc 1 897 14 is_stmt 0 view .LVU633
 2050 0026 0023     		movs	r3, #0
 2051 0028 E370     		strb	r3, [r4, #3]
 898:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 2052              		.loc 1 898 4 is_stmt 1 view .LVU634
 898:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 2053              		.loc 1 898 18 is_stmt 0 view .LVU635
 2054 002a A36A     		ldr	r3, [r4, #40]
 898:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 2055              		.loc 1 898 14 view .LVU636
 2056 002c FB1A     		subs	r3, r7, r3
 898:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 2057              		.loc 1 898 32 view .LVU637
 2058 002e 226A     		ldr	r2, [r4, #32]
 898:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 2059              		.loc 1 898 7 view .LVU638
 2060 0030 9342     		cmp	r3, r2
 2061 0032 E9D2     		bcs	.L169
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 2062              		.loc 1 899 5 is_stmt 1 view .LVU639
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 2063              		.loc 1 899 17 is_stmt 0 view .LVU640
 2064 0034 A678     		ldrb	r6, [r4, #2]	@ zero_extendqisi2
 2065              	.LVL231:
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 2066              		.loc 1 899 5 view .LVU641
 2067 0036 08E0     		b	.L170
 2068              	.L171:
 900:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_write(fs->drv, fs->win, wsect, 1);
 2069              		.loc 1 900 6 is_stmt 1 discriminator 3 view .LVU642
 900:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_write(fs->drv, fs->win, wsect, 1);
 2070              		.loc 1 900 17 is_stmt 0 discriminator 3 view .LVU643
 2071 0038 236A     		ldr	r3, [r4, #32]
 900:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_write(fs->drv, fs->win, wsect, 1);
 2072              		.loc 1 900 12 discriminator 3 view .LVU644
 2073 003a 1F44     		add	r7, r7, r3
 2074              	.LVL232:
 901:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 2075              		.loc 1 901 6 is_stmt 1 discriminator 3 view .LVU645
 2076 003c 0123     		movs	r3, #1
ARM GAS  /tmp/ccBfkcjf.s 			page 146


 2077 003e 3A46     		mov	r2, r7
 2078 0040 4146     		mov	r1, r8
 2079 0042 6078     		ldrb	r0, [r4, #1]	@ zero_extendqisi2
 2080 0044 FFF7FEFF 		bl	disk_write
 2081              	.LVL233:
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 2082              		.loc 1 899 36 discriminator 3 view .LVU646
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 2083              		.loc 1 899 38 is_stmt 0 discriminator 3 view .LVU647
 2084 0048 013E     		subs	r6, r6, #1
 2085              	.LVL234:
 2086              	.L170:
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 2087              		.loc 1 899 27 is_stmt 1 discriminator 1 view .LVU648
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 2088              		.loc 1 899 5 is_stmt 0 discriminator 1 view .LVU649
 2089 004a 012E     		cmp	r6, #1
 2090 004c F4D8     		bhi	.L171
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 2091              		.loc 1 899 5 discriminator 1 view .LVU650
 2092 004e DBE7     		b	.L169
 2093              	.LVL235:
 2094              	.L172:
 895:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 2095              		.loc 1 895 8 view .LVU651
 2096 0050 0125     		movs	r5, #1
 2097 0052 D9E7     		b	.L169
 2098              		.cfi_endproc
 2099              	.LFE363:
 2101              		.section	.text.move_window,"ax",%progbits
 2102              		.align	1
 2103              		.syntax unified
 2104              		.thumb
 2105              		.thumb_func
 2106              		.fpu fpv5-d16
 2108              	move_window:
 2109              	.LVL236:
 2110              	.LFB364:
 916:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 2111              		.loc 1 916 1 is_stmt 1 view -0
 2112              		.cfi_startproc
 2113              		@ args = 0, pretend = 0, frame = 0
 2114              		@ frame_needed = 0, uses_anonymous_args = 0
 916:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 2115              		.loc 1 916 1 is_stmt 0 view .LVU653
 2116 0000 70B5     		push	{r4, r5, r6, lr}
 2117              	.LCFI19:
 2118              		.cfi_def_cfa_offset 16
 2119              		.cfi_offset 4, -16
 2120              		.cfi_offset 5, -12
 2121              		.cfi_offset 6, -8
 2122              		.cfi_offset 14, -4
 917:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2123              		.loc 1 917 2 is_stmt 1 view .LVU654
 2124              	.LVL237:
 920:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 2125              		.loc 1 920 2 view .LVU655
ARM GAS  /tmp/ccBfkcjf.s 			page 147


 920:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 2126              		.loc 1 920 18 is_stmt 0 view .LVU656
 2127 0002 436B     		ldr	r3, [r0, #52]
 920:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 2128              		.loc 1 920 5 view .LVU657
 2129 0004 8B42     		cmp	r3, r1
 2130 0006 02D1     		bne	.L181
 917:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2131              		.loc 1 917 10 view .LVU658
 2132 0008 0026     		movs	r6, #0
 2133              	.LVL238:
 2134              	.L176:
 932:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2135              		.loc 1 932 2 is_stmt 1 view .LVU659
 933:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2136              		.loc 1 933 1 is_stmt 0 view .LVU660
 2137 000a 3046     		mov	r0, r6
 2138 000c 70BD     		pop	{r4, r5, r6, pc}
 2139              	.LVL239:
 2140              	.L181:
 933:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2141              		.loc 1 933 1 view .LVU661
 2142 000e 0446     		mov	r4, r0
 2143 0010 0D46     		mov	r5, r1
 922:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2144              		.loc 1 922 3 is_stmt 1 view .LVU662
 922:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2145              		.loc 1 922 9 is_stmt 0 view .LVU663
 2146 0012 FFF7FEFF 		bl	sync_window
 2147              	.LVL240:
 924:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fs->win, sector, 1) != RES_OK) {
 2148              		.loc 1 924 3 is_stmt 1 view .LVU664
 924:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fs->win, sector, 1) != RES_OK) {
 2149              		.loc 1 924 6 is_stmt 0 view .LVU665
 2150 0016 0646     		mov	r6, r0
 2151 0018 0028     		cmp	r0, #0
 2152 001a F6D1     		bne	.L176
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 2153              		.loc 1 925 4 is_stmt 1 view .LVU666
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 2154              		.loc 1 925 8 is_stmt 0 view .LVU667
 2155 001c 0123     		movs	r3, #1
 2156 001e 2A46     		mov	r2, r5
 2157 0020 04F13801 		add	r1, r4, #56
 2158 0024 6078     		ldrb	r0, [r4, #1]	@ zero_extendqisi2
 2159              	.LVL241:
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 2160              		.loc 1 925 8 view .LVU668
 2161 0026 FFF7FEFF 		bl	disk_read
 2162              	.LVL242:
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 2163              		.loc 1 925 7 view .LVU669
 2164 002a 10B1     		cbz	r0, .L177
 927:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 2165              		.loc 1 927 9 view .LVU670
 2166 002c 0126     		movs	r6, #1
 926:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
ARM GAS  /tmp/ccBfkcjf.s 			page 148


 2167              		.loc 1 926 12 view .LVU671
 2168 002e 4FF0FF35 		mov	r5, #-1
 2169              	.LVL243:
 2170              	.L177:
 929:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2171              		.loc 1 929 4 is_stmt 1 view .LVU672
 929:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2172              		.loc 1 929 16 is_stmt 0 view .LVU673
 2173 0032 6563     		str	r5, [r4, #52]
 2174 0034 E9E7     		b	.L176
 2175              		.cfi_endproc
 2176              	.LFE364:
 2178              		.section	.text.check_fs,"ax",%progbits
 2179              		.align	1
 2180              		.syntax unified
 2181              		.thumb
 2182              		.thumb_func
 2183              		.fpu fpv5-d16
 2185              	check_fs:
 2186              	.LVL244:
 2187              	.LFB390:
2969:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->wflag = 0; fs->winsect = 0xFFFFFFFF;		/* Invaidate window */
 2188              		.loc 1 2969 1 is_stmt 1 view -0
 2189              		.cfi_startproc
 2190              		@ args = 0, pretend = 0, frame = 0
 2191              		@ frame_needed = 0, uses_anonymous_args = 0
2969:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->wflag = 0; fs->winsect = 0xFFFFFFFF;		/* Invaidate window */
 2192              		.loc 1 2969 1 is_stmt 0 view .LVU675
 2193 0000 38B5     		push	{r3, r4, r5, lr}
 2194              	.LCFI20:
 2195              		.cfi_def_cfa_offset 16
 2196              		.cfi_offset 3, -16
 2197              		.cfi_offset 4, -12
 2198              		.cfi_offset 5, -8
 2199              		.cfi_offset 14, -4
 2200 0002 0446     		mov	r4, r0
2970:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (move_window(fs, sect) != FR_OK) return 4;	/* Load boot record */
 2201              		.loc 1 2970 2 is_stmt 1 view .LVU676
2970:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (move_window(fs, sect) != FR_OK) return 4;	/* Load boot record */
 2202              		.loc 1 2970 12 is_stmt 0 view .LVU677
 2203 0004 0023     		movs	r3, #0
 2204 0006 C370     		strb	r3, [r0, #3]
2970:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (move_window(fs, sect) != FR_OK) return 4;	/* Load boot record */
 2205              		.loc 1 2970 17 is_stmt 1 view .LVU678
2970:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (move_window(fs, sect) != FR_OK) return 4;	/* Load boot record */
 2206              		.loc 1 2970 29 is_stmt 0 view .LVU679
 2207 0008 4FF0FF33 		mov	r3, #-1
 2208 000c 4363     		str	r3, [r0, #52]
2971:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2209              		.loc 1 2971 2 is_stmt 1 view .LVU680
2971:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2210              		.loc 1 2971 6 is_stmt 0 view .LVU681
 2211 000e FFF7FEFF 		bl	move_window
 2212              	.LVL245:
2971:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2213              		.loc 1 2971 5 view .LVU682
 2214 0012 30BB     		cbnz	r0, .L185
ARM GAS  /tmp/ccBfkcjf.s 			page 149


 2215 0014 0546     		mov	r5, r0
2973:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2216              		.loc 1 2973 2 is_stmt 1 view .LVU683
2973:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2217              		.loc 1 2973 6 is_stmt 0 view .LVU684
 2218 0016 04F23620 		addw	r0, r4, #566
 2219 001a FFF7FEFF 		bl	ld_word
 2220              	.LVL246:
2973:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2221              		.loc 1 2973 5 view .LVU685
 2222 001e 4AF65523 		movw	r3, #43605
 2223 0022 9842     		cmp	r0, r3
 2224 0024 1FD1     		bne	.L186
2975:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((ld_dword(fs->win + BS_FilSysType) & 0xFFFFFF) == 0x544146) return 0;	/* Check "FAT" string *
 2225              		.loc 1 2975 2 is_stmt 1 view .LVU686
2975:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((ld_dword(fs->win + BS_FilSysType) & 0xFFFFFF) == 0x544146) return 0;	/* Check "FAT" string *
 2226              		.loc 1 2975 13 is_stmt 0 view .LVU687
 2227 0026 94F83830 		ldrb	r3, [r4, #56]	@ zero_extendqisi2
2975:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((ld_dword(fs->win + BS_FilSysType) & 0xFFFFFF) == 0x544146) return 0;	/* Check "FAT" string *
 2228              		.loc 1 2975 5 view .LVU688
 2229 002a E92B     		cmp	r3, #233
 2230 002c 07D0     		beq	.L184
2975:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((ld_dword(fs->win + BS_FilSysType) & 0xFFFFFF) == 0x544146) return 0;	/* Check "FAT" string *
 2231              		.loc 1 2975 66 discriminator 1 view .LVU689
 2232 002e A36B     		ldr	r3, [r4, #56]
 2233 0030 03F0FF13 		and	r3, r3, #16711935
2975:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((ld_dword(fs->win + BS_FilSysType) & 0xFFFFFF) == 0x544146) return 0;	/* Check "FAT" string *
 2234              		.loc 1 2975 34 discriminator 1 view .LVU690
 2235 0034 0D4A     		ldr	r2, .L189
 2236 0036 9342     		cmp	r3, r2
 2237 0038 01D0     		beq	.L184
2982:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2238              		.loc 1 2982 9 view .LVU691
 2239 003a 0225     		movs	r5, #2
 2240 003c 14E0     		b	.L183
 2241              	.L184:
2976:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_dword(fs->win + BS_FilSysType32) == 0x33544146) return 0;			/* Check "FAT3" string */
 2242              		.loc 1 2976 3 is_stmt 1 view .LVU692
2976:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_dword(fs->win + BS_FilSysType32) == 0x33544146) return 0;			/* Check "FAT3" string */
 2243              		.loc 1 2976 8 is_stmt 0 view .LVU693
 2244 003e 04F16E00 		add	r0, r4, #110
 2245 0042 FFF7FEFF 		bl	ld_dword
 2246              	.LVL247:
2976:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_dword(fs->win + BS_FilSysType32) == 0x33544146) return 0;			/* Check "FAT3" string */
 2247              		.loc 1 2976 42 view .LVU694
 2248 0046 20F07F40 		bic	r0, r0, #-16777216
2976:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_dword(fs->win + BS_FilSysType32) == 0x33544146) return 0;			/* Check "FAT3" string */
 2249              		.loc 1 2976 6 view .LVU695
 2250 004a 094B     		ldr	r3, .L189+4
 2251 004c 9842     		cmp	r0, r3
 2252 004e 0BD0     		beq	.L183
2977:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2253              		.loc 1 2977 3 is_stmt 1 view .LVU696
2977:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2254              		.loc 1 2977 7 is_stmt 0 view .LVU697
 2255 0050 04F18A00 		add	r0, r4, #138
 2256 0054 FFF7FEFF 		bl	ld_dword
ARM GAS  /tmp/ccBfkcjf.s 			page 150


 2257              	.LVL248:
2977:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2258              		.loc 1 2977 6 view .LVU698
 2259 0058 064B     		ldr	r3, .L189+8
 2260 005a 9842     		cmp	r0, r3
 2261 005c 04D0     		beq	.L183
2982:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2262              		.loc 1 2982 9 view .LVU699
 2263 005e 0225     		movs	r5, #2
 2264 0060 02E0     		b	.L183
 2265              	.L185:
2971:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2266              		.loc 1 2971 45 view .LVU700
 2267 0062 0425     		movs	r5, #4
 2268 0064 00E0     		b	.L183
 2269              	.L186:
2973:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2270              		.loc 1 2973 51 view .LVU701
 2271 0066 0325     		movs	r5, #3
 2272              	.L183:
2983:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2273              		.loc 1 2983 1 view .LVU702
 2274 0068 2846     		mov	r0, r5
 2275 006a 38BD     		pop	{r3, r4, r5, pc}
 2276              	.LVL249:
 2277              	.L190:
2983:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2278              		.loc 1 2983 1 view .LVU703
 2279              		.align	2
 2280              	.L189:
 2281 006c EB009000 		.word	9437419
 2282 0070 46415400 		.word	5521734
 2283 0074 46415433 		.word	861159750
 2284              		.cfi_endproc
 2285              	.LFE390:
 2287              		.section	.text.find_volume,"ax",%progbits
 2288              		.align	1
 2289              		.syntax unified
 2290              		.thumb
 2291              		.thumb_func
 2292              		.fpu fpv5-d16
 2294              	find_volume:
 2295              	.LVL250:
 2296              	.LFB391:
2998:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, *pt;
 2297              		.loc 1 2998 1 is_stmt 1 view -0
 2298              		.cfi_startproc
 2299              		@ args = 0, pretend = 0, frame = 24
 2300              		@ frame_needed = 0, uses_anonymous_args = 0
2998:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, *pt;
 2301              		.loc 1 2998 1 is_stmt 0 view .LVU705
 2302 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2303              	.LCFI21:
 2304              		.cfi_def_cfa_offset 36
 2305              		.cfi_offset 4, -36
 2306              		.cfi_offset 5, -32
 2307              		.cfi_offset 6, -28
ARM GAS  /tmp/ccBfkcjf.s 			page 151


 2308              		.cfi_offset 7, -24
 2309              		.cfi_offset 8, -20
 2310              		.cfi_offset 9, -16
 2311              		.cfi_offset 10, -12
 2312              		.cfi_offset 11, -8
 2313              		.cfi_offset 14, -4
 2314 0004 87B0     		sub	sp, sp, #28
 2315              	.LCFI22:
 2316              		.cfi_def_cfa_offset 64
 2317 0006 0D46     		mov	r5, r1
 2318 0008 1646     		mov	r6, r2
2999:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
 2319              		.loc 1 2999 2 is_stmt 1 view .LVU706
3000:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
 2320              		.loc 1 3000 2 view .LVU707
3001:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD bsect, fasize, tsect, sysect, nclst, szbfat, br[4];
 2321              		.loc 1 3001 2 view .LVU708
3002:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD nrsv;
 2322              		.loc 1 3002 2 view .LVU709
3003:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 2323              		.loc 1 3003 2 view .LVU710
3004:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 2324              		.loc 1 3004 2 view .LVU711
3005:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2325              		.loc 1 3005 2 view .LVU712
3009:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(path);
 2326              		.loc 1 3009 2 view .LVU713
3009:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(path);
 2327              		.loc 1 3009 7 is_stmt 0 view .LVU714
 2328 000a 0023     		movs	r3, #0
 2329 000c 0B60     		str	r3, [r1]
3010:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 2330              		.loc 1 3010 2 is_stmt 1 view .LVU715
3010:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 2331              		.loc 1 3010 8 is_stmt 0 view .LVU716
 2332 000e FFF7FEFF 		bl	get_ldnumber
 2333              	.LVL251:
3011:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2334              		.loc 1 3011 2 is_stmt 1 view .LVU717
3011:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2335              		.loc 1 3011 5 is_stmt 0 view .LVU718
 2336 0012 071E     		subs	r7, r0, #0
 2337 0014 C0F26881 		blt	.L209
3014:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;		/* Is the file system object available? */
 2338              		.loc 1 3014 2 is_stmt 1 view .LVU719
3014:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;		/* Is the file system object available? */
 2339              		.loc 1 3014 5 is_stmt 0 view .LVU720
 2340 0018 BE4B     		ldr	r3, .L243
 2341 001a 53F82740 		ldr	r4, [r3, r7, lsl #2]
 2342              	.LVL252:
3015:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2343              		.loc 1 3015 2 is_stmt 1 view .LVU721
3015:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2344              		.loc 1 3015 5 is_stmt 0 view .LVU722
 2345 001e 002C     		cmp	r4, #0
 2346 0020 00F06781 		beq	.L210
3017:Middlewares/Third_Party/FatFs/src/ff.c **** 	*rfs = fs;							/* Return pointer to the file system object */
ARM GAS  /tmp/ccBfkcjf.s 			page 152


 2347              		.loc 1 3017 14 is_stmt 1 view .LVU723
3018:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2348              		.loc 1 3018 2 view .LVU724
3018:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2349              		.loc 1 3018 7 is_stmt 0 view .LVU725
 2350 0024 2C60     		str	r4, [r5]
3020:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type) {					/* If the volume has been mounted */
 2351              		.loc 1 3020 2 is_stmt 1 view .LVU726
3020:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type) {					/* If the volume has been mounted */
 2352              		.loc 1 3020 7 is_stmt 0 view .LVU727
 2353 0026 06F0FE06 		and	r6, r6, #254
 2354              	.LVL253:
3021:Middlewares/Third_Party/FatFs/src/ff.c **** 		stat = disk_status(fs->drv);
 2355              		.loc 1 3021 2 is_stmt 1 view .LVU728
3021:Middlewares/Third_Party/FatFs/src/ff.c **** 		stat = disk_status(fs->drv);
 2356              		.loc 1 3021 8 is_stmt 0 view .LVU729
 2357 002a 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
3021:Middlewares/Third_Party/FatFs/src/ff.c **** 		stat = disk_status(fs->drv);
 2358              		.loc 1 3021 5 view .LVU730
 2359 002c 73B1     		cbz	r3, .L193
3022:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(stat & STA_NOINIT)) {		/* and the physical drive is kept initialized */
 2360              		.loc 1 3022 3 is_stmt 1 view .LVU731
3022:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(stat & STA_NOINIT)) {		/* and the physical drive is kept initialized */
 2361              		.loc 1 3022 10 is_stmt 0 view .LVU732
 2362 002e 6078     		ldrb	r0, [r4, #1]	@ zero_extendqisi2
 2363              	.LVL254:
3022:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(stat & STA_NOINIT)) {		/* and the physical drive is kept initialized */
 2364              		.loc 1 3022 10 view .LVU733
 2365 0030 FFF7FEFF 		bl	disk_status
 2366              	.LVL255:
3023:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_READONLY && mode && (stat & STA_PROTECT)) {	/* Check write protection if needed */
 2367              		.loc 1 3023 3 is_stmt 1 view .LVU734
3023:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_READONLY && mode && (stat & STA_PROTECT)) {	/* Check write protection if needed */
 2368              		.loc 1 3023 6 is_stmt 0 view .LVU735
 2369 0034 10F00105 		ands	r5, r0, #1
 2370              	.LVL256:
3023:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_READONLY && mode && (stat & STA_PROTECT)) {	/* Check write protection if needed */
 2371              		.loc 1 3023 6 view .LVU736
 2372 0038 08D1     		bne	.L193
3024:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_WRITE_PROTECTED;
 2373              		.loc 1 3024 4 is_stmt 1 view .LVU737
3024:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_WRITE_PROTECTED;
 2374              		.loc 1 3024 7 is_stmt 0 view .LVU738
 2375 003a 002E     		cmp	r6, #0
 2376 003c 00F05581 		beq	.L192
3024:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_WRITE_PROTECTED;
 2377              		.loc 1 3024 30 discriminator 1 view .LVU739
 2378 0040 10F0040F 		tst	r0, #4
 2379 0044 00F05181 		beq	.L192
3025:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 2380              		.loc 1 3025 12 view .LVU740
 2381 0048 0A25     		movs	r5, #10
 2382 004a 4EE1     		b	.L192
 2383              	.LVL257:
 2384              	.L193:
3034:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->drv = LD2PD(vol);				/* Bind the logical drive and a physical drive */
 2385              		.loc 1 3034 2 is_stmt 1 view .LVU741
ARM GAS  /tmp/ccBfkcjf.s 			page 153


3034:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->drv = LD2PD(vol);				/* Bind the logical drive and a physical drive */
 2386              		.loc 1 3034 14 is_stmt 0 view .LVU742
 2387 004c 0023     		movs	r3, #0
 2388 004e 2370     		strb	r3, [r4]
3035:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(fs->drv);	/* Initialize the physical drive */
 2389              		.loc 1 3035 2 is_stmt 1 view .LVU743
3035:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(fs->drv);	/* Initialize the physical drive */
 2390              		.loc 1 3035 12 is_stmt 0 view .LVU744
 2391 0050 F8B2     		uxtb	r0, r7
3035:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(fs->drv);	/* Initialize the physical drive */
 2392              		.loc 1 3035 10 view .LVU745
 2393 0052 6070     		strb	r0, [r4, #1]
3036:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) { 			/* Check if the initialization succeeded */
 2394              		.loc 1 3036 2 is_stmt 1 view .LVU746
3036:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) { 			/* Check if the initialization succeeded */
 2395              		.loc 1 3036 9 is_stmt 0 view .LVU747
 2396 0054 FFF7FEFF 		bl	disk_initialize
 2397              	.LVL258:
3037:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NOT_READY;			/* Failed to initialize due to no medium or hard error */
 2398              		.loc 1 3037 2 is_stmt 1 view .LVU748
3037:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NOT_READY;			/* Failed to initialize due to no medium or hard error */
 2399              		.loc 1 3037 5 is_stmt 0 view .LVU749
 2400 0058 10F0010F 		tst	r0, #1
 2401 005c 40F04B81 		bne	.L212
3040:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_WRITE_PROTECTED;
 2402              		.loc 1 3040 2 is_stmt 1 view .LVU750
3040:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_WRITE_PROTECTED;
 2403              		.loc 1 3040 5 is_stmt 0 view .LVU751
 2404 0060 1EB1     		cbz	r6, .L194
3040:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_WRITE_PROTECTED;
 2405              		.loc 1 3040 28 discriminator 1 view .LVU752
 2406 0062 10F0040F 		tst	r0, #4
 2407 0066 40F04881 		bne	.L213
 2408              	.L194:
3044:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (SS(fs) > _MAX_SS || SS(fs) < _MIN_SS || (SS(fs) & (SS(fs) - 1))) return FR_DISK_ERR;
 2409              		.loc 1 3044 2 is_stmt 1 view .LVU753
3044:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (SS(fs) > _MAX_SS || SS(fs) < _MIN_SS || (SS(fs) & (SS(fs) - 1))) return FR_DISK_ERR;
 2410              		.loc 1 3044 6 is_stmt 0 view .LVU754
 2411 006a 04F10C02 		add	r2, r4, #12
 2412 006e 0221     		movs	r1, #2
 2413 0070 6078     		ldrb	r0, [r4, #1]	@ zero_extendqisi2
 2414              	.LVL259:
3044:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (SS(fs) > _MAX_SS || SS(fs) < _MIN_SS || (SS(fs) & (SS(fs) - 1))) return FR_DISK_ERR;
 2415              		.loc 1 3044 6 view .LVU755
 2416 0072 FFF7FEFF 		bl	disk_ioctl
 2417              	.LVL260:
3044:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (SS(fs) > _MAX_SS || SS(fs) < _MIN_SS || (SS(fs) & (SS(fs) - 1))) return FR_DISK_ERR;
 2418              		.loc 1 3044 5 view .LVU756
 2419 0076 0546     		mov	r5, r0
 2420 0078 0028     		cmp	r0, #0
 2421 007a 40F04081 		bne	.L214
3045:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2422              		.loc 1 3045 2 is_stmt 1 view .LVU757
3045:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2423              		.loc 1 3045 6 is_stmt 0 view .LVU758
 2424 007e A289     		ldrh	r2, [r4, #12]
3045:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  /tmp/ccBfkcjf.s 			page 154


 2425              		.loc 1 3045 23 view .LVU759
 2426 0080 A2F50073 		sub	r3, r2, #512
 2427 0084 9BB2     		uxth	r3, r3
3045:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2428              		.loc 1 3045 5 view .LVU760
 2429 0086 B3F5606F 		cmp	r3, #3584
 2430 008a 00F23A81 		bhi	.L215
3045:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2431              		.loc 1 3045 64 discriminator 2 view .LVU761
 2432 008e 531E     		subs	r3, r2, #1
3045:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2433              		.loc 1 3045 43 discriminator 2 view .LVU762
 2434 0090 1A42     		tst	r2, r3
 2435 0092 01D0     		beq	.L237
3045:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2436              		.loc 1 3045 78 view .LVU763
 2437 0094 0125     		movs	r5, #1
 2438 0096 28E1     		b	.L192
 2439              	.L237:
3049:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = check_fs(fs, bsect);			/* Load sector 0 and check if it is an FAT-VBR as SFD */
 2440              		.loc 1 3049 2 is_stmt 1 view .LVU764
 2441              	.LVL261:
3050:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 2 || (fmt < 2 && LD2PT(vol) != 0)) {	/* Not an FAT-VBR or forced partition number */
 2442              		.loc 1 3050 2 view .LVU765
3050:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 2 || (fmt < 2 && LD2PT(vol) != 0)) {	/* Not an FAT-VBR or forced partition number */
 2443              		.loc 1 3050 8 is_stmt 0 view .LVU766
 2444 0098 0021     		movs	r1, #0
 2445 009a 2046     		mov	r0, r4
 2446 009c FFF7FEFF 		bl	check_fs
 2447              	.LVL262:
3051:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 4; i++) {		/* Get partition offset */
 2448              		.loc 1 3051 2 is_stmt 1 view .LVU767
3051:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 4; i++) {		/* Get partition offset */
 2449              		.loc 1 3051 5 is_stmt 0 view .LVU768
 2450 00a0 0228     		cmp	r0, #2
 2451 00a2 00F0C380 		beq	.L217
3049:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = check_fs(fs, bsect);			/* Load sector 0 and check if it is an FAT-VBR as SFD */
 2452              		.loc 1 3049 8 view .LVU769
 2453 00a6 0026     		movs	r6, #0
 2454              	.LVL263:
 2455              	.L196:
3063:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt >= 2) return FR_NO_FILESYSTEM;	/* No FAT volume is found */
 2456              		.loc 1 3063 2 is_stmt 1 view .LVU770
3063:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt >= 2) return FR_NO_FILESYSTEM;	/* No FAT volume is found */
 2457              		.loc 1 3063 5 is_stmt 0 view .LVU771
 2458 00a8 0428     		cmp	r0, #4
 2459 00aa 00F02C81 		beq	.L220
3064:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2460              		.loc 1 3064 2 is_stmt 1 view .LVU772
3064:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2461              		.loc 1 3064 5 is_stmt 0 view .LVU773
 2462 00ae 0128     		cmp	r0, #1
 2463 00b0 00F22B81 		bhi	.L221
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2464              		.loc 1 3116 3 is_stmt 1 view .LVU774
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2465              		.loc 1 3116 7 is_stmt 0 view .LVU775
ARM GAS  /tmp/ccBfkcjf.s 			page 155


 2466 00b4 04F14300 		add	r0, r4, #67
 2467              	.LVL264:
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2468              		.loc 1 3116 7 view .LVU776
 2469 00b8 FFF7FEFF 		bl	ld_word
 2470              	.LVL265:
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2471              		.loc 1 3116 44 view .LVU777
 2472 00bc B4F80C80 		ldrh	r8, [r4, #12]
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2473              		.loc 1 3116 6 view .LVU778
 2474 00c0 4045     		cmp	r0, r8
 2475 00c2 40F02481 		bne	.L222
3118:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fasize == 0) fasize = ld_dword(fs->win + BPB_FATSz32);
 2476              		.loc 1 3118 3 is_stmt 1 view .LVU779
3118:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fasize == 0) fasize = ld_dword(fs->win + BPB_FATSz32);
 2477              		.loc 1 3118 12 is_stmt 0 view .LVU780
 2478 00c6 04F14E00 		add	r0, r4, #78
 2479 00ca FFF7FEFF 		bl	ld_word
 2480              	.LVL266:
3118:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fasize == 0) fasize = ld_dword(fs->win + BPB_FATSz32);
 2481              		.loc 1 3118 10 view .LVU781
 2482 00ce 0746     		mov	r7, r0
 2483              	.LVL267:
3119:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsize = fasize;
 2484              		.loc 1 3119 3 is_stmt 1 view .LVU782
3119:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsize = fasize;
 2485              		.loc 1 3119 6 is_stmt 0 view .LVU783
 2486 00d0 20B9     		cbnz	r0, .L201
3119:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsize = fasize;
 2487              		.loc 1 3119 20 is_stmt 1 discriminator 1 view .LVU784
3119:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsize = fasize;
 2488              		.loc 1 3119 29 is_stmt 0 discriminator 1 view .LVU785
 2489 00d2 04F15C00 		add	r0, r4, #92
 2490              	.LVL268:
3119:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsize = fasize;
 2491              		.loc 1 3119 29 discriminator 1 view .LVU786
 2492 00d6 FFF7FEFF 		bl	ld_dword
 2493              	.LVL269:
 2494 00da 0746     		mov	r7, r0
 2495              	.LVL270:
 2496              	.L201:
3120:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2497              		.loc 1 3120 3 is_stmt 1 view .LVU787
3120:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2498              		.loc 1 3120 13 is_stmt 0 view .LVU788
 2499 00dc 2762     		str	r7, [r4, #32]
3122:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_fats != 1 && fs->n_fats != 2) return FR_NO_FILESYSTEM;	/* (Must be 1 or 2) */
 2500              		.loc 1 3122 3 is_stmt 1 view .LVU789
3122:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_fats != 1 && fs->n_fats != 2) return FR_NO_FILESYSTEM;	/* (Must be 1 or 2) */
 2501              		.loc 1 3122 23 is_stmt 0 view .LVU790
 2502 00de 94F84820 		ldrb	r2, [r4, #72]	@ zero_extendqisi2
3122:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_fats != 1 && fs->n_fats != 2) return FR_NO_FILESYSTEM;	/* (Must be 1 or 2) */
 2503              		.loc 1 3122 14 view .LVU791
 2504 00e2 A270     		strb	r2, [r4, #2]
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 		fasize *= fs->n_fats;							/* Number of sectors for FAT area */
 2505              		.loc 1 3123 3 is_stmt 1 view .LVU792
ARM GAS  /tmp/ccBfkcjf.s 			page 156


3123:Middlewares/Third_Party/FatFs/src/ff.c **** 		fasize *= fs->n_fats;							/* Number of sectors for FAT area */
 2506              		.loc 1 3123 23 is_stmt 0 view .LVU793
 2507 00e4 531E     		subs	r3, r2, #1
 2508 00e6 DBB2     		uxtb	r3, r3
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 		fasize *= fs->n_fats;							/* Number of sectors for FAT area */
 2509              		.loc 1 3123 6 view .LVU794
 2510 00e8 012B     		cmp	r3, #1
 2511 00ea 00F21D81 		bhi	.L223
3124:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2512              		.loc 1 3124 3 is_stmt 1 view .LVU795
3124:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2513              		.loc 1 3124 10 is_stmt 0 view .LVU796
 2514 00ee 07FB02F3 		mul	r3, r7, r2
 2515 00f2 0093     		str	r3, [sp]
 2516              	.LVL271:
3126:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->csize == 0 || (fs->csize & (fs->csize - 1))) return FR_NO_FILESYSTEM;	/* (Must be power o
 2517              		.loc 1 3126 3 is_stmt 1 view .LVU797
3126:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->csize == 0 || (fs->csize & (fs->csize - 1))) return FR_NO_FILESYSTEM;	/* (Must be power o
 2518              		.loc 1 3126 22 is_stmt 0 view .LVU798
 2519 00f4 94F84590 		ldrb	r9, [r4, #69]	@ zero_extendqisi2
3126:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->csize == 0 || (fs->csize & (fs->csize - 1))) return FR_NO_FILESYSTEM;	/* (Must be power o
 2520              		.loc 1 3126 13 view .LVU799
 2521 00f8 A4F80A90 		strh	r9, [r4, #10]	@ movhi
3127:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2522              		.loc 1 3127 3 is_stmt 1 view .LVU800
3127:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2523              		.loc 1 3127 6 is_stmt 0 view .LVU801
 2524 00fc B9F1000F 		cmp	r9, #0
 2525 0100 00F01481 		beq	.L224
3127:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2526              		.loc 1 3127 49 discriminator 2 view .LVU802
 2527 0104 09F1FF33 		add	r3, r9, #-1
 2528              	.LVL272:
3127:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2529              		.loc 1 3127 22 discriminator 2 view .LVU803
 2530 0108 19EA030F 		tst	r9, r3
 2531 010c 40F01081 		bne	.L225
3129:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_rootdir % (SS(fs) / SZDIRE)) return FR_NO_FILESYSTEM;	/* (Must be sector aligned) */
 2532              		.loc 1 3129 3 is_stmt 1 view .LVU804
3129:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_rootdir % (SS(fs) / SZDIRE)) return FR_NO_FILESYSTEM;	/* (Must be sector aligned) */
 2533              		.loc 1 3129 19 is_stmt 0 view .LVU805
 2534 0110 04F14900 		add	r0, r4, #73
 2535 0114 FFF7FEFF 		bl	ld_word
 2536              	.LVL273:
 2537 0118 8246     		mov	r10, r0
3129:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_rootdir % (SS(fs) / SZDIRE)) return FR_NO_FILESYSTEM;	/* (Must be sector aligned) */
 2538              		.loc 1 3129 17 view .LVU806
 2539 011a 2081     		strh	r0, [r4, #8]	@ movhi
3130:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2540              		.loc 1 3130 3 is_stmt 1 view .LVU807
3130:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2541              		.loc 1 3130 7 is_stmt 0 view .LVU808
 2542 011c 4FEA581B 		lsr	fp, r8, #5
 2543 0120 B0FBFBF3 		udiv	r3, r0, fp
 2544 0124 0BFB1303 		mls	r3, fp, r3, r0
 2545 0128 9BB2     		uxth	r3, r3
3130:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccBfkcjf.s 			page 157


 2546              		.loc 1 3130 6 view .LVU809
 2547 012a 002B     		cmp	r3, #0
 2548 012c 40F00281 		bne	.L226
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect == 0) tsect = ld_dword(fs->win + BPB_TotSec32);
 2549              		.loc 1 3132 3 is_stmt 1 view .LVU810
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect == 0) tsect = ld_dword(fs->win + BPB_TotSec32);
 2550              		.loc 1 3132 11 is_stmt 0 view .LVU811
 2551 0130 04F14B00 		add	r0, r4, #75
 2552 0134 FFF7FEFF 		bl	ld_word
 2553              	.LVL274:
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect == 0) tsect = ld_dword(fs->win + BPB_TotSec32);
 2554              		.loc 1 3132 9 view .LVU812
 2555 0138 0190     		str	r0, [sp, #4]
 2556              	.LVL275:
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2557              		.loc 1 3133 3 is_stmt 1 view .LVU813
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2558              		.loc 1 3133 6 is_stmt 0 view .LVU814
 2559 013a 20B9     		cbnz	r0, .L202
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2560              		.loc 1 3133 19 is_stmt 1 discriminator 1 view .LVU815
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2561              		.loc 1 3133 27 is_stmt 0 discriminator 1 view .LVU816
 2562 013c 04F15800 		add	r0, r4, #88
 2563              	.LVL276:
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2564              		.loc 1 3133 27 discriminator 1 view .LVU817
 2565 0140 FFF7FEFF 		bl	ld_dword
 2566              	.LVL277:
 2567 0144 0190     		str	r0, [sp, #4]
 2568              	.LVL278:
 2569              	.L202:
3135:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nrsv == 0) return FR_NO_FILESYSTEM;			/* (Must not be 0) */
 2570              		.loc 1 3135 3 is_stmt 1 view .LVU818
3135:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nrsv == 0) return FR_NO_FILESYSTEM;			/* (Must not be 0) */
 2571              		.loc 1 3135 10 is_stmt 0 view .LVU819
 2572 0146 04F14600 		add	r0, r4, #70
 2573 014a FFF7FEFF 		bl	ld_word
 2574              	.LVL279:
3136:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2575              		.loc 1 3136 3 is_stmt 1 view .LVU820
3136:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2576              		.loc 1 3136 6 is_stmt 0 view .LVU821
 2577 014e 0146     		mov	r1, r0
 2578 0150 0028     		cmp	r0, #0
 2579 0152 00F0F180 		beq	.L227
3139:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect < sysect) return FR_NO_FILESYSTEM;	/* (Invalid volume size) */
 2580              		.loc 1 3139 3 is_stmt 1 view .LVU822
3139:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect < sysect) return FR_NO_FILESYSTEM;	/* (Invalid volume size) */
 2581              		.loc 1 3139 17 is_stmt 0 view .LVU823
 2582 0156 009B     		ldr	r3, [sp]
 2583 0158 C318     		adds	r3, r0, r3
3139:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect < sysect) return FR_NO_FILESYSTEM;	/* (Invalid volume size) */
 2584              		.loc 1 3139 42 view .LVU824
 2585 015a BAFBFBFB 		udiv	fp, r10, fp
3139:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect < sysect) return FR_NO_FILESYSTEM;	/* (Invalid volume size) */
 2586              		.loc 1 3139 10 view .LVU825
ARM GAS  /tmp/ccBfkcjf.s 			page 158


 2587 015e 5B44     		add	r3, r3, fp
 2588              	.LVL280:
3140:Middlewares/Third_Party/FatFs/src/ff.c **** 		nclst = (tsect - sysect) / fs->csize;			/* Number of clusters */
 2589              		.loc 1 3140 3 is_stmt 1 view .LVU826
3140:Middlewares/Third_Party/FatFs/src/ff.c **** 		nclst = (tsect - sysect) / fs->csize;			/* Number of clusters */
 2590              		.loc 1 3140 6 is_stmt 0 view .LVU827
 2591 0160 019A     		ldr	r2, [sp, #4]
 2592 0162 9A42     		cmp	r2, r3
 2593 0164 C0F0EA80 		bcc	.L228
3141:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst == 0) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
 2594              		.loc 1 3141 3 is_stmt 1 view .LVU828
3141:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst == 0) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
 2595              		.loc 1 3141 18 is_stmt 0 view .LVU829
 2596 0168 D21A     		subs	r2, r2, r3
3141:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst == 0) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
 2597              		.loc 1 3141 9 view .LVU830
 2598 016a B2FBF9F0 		udiv	r0, r2, r9
 2599              	.LVL281:
3142:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT32;
 2600              		.loc 1 3142 3 is_stmt 1 view .LVU831
3142:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT32;
 2601              		.loc 1 3142 6 is_stmt 0 view .LVU832
 2602 016e 4A45     		cmp	r2, r9
 2603 0170 C0F0E680 		bcc	.L229
3143:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst <= MAX_FAT16) fmt = FS_FAT16;
 2604              		.loc 1 3143 3 is_stmt 1 view .LVU833
 2605              	.LVL282:
3144:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst <= MAX_FAT12) fmt = FS_FAT12;
 2606              		.loc 1 3144 3 view .LVU834
3144:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst <= MAX_FAT12) fmt = FS_FAT12;
 2607              		.loc 1 3144 6 is_stmt 0 view .LVU835
 2608 0174 4FF6F572 		movw	r2, #65525
 2609 0178 9042     		cmp	r0, r2
 2610 017a 6FD9     		bls	.L230
3143:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst <= MAX_FAT16) fmt = FS_FAT16;
 2611              		.loc 1 3143 7 view .LVU836
 2612 017c 4FF0030B 		mov	fp, #3
 2613              	.L203:
 2614              	.LVL283:
3145:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2615              		.loc 1 3145 3 is_stmt 1 view .LVU837
3145:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2616              		.loc 1 3145 6 is_stmt 0 view .LVU838
 2617 0180 40F6F572 		movw	r2, #4085
 2618 0184 9042     		cmp	r0, r2
 2619 0186 01D8     		bhi	.L204
3145:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2620              		.loc 1 3145 31 view .LVU839
 2621 0188 4FF0010B 		mov	fp, #1
 2622              	.LVL284:
 2623              	.L204:
3148:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->volbase = bsect;							/* Volume start sector */
 2624              		.loc 1 3148 3 is_stmt 1 view .LVU840
3148:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->volbase = bsect;							/* Volume start sector */
 2625              		.loc 1 3148 24 is_stmt 0 view .LVU841
 2626 018c 00F10209 		add	r9, r0, #2
3148:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->volbase = bsect;							/* Volume start sector */
ARM GAS  /tmp/ccBfkcjf.s 			page 159


 2627              		.loc 1 3148 16 view .LVU842
 2628 0190 C4F81C90 		str	r9, [r4, #28]
3149:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fatbase = bsect + nrsv; 					/* FAT start sector */
 2629              		.loc 1 3149 3 is_stmt 1 view .LVU843
3149:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fatbase = bsect + nrsv; 					/* FAT start sector */
 2630              		.loc 1 3149 15 is_stmt 0 view .LVU844
 2631 0194 6662     		str	r6, [r4, #36]
3150:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->database = bsect + sysect;					/* Data start sector */
 2632              		.loc 1 3150 3 is_stmt 1 view .LVU845
3150:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->database = bsect + sysect;					/* Data start sector */
 2633              		.loc 1 3150 23 is_stmt 0 view .LVU846
 2634 0196 8A19     		adds	r2, r1, r6
3150:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->database = bsect + sysect;					/* Data start sector */
 2635              		.loc 1 3150 15 view .LVU847
 2636 0198 A262     		str	r2, [r4, #40]
3151:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
 2637              		.loc 1 3151 3 is_stmt 1 view .LVU848
3151:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
 2638              		.loc 1 3151 24 is_stmt 0 view .LVU849
 2639 019a 3344     		add	r3, r3, r6
 2640              	.LVL285:
3151:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
 2641              		.loc 1 3151 16 view .LVU850
 2642 019c 2363     		str	r3, [r4, #48]
3152:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ld_word(fs->win + BPB_FSVer32) != 0) return FR_NO_FILESYSTEM;	/* (Must be FAT32 revision 0.0
 2643              		.loc 1 3152 3 is_stmt 1 view .LVU851
3152:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ld_word(fs->win + BPB_FSVer32) != 0) return FR_NO_FILESYSTEM;	/* (Must be FAT32 revision 0.0
 2644              		.loc 1 3152 6 is_stmt 0 view .LVU852
 2645 019e BBF1030F 		cmp	fp, #3
 2646 01a2 5ED0     		beq	.L238
3158:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = fs->fatbase + fasize;			/* Root directory start sector */
 2647              		.loc 1 3158 4 is_stmt 1 view .LVU853
3158:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = fs->fatbase + fasize;			/* Root directory start sector */
 2648              		.loc 1 3158 7 is_stmt 0 view .LVU854
 2649 01a4 BAF1000F 		cmp	r10, #0
 2650 01a8 00F0D080 		beq	.L234
3159:Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = (fmt == FS_FAT16) ?				/* (Needed FAT size) */
 2651              		.loc 1 3159 4 is_stmt 1 view .LVU855
3159:Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = (fmt == FS_FAT16) ?				/* (Needed FAT size) */
 2652              		.loc 1 3159 30 is_stmt 0 view .LVU856
 2653 01ac 009B     		ldr	r3, [sp]
 2654 01ae 1A44     		add	r2, r2, r3
3159:Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = (fmt == FS_FAT16) ?				/* (Needed FAT size) */
 2655              		.loc 1 3159 16 view .LVU857
 2656 01b0 E262     		str	r2, [r4, #44]
3160:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->n_fatent * 2 : fs->n_fatent * 3 / 2 + (fs->n_fatent & 1);
 2657              		.loc 1 3160 4 is_stmt 1 view .LVU858
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2658              		.loc 1 3161 22 is_stmt 0 view .LVU859
 2659 01b2 BBF1020F 		cmp	fp, #2
 2660 01b6 65D0     		beq	.L239
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2661              		.loc 1 3161 37 discriminator 2 view .LVU860
 2662 01b8 09EB4902 		add	r2, r9, r9, lsl #1
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2663              		.loc 1 3161 61 discriminator 2 view .LVU861
 2664 01bc 09F00103 		and	r3, r9, #1
ARM GAS  /tmp/ccBfkcjf.s 			page 160


3161:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2665              		.loc 1 3161 22 discriminator 2 view .LVU862
 2666 01c0 03EB5203 		add	r3, r3, r2, lsr #1
 2667              	.LVL286:
 2668              	.L206:
3163:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2669              		.loc 1 3163 3 is_stmt 1 view .LVU863
3163:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2670              		.loc 1 3163 27 is_stmt 0 view .LVU864
 2671 01c4 4344     		add	r3, r3, r8
 2672              	.LVL287:
3163:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2673              		.loc 1 3163 27 view .LVU865
 2674 01c6 013B     		subs	r3, r3, #1
3163:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2675              		.loc 1 3163 43 view .LVU866
 2676 01c8 B3FBF8F8 		udiv	r8, r3, r8
3163:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2677              		.loc 1 3163 6 view .LVU867
 2678 01cc B845     		cmp	r8, r7
 2679 01ce 00F2BF80 		bhi	.L235
3167:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag = 0x80;
 2680              		.loc 1 3167 3 is_stmt 1 view .LVU868
3167:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag = 0x80;
 2681              		.loc 1 3167 33 is_stmt 0 view .LVU869
 2682 01d2 4FF0FF33 		mov	r3, #-1
 2683 01d6 A361     		str	r3, [r4, #24]
3167:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag = 0x80;
 2684              		.loc 1 3167 17 view .LVU870
 2685 01d8 6361     		str	r3, [r4, #20]
3168:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 3) != 3
 2686              		.loc 1 3168 3 is_stmt 1 view .LVU871
3168:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 3) != 3
 2687              		.loc 1 3168 16 is_stmt 0 view .LVU872
 2688 01da 8023     		movs	r3, #128
 2689 01dc 2371     		strb	r3, [r4, #4]
3170:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& ld_word(fs->win + BPB_FSInfo32) == 1
 2690              		.loc 1 3170 3 is_stmt 1 view .LVU873
3170:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& ld_word(fs->win + BPB_FSInfo32) == 1
 2691              		.loc 1 3170 6 is_stmt 0 view .LVU874
 2692 01de BBF1030F 		cmp	fp, #3
 2693 01e2 52D0     		beq	.L240
 2694              	.L208:
3191:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->id = ++Fsid;		/* File system mount ID */
 2695              		.loc 1 3191 2 is_stmt 1 view .LVU875
3191:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->id = ++Fsid;		/* File system mount ID */
 2696              		.loc 1 3191 14 is_stmt 0 view .LVU876
 2697 01e4 84F800B0 		strb	fp, [r4]
3192:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1
 2698              		.loc 1 3192 2 is_stmt 1 view .LVU877
3192:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1
 2699              		.loc 1 3192 11 is_stmt 0 view .LVU878
 2700 01e8 4B4A     		ldr	r2, .L243+4
 2701 01ea 1388     		ldrh	r3, [r2]
 2702 01ec 0133     		adds	r3, r3, #1
 2703 01ee 9BB2     		uxth	r3, r3
3192:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1
ARM GAS  /tmp/ccBfkcjf.s 			page 161


 2704              		.loc 1 3192 9 view .LVU879
 2705 01f0 1380     		strh	r3, [r2]	@ movhi
 2706 01f2 E380     		strh	r3, [r4, #6]	@ movhi
3194:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 2707              		.loc 1 3194 2 is_stmt 1 view .LVU880
3194:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 2708              		.loc 1 3194 13 is_stmt 0 view .LVU881
 2709 01f4 494B     		ldr	r3, .L243+8
 2710 01f6 2361     		str	r3, [r4, #16]
3203:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2711              		.loc 1 3203 2 is_stmt 1 view .LVU882
 2712 01f8 2046     		mov	r0, r4
 2713 01fa FFF7FEFF 		bl	clear_lock
 2714              	.LVL288:
3205:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2715              		.loc 1 3205 2 view .LVU883
3205:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2716              		.loc 1 3205 9 is_stmt 0 view .LVU884
 2717 01fe 74E0     		b	.L192
 2718              	.LVL289:
 2719              	.L218:
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2720              		.loc 1 3054 54 view .LVU885
 2721 0200 0020     		movs	r0, #0
 2722              	.LVL290:
 2723              	.L197:
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2724              		.loc 1 3054 10 discriminator 4 view .LVU886
 2725 0202 06AB     		add	r3, sp, #24
 2726 0204 03EB8603 		add	r3, r3, r6, lsl #2
 2727 0208 43F8100C 		str	r0, [r3, #-16]
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win + (MBR_Table + i * SZ_PTE);
 2728              		.loc 1 3052 22 is_stmt 1 discriminator 4 view .LVU887
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win + (MBR_Table + i * SZ_PTE);
 2729              		.loc 1 3052 23 is_stmt 0 discriminator 4 view .LVU888
 2730 020c 0136     		adds	r6, r6, #1
 2731              	.LVL291:
 2732              	.L195:
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win + (MBR_Table + i * SZ_PTE);
 2733              		.loc 1 3052 15 is_stmt 1 discriminator 2 view .LVU889
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win + (MBR_Table + i * SZ_PTE);
 2734              		.loc 1 3052 3 is_stmt 0 discriminator 2 view .LVU890
 2735 020e 032E     		cmp	r6, #3
 2736 0210 0ED8     		bhi	.L241
3053:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[PTE_System] ? ld_dword(pt + PTE_StLba) : 0;
 2737              		.loc 1 3053 4 is_stmt 1 view .LVU891
3053:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[PTE_System] ? ld_dword(pt + PTE_StLba) : 0;
 2738              		.loc 1 3053 9 is_stmt 0 view .LVU892
 2739 0212 04F13800 		add	r0, r4, #56
3053:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[PTE_System] ? ld_dword(pt + PTE_StLba) : 0;
 2740              		.loc 1 3053 34 view .LVU893
 2741 0216 3301     		lsls	r3, r6, #4
3053:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[PTE_System] ? ld_dword(pt + PTE_StLba) : 0;
 2742              		.loc 1 3053 30 view .LVU894
 2743 0218 03F5DF73 		add	r3, r3, #446
3053:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[PTE_System] ? ld_dword(pt + PTE_StLba) : 0;
 2744              		.loc 1 3053 7 view .LVU895
ARM GAS  /tmp/ccBfkcjf.s 			page 162


 2745 021c 1844     		add	r0, r0, r3
 2746              	.LVL292:
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2747              		.loc 1 3054 4 is_stmt 1 view .LVU896
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2748              		.loc 1 3054 14 is_stmt 0 view .LVU897
 2749 021e 0379     		ldrb	r3, [r0, #4]	@ zero_extendqisi2
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2750              		.loc 1 3054 54 view .LVU898
 2751 0220 002B     		cmp	r3, #0
 2752 0222 EDD0     		beq	.L218
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2753              		.loc 1 3054 29 discriminator 1 view .LVU899
 2754 0224 0830     		adds	r0, r0, #8
 2755              	.LVL293:
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2756              		.loc 1 3054 29 discriminator 1 view .LVU900
 2757 0226 FFF7FEFF 		bl	ld_dword
 2758              	.LVL294:
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2759              		.loc 1 3054 29 discriminator 1 view .LVU901
 2760 022a EAE7     		b	.L197
 2761              	.LVL295:
 2762              	.L217:
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win + (MBR_Table + i * SZ_PTE);
 2763              		.loc 1 3052 10 view .LVU902
 2764 022c 0026     		movs	r6, #0
 2765              	.LVL296:
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win + (MBR_Table + i * SZ_PTE);
 2766              		.loc 1 3052 10 view .LVU903
 2767 022e EEE7     		b	.L195
 2768              	.LVL297:
 2769              	.L241:
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win + (MBR_Table + i * SZ_PTE);
 2770              		.loc 1 3052 10 view .LVU904
 2771 0230 0027     		movs	r7, #0
 2772              	.LVL298:
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win + (MBR_Table + i * SZ_PTE);
 2773              		.loc 1 3052 10 view .LVU905
 2774 0232 0AE0     		b	.L200
 2775              	.LVL299:
 2776              	.L242:
3060:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (LD2PT(vol) == 0 && fmt >= 2 && ++i < 4);
 2777              		.loc 1 3060 18 discriminator 1 view .LVU906
 2778 0234 3146     		mov	r1, r6
 2779 0236 2046     		mov	r0, r4
 2780 0238 FFF7FEFF 		bl	check_fs
 2781              	.LVL300:
3061:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2782              		.loc 1 3061 11 is_stmt 1 discriminator 1 view .LVU907
3061:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2783              		.loc 1 3061 3 is_stmt 0 discriminator 1 view .LVU908
 2784 023c 0128     		cmp	r0, #1
 2785 023e 7FF633AF 		bls	.L196
 2786              	.LVL301:
 2787              	.L199:
3061:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
ARM GAS  /tmp/ccBfkcjf.s 			page 163


 2788              		.loc 1 3061 40 discriminator 1 view .LVU909
 2789 0242 0137     		adds	r7, r7, #1
 2790              	.LVL302:
3061:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2791              		.loc 1 3061 40 discriminator 1 view .LVU910
 2792 0244 032F     		cmp	r7, #3
 2793 0246 3FF62FAF 		bhi	.L196
 2794              	.LVL303:
 2795              	.L200:
3058:Middlewares/Third_Party/FatFs/src/ff.c **** 			bsect = br[i];
 2796              		.loc 1 3058 3 is_stmt 1 view .LVU911
3059:Middlewares/Third_Party/FatFs/src/ff.c **** 			fmt = bsect ? check_fs(fs, bsect) : 3;	/* Check the partition */
 2797              		.loc 1 3059 4 view .LVU912
3059:Middlewares/Third_Party/FatFs/src/ff.c **** 			fmt = bsect ? check_fs(fs, bsect) : 3;	/* Check the partition */
 2798              		.loc 1 3059 10 is_stmt 0 view .LVU913
 2799 024a 06AB     		add	r3, sp, #24
 2800 024c 03EB8703 		add	r3, r3, r7, lsl #2
 2801 0250 53F8106C 		ldr	r6, [r3, #-16]
 2802              	.LVL304:
3060:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (LD2PT(vol) == 0 && fmt >= 2 && ++i < 4);
 2803              		.loc 1 3060 4 is_stmt 1 view .LVU914
3060:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (LD2PT(vol) == 0 && fmt >= 2 && ++i < 4);
 2804              		.loc 1 3060 8 is_stmt 0 view .LVU915
 2805 0254 002E     		cmp	r6, #0
 2806 0256 EDD1     		bne	.L242
 2807 0258 0320     		movs	r0, #3
 2808 025a F2E7     		b	.L199
 2809              	.LVL305:
 2810              	.L230:
3144:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst <= MAX_FAT12) fmt = FS_FAT12;
 2811              		.loc 1 3144 31 view .LVU916
 2812 025c 4FF0020B 		mov	fp, #2
 2813 0260 8EE7     		b	.L203
 2814              	.LVL306:
 2815              	.L238:
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->n_rootdir) return FR_NO_FILESYSTEM;	/* (BPB_RootEntCnt must be 0) */
 2816              		.loc 1 3153 4 is_stmt 1 view .LVU917
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->n_rootdir) return FR_NO_FILESYSTEM;	/* (BPB_RootEntCnt must be 0) */
 2817              		.loc 1 3153 8 is_stmt 0 view .LVU918
 2818 0262 04F16200 		add	r0, r4, #98
 2819              	.LVL307:
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->n_rootdir) return FR_NO_FILESYSTEM;	/* (BPB_RootEntCnt must be 0) */
 2820              		.loc 1 3153 8 view .LVU919
 2821 0266 FFF7FEFF 		bl	ld_word
 2822              	.LVL308:
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->n_rootdir) return FR_NO_FILESYSTEM;	/* (BPB_RootEntCnt must be 0) */
 2823              		.loc 1 3153 7 view .LVU920
 2824 026a 0028     		cmp	r0, #0
 2825 026c 6AD1     		bne	.L232
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = ld_dword(fs->win + BPB_RootClus32);	/* Root directory start cluster */
 2826              		.loc 1 3154 4 is_stmt 1 view .LVU921
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = ld_dword(fs->win + BPB_RootClus32);	/* Root directory start cluster */
 2827              		.loc 1 3154 7 is_stmt 0 view .LVU922
 2828 026e BAF1000F 		cmp	r10, #0
 2829 0272 69D1     		bne	.L233
3155:Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = fs->n_fatent * 4;					/* (Needed FAT size) */
 2830              		.loc 1 3155 4 is_stmt 1 view .LVU923
ARM GAS  /tmp/ccBfkcjf.s 			page 164


3155:Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = fs->n_fatent * 4;					/* (Needed FAT size) */
 2831              		.loc 1 3155 18 is_stmt 0 view .LVU924
 2832 0274 04F16400 		add	r0, r4, #100
 2833 0278 FFF7FEFF 		bl	ld_dword
 2834              	.LVL309:
3155:Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = fs->n_fatent * 4;					/* (Needed FAT size) */
 2835              		.loc 1 3155 16 view .LVU925
 2836 027c E062     		str	r0, [r4, #44]
3156:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 2837              		.loc 1 3156 4 is_stmt 1 view .LVU926
3156:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 2838              		.loc 1 3156 11 is_stmt 0 view .LVU927
 2839 027e 4FEA8903 		lsl	r3, r9, #2
 2840              	.LVL310:
3156:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 2841              		.loc 1 3156 11 view .LVU928
 2842 0282 9FE7     		b	.L206
 2843              	.LVL311:
 2844              	.L239:
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2845              		.loc 1 3161 22 discriminator 1 view .LVU929
 2846 0284 4FEA4903 		lsl	r3, r9, #1
 2847 0288 9CE7     		b	.L206
 2848              	.LVL312:
 2849              	.L240:
3171:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& move_window(fs, bsect + 1) == FR_OK)
 2850              		.loc 1 3171 7 view .LVU930
 2851 028a 04F16800 		add	r0, r4, #104
 2852 028e FFF7FEFF 		bl	ld_word
 2853              	.LVL313:
3171:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& move_window(fs, bsect + 1) == FR_OK)
 2854              		.loc 1 3171 4 view .LVU931
 2855 0292 0128     		cmp	r0, #1
 2856 0294 A6D1     		bne	.L208
3172:Middlewares/Third_Party/FatFs/src/ff.c **** 		{
 2857              		.loc 1 3172 7 view .LVU932
 2858 0296 711C     		adds	r1, r6, #1
 2859 0298 2046     		mov	r0, r4
 2860 029a FFF7FEFF 		bl	move_window
 2861              	.LVL314:
3172:Middlewares/Third_Party/FatFs/src/ff.c **** 		{
 2862              		.loc 1 3172 4 view .LVU933
 2863 029e 0028     		cmp	r0, #0
 2864 02a0 A0D1     		bne	.L208
3174:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ld_word(fs->win + BS_55AA) == 0xAA55	/* Load FSINFO data if available */
 2865              		.loc 1 3174 4 is_stmt 1 view .LVU934
3174:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ld_word(fs->win + BS_55AA) == 0xAA55	/* Load FSINFO data if available */
 2866              		.loc 1 3174 17 is_stmt 0 view .LVU935
 2867 02a2 0023     		movs	r3, #0
 2868 02a4 2371     		strb	r3, [r4, #4]
3175:Middlewares/Third_Party/FatFs/src/ff.c **** 				&& ld_dword(fs->win + FSI_LeadSig) == 0x41615252
 2869              		.loc 1 3175 4 is_stmt 1 view .LVU936
3175:Middlewares/Third_Party/FatFs/src/ff.c **** 				&& ld_dword(fs->win + FSI_LeadSig) == 0x41615252
 2870              		.loc 1 3175 8 is_stmt 0 view .LVU937
 2871 02a6 04F23620 		addw	r0, r4, #566
 2872 02aa FFF7FEFF 		bl	ld_word
 2873              	.LVL315:
ARM GAS  /tmp/ccBfkcjf.s 			page 165


3175:Middlewares/Third_Party/FatFs/src/ff.c **** 				&& ld_dword(fs->win + FSI_LeadSig) == 0x41615252
 2874              		.loc 1 3175 7 view .LVU938
 2875 02ae 4AF65523 		movw	r3, #43605
 2876 02b2 9842     		cmp	r0, r3
 2877 02b4 96D1     		bne	.L208
3176:Middlewares/Third_Party/FatFs/src/ff.c **** 				&& ld_dword(fs->win + FSI_StrucSig) == 0x61417272)
 2878              		.loc 1 3176 8 view .LVU939
 2879 02b6 04F13800 		add	r0, r4, #56
 2880 02ba FFF7FEFF 		bl	ld_dword
 2881              	.LVL316:
3176:Middlewares/Third_Party/FatFs/src/ff.c **** 				&& ld_dword(fs->win + FSI_StrucSig) == 0x61417272)
 2882              		.loc 1 3176 5 view .LVU940
 2883 02be 184B     		ldr	r3, .L243+12
 2884 02c0 9842     		cmp	r0, r3
 2885 02c2 8FD1     		bne	.L208
3177:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
 2886              		.loc 1 3177 8 view .LVU941
 2887 02c4 04F50770 		add	r0, r4, #540
 2888 02c8 FFF7FEFF 		bl	ld_dword
 2889              	.LVL317:
3177:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
 2890              		.loc 1 3177 5 view .LVU942
 2891 02cc 154B     		ldr	r3, .L243+16
 2892 02ce 9842     		cmp	r0, r3
 2893 02d0 88D1     		bne	.L208
3180:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2894              		.loc 1 3180 5 is_stmt 1 view .LVU943
3180:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2895              		.loc 1 3180 21 is_stmt 0 view .LVU944
 2896 02d2 04F50870 		add	r0, r4, #544
 2897 02d6 FFF7FEFF 		bl	ld_dword
 2898              	.LVL318:
3180:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2899              		.loc 1 3180 19 view .LVU945
 2900 02da A061     		str	r0, [r4, #24]
3183:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2901              		.loc 1 3183 5 is_stmt 1 view .LVU946
3183:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2902              		.loc 1 3183 21 is_stmt 0 view .LVU947
 2903 02dc 04F50970 		add	r0, r4, #548
 2904 02e0 FFF7FEFF 		bl	ld_dword
 2905              	.LVL319:
3183:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2906              		.loc 1 3183 19 view .LVU948
 2907 02e4 6061     		str	r0, [r4, #20]
 2908 02e6 7DE7     		b	.L208
 2909              	.LVL320:
 2910              	.L209:
3011:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2911              		.loc 1 3011 22 view .LVU949
 2912 02e8 0B25     		movs	r5, #11
 2913              	.LVL321:
 2914              	.L192:
3206:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2915              		.loc 1 3206 1 view .LVU950
 2916 02ea 2846     		mov	r0, r5
 2917 02ec 07B0     		add	sp, sp, #28
ARM GAS  /tmp/ccBfkcjf.s 			page 166


 2918              	.LCFI23:
 2919              		.cfi_remember_state
 2920              		.cfi_def_cfa_offset 36
 2921              		@ sp needed
 2922 02ee BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2923              	.LVL322:
 2924              	.L210:
 2925              	.LCFI24:
 2926              		.cfi_restore_state
3015:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2927              		.loc 1 3015 18 view .LVU951
 2928 02f2 0C25     		movs	r5, #12
 2929              	.LVL323:
3015:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2930              		.loc 1 3015 18 view .LVU952
 2931 02f4 F9E7     		b	.L192
 2932              	.LVL324:
 2933              	.L212:
3038:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2934              		.loc 1 3038 10 view .LVU953
 2935 02f6 0325     		movs	r5, #3
 2936 02f8 F7E7     		b	.L192
 2937              	.L213:
3041:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2938              		.loc 1 3041 10 view .LVU954
 2939 02fa 0A25     		movs	r5, #10
 2940 02fc F5E7     		b	.L192
 2941              	.LVL325:
 2942              	.L214:
3044:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (SS(fs) > _MAX_SS || SS(fs) < _MIN_SS || (SS(fs) & (SS(fs) - 1))) return FR_DISK_ERR;
 2943              		.loc 1 3044 70 view .LVU955
 2944 02fe 0125     		movs	r5, #1
 2945 0300 F3E7     		b	.L192
 2946              	.L215:
3045:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2947              		.loc 1 3045 78 view .LVU956
 2948 0302 0125     		movs	r5, #1
 2949 0304 F1E7     		b	.L192
 2950              	.LVL326:
 2951              	.L220:
3063:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt >= 2) return FR_NO_FILESYSTEM;	/* No FAT volume is found */
 2952              		.loc 1 3063 23 view .LVU957
 2953 0306 0125     		movs	r5, #1
 2954 0308 EFE7     		b	.L192
 2955              	.L221:
3064:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2956              		.loc 1 3064 23 view .LVU958
 2957 030a 0D25     		movs	r5, #13
 2958 030c EDE7     		b	.L192
 2959              	.LVL327:
 2960              	.L222:
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2961              		.loc 1 3116 59 view .LVU959
 2962 030e 0D25     		movs	r5, #13
 2963 0310 EBE7     		b	.L192
 2964              	.L244:
 2965 0312 00BF     		.align	2
ARM GAS  /tmp/ccBfkcjf.s 			page 167


 2966              	.L243:
 2967 0314 00000000 		.word	.LANCHOR2
 2968 0318 00000000 		.word	.LANCHOR3
 2969 031c 00000000 		.word	.LANCHOR4
 2970 0320 52526141 		.word	1096897106
 2971 0324 72724161 		.word	1631679090
 2972              	.LVL328:
 2973              	.L223:
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 		fasize *= fs->n_fats;							/* Number of sectors for FAT area */
 2974              		.loc 1 3123 50 view .LVU960
 2975 0328 0D25     		movs	r5, #13
 2976 032a DEE7     		b	.L192
 2977              	.LVL329:
 2978              	.L224:
3127:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2979              		.loc 1 3127 63 view .LVU961
 2980 032c 0D25     		movs	r5, #13
 2981 032e DCE7     		b	.L192
 2982              	.LVL330:
 2983              	.L225:
3127:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2984              		.loc 1 3127 63 view .LVU962
 2985 0330 0D25     		movs	r5, #13
 2986 0332 DAE7     		b	.L192
 2987              	.L226:
3130:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2988              		.loc 1 3130 49 view .LVU963
 2989 0334 0D25     		movs	r5, #13
 2990 0336 D8E7     		b	.L192
 2991              	.LVL331:
 2992              	.L227:
3136:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2993              		.loc 1 3136 25 view .LVU964
 2994 0338 0D25     		movs	r5, #13
 2995 033a D6E7     		b	.L192
 2996              	.LVL332:
 2997              	.L228:
3140:Middlewares/Third_Party/FatFs/src/ff.c **** 		nclst = (tsect - sysect) / fs->csize;			/* Number of clusters */
 2998              		.loc 1 3140 30 view .LVU965
 2999 033c 0D25     		movs	r5, #13
 3000 033e D4E7     		b	.L192
 3001              	.LVL333:
 3002              	.L229:
3142:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT32;
 3003              		.loc 1 3142 26 view .LVU966
 3004 0340 0D25     		movs	r5, #13
 3005 0342 D2E7     		b	.L192
 3006              	.LVL334:
 3007              	.L232:
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->n_rootdir) return FR_NO_FILESYSTEM;	/* (BPB_RootEntCnt must be 0) */
 3008              		.loc 1 3153 52 view .LVU967
 3009 0344 0D25     		movs	r5, #13
 3010 0346 D0E7     		b	.L192
 3011              	.L233:
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = ld_dword(fs->win + BPB_RootClus32);	/* Root directory start cluster */
 3012              		.loc 1 3154 30 view .LVU968
 3013 0348 0D25     		movs	r5, #13
ARM GAS  /tmp/ccBfkcjf.s 			page 168


 3014 034a CEE7     		b	.L192
 3015              	.LVL335:
 3016              	.L234:
3158:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = fs->fatbase + fasize;			/* Root directory start sector */
 3017              		.loc 1 3158 35 view .LVU969
 3018 034c 0D25     		movs	r5, #13
 3019 034e CCE7     		b	.L192
 3020              	.LVL336:
 3021              	.L235:
3163:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3022              		.loc 1 3163 60 view .LVU970
 3023 0350 0D25     		movs	r5, #13
 3024 0352 CAE7     		b	.L192
 3025              		.cfi_endproc
 3026              	.LFE391:
 3028              		.section	.text.put_fat,"ax",%progbits
 3029              		.align	1
 3030              		.syntax unified
 3031              		.thumb
 3032              		.thumb_func
 3033              		.fpu fpv5-d16
 3035              	put_fat:
 3036              	.LVL337:
 3037              	.LFB368:
1086:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bc;
 3038              		.loc 1 1086 1 is_stmt 1 view -0
 3039              		.cfi_startproc
 3040              		@ args = 0, pretend = 0, frame = 0
 3041              		@ frame_needed = 0, uses_anonymous_args = 0
1086:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bc;
 3042              		.loc 1 1086 1 is_stmt 0 view .LVU972
 3043 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 3044              	.LCFI25:
 3045              		.cfi_def_cfa_offset 32
 3046              		.cfi_offset 4, -32
 3047              		.cfi_offset 5, -28
 3048              		.cfi_offset 6, -24
 3049              		.cfi_offset 7, -20
 3050              		.cfi_offset 8, -16
 3051              		.cfi_offset 9, -12
 3052              		.cfi_offset 10, -8
 3053              		.cfi_offset 14, -4
1087:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *p;
 3054              		.loc 1 1087 2 is_stmt 1 view .LVU973
1088:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_INT_ERR;
 3055              		.loc 1 1088 2 view .LVU974
1089:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3056              		.loc 1 1089 2 view .LVU975
 3057              	.LVL338:
1091:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
 3058              		.loc 1 1091 2 view .LVU976
1091:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
 3059              		.loc 1 1091 5 is_stmt 0 view .LVU977
 3060 0004 0129     		cmp	r1, #1
 3061 0006 40F29680 		bls	.L253
 3062 000a 0446     		mov	r4, r0
 3063 000c 0D46     		mov	r5, r1
ARM GAS  /tmp/ccBfkcjf.s 			page 169


 3064 000e 1746     		mov	r7, r2
1091:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
 3065              		.loc 1 1091 28 discriminator 1 view .LVU978
 3066 0010 C369     		ldr	r3, [r0, #28]
1091:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
 3067              		.loc 1 1091 16 discriminator 1 view .LVU979
 3068 0012 8B42     		cmp	r3, r1
 3069 0014 40F29180 		bls	.L254
1092:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :	/* Bitfield items */
 3070              		.loc 1 1092 3 is_stmt 1 view .LVU980
1092:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :	/* Bitfield items */
 3071              		.loc 1 1092 13 is_stmt 0 view .LVU981
 3072 0018 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
1092:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :	/* Bitfield items */
 3073              		.loc 1 1092 3 view .LVU982
 3074 001a 022B     		cmp	r3, #2
 3075 001c 4FD0     		beq	.L247
 3076 001e 032B     		cmp	r3, #3
 3077 0020 67D0     		beq	.L248
 3078 0022 012B     		cmp	r3, #1
 3079 0024 03D0     		beq	.L257
 3080 0026 0226     		movs	r6, #2
 3081              	.LVL339:
 3082              	.L246:
1128:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3083              		.loc 1 1128 2 is_stmt 1 view .LVU983
1129:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3084              		.loc 1 1129 1 is_stmt 0 view .LVU984
 3085 0028 3046     		mov	r0, r6
 3086 002a BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 3087              	.LVL340:
 3088              	.L257:
1094:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 3089              		.loc 1 1094 4 is_stmt 1 view .LVU985
1094:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 3090              		.loc 1 1094 21 view .LVU986
1094:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 3091              		.loc 1 1094 24 is_stmt 0 view .LVU987
 3092 002e 01EB5108 		add	r8, r1, r1, lsr #1
 3093              	.LVL341:
1095:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3094              		.loc 1 1095 4 is_stmt 1 view .LVU988
1095:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3095              		.loc 1 1095 28 is_stmt 0 view .LVU989
 3096 0032 816A     		ldr	r1, [r0, #40]
 3097              	.LVL342:
1095:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3098              		.loc 1 1095 46 view .LVU990
 3099 0034 8389     		ldrh	r3, [r0, #12]
1095:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3100              		.loc 1 1095 44 view .LVU991
 3101 0036 B8FBF3F3 		udiv	r3, r8, r3
1095:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3102              		.loc 1 1095 10 view .LVU992
 3103 003a 1944     		add	r1, r1, r3
 3104 003c FFF7FEFF 		bl	move_window
 3105              	.LVL343:
ARM GAS  /tmp/ccBfkcjf.s 			page 170


1096:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = fs->win + bc++ % SS(fs);
 3106              		.loc 1 1096 4 is_stmt 1 view .LVU993
1096:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = fs->win + bc++ % SS(fs);
 3107              		.loc 1 1096 7 is_stmt 0 view .LVU994
 3108 0040 0646     		mov	r6, r0
 3109 0042 0028     		cmp	r0, #0
 3110 0044 F0D1     		bne	.L246
1097:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 3111              		.loc 1 1097 4 is_stmt 1 view .LVU995
1097:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 3112              		.loc 1 1097 8 is_stmt 0 view .LVU996
 3113 0046 04F1380A 		add	r10, r4, #56
1097:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 3114              		.loc 1 1097 20 view .LVU997
 3115 004a 08F10109 		add	r9, r8, #1
 3116              	.LVL344:
1097:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 3117              		.loc 1 1097 25 view .LVU998
 3118 004e A389     		ldrh	r3, [r4, #12]
1097:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 3119              		.loc 1 1097 23 view .LVU999
 3120 0050 B8FBF3F2 		udiv	r2, r8, r3
 3121 0054 03FB1288 		mls	r8, r3, r2, r8
 3122              	.LVL345:
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3123              		.loc 1 1098 4 is_stmt 1 view .LVU1000
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3124              		.loc 1 1098 7 is_stmt 0 view .LVU1001
 3125 0058 15F00105 		ands	r5, r5, #1
 3126              	.LVL346:
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3127              		.loc 1 1098 7 view .LVU1002
 3128 005c 24D0     		beq	.L249
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3129              		.loc 1 1098 24 discriminator 1 view .LVU1003
 3130 005e 1AF90830 		ldrsb	r3, [r10, r8]
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3131              		.loc 1 1098 27 discriminator 1 view .LVU1004
 3132 0062 03F00F03 		and	r3, r3, #15
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3133              		.loc 1 1098 48 discriminator 1 view .LVU1005
 3134 0066 3A01     		lsls	r2, r7, #4
 3135 0068 02F47F62 		and	r2, r2, #4080
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3136              		.loc 1 1098 35 discriminator 1 view .LVU1006
 3137 006c 1343     		orrs	r3, r3, r2
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3138              		.loc 1 1098 7 discriminator 1 view .LVU1007
 3139 006e DBB2     		uxtb	r3, r3
 3140              	.L250:
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3141              		.loc 1 1098 7 discriminator 4 view .LVU1008
 3142 0070 0AF80830 		strb	r3, [r10, r8]
1099:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 3143              		.loc 1 1099 4 is_stmt 1 discriminator 4 view .LVU1009
1099:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 3144              		.loc 1 1099 14 is_stmt 0 discriminator 4 view .LVU1010
ARM GAS  /tmp/ccBfkcjf.s 			page 171


 3145 0074 0123     		movs	r3, #1
 3146 0076 E370     		strb	r3, [r4, #3]
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3147              		.loc 1 1100 4 is_stmt 1 discriminator 4 view .LVU1011
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3148              		.loc 1 1100 28 is_stmt 0 discriminator 4 view .LVU1012
 3149 0078 A16A     		ldr	r1, [r4, #40]
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3150              		.loc 1 1100 46 discriminator 4 view .LVU1013
 3151 007a A389     		ldrh	r3, [r4, #12]
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3152              		.loc 1 1100 44 discriminator 4 view .LVU1014
 3153 007c B9FBF3F3 		udiv	r3, r9, r3
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3154              		.loc 1 1100 10 discriminator 4 view .LVU1015
 3155 0080 1944     		add	r1, r1, r3
 3156 0082 2046     		mov	r0, r4
 3157              	.LVL347:
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3158              		.loc 1 1100 10 discriminator 4 view .LVU1016
 3159 0084 FFF7FEFF 		bl	move_window
 3160              	.LVL348:
1101:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = fs->win + bc % SS(fs);
 3161              		.loc 1 1101 4 is_stmt 1 discriminator 4 view .LVU1017
1101:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = fs->win + bc % SS(fs);
 3162              		.loc 1 1101 7 is_stmt 0 discriminator 4 view .LVU1018
 3163 0088 0646     		mov	r6, r0
 3164 008a 0028     		cmp	r0, #0
 3165 008c CCD1     		bne	.L246
1102:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? (BYTE)(val >> 4) : ((*p & 0xF0) | ((BYTE)(val >> 8) & 0x0F));
 3166              		.loc 1 1102 4 is_stmt 1 view .LVU1019
1102:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? (BYTE)(val >> 4) : ((*p & 0xF0) | ((BYTE)(val >> 8) & 0x0F));
 3167              		.loc 1 1102 23 is_stmt 0 view .LVU1020
 3168 008e A389     		ldrh	r3, [r4, #12]
1102:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? (BYTE)(val >> 4) : ((*p & 0xF0) | ((BYTE)(val >> 8) & 0x0F));
 3169              		.loc 1 1102 21 view .LVU1021
 3170 0090 B9FBF3F2 		udiv	r2, r9, r3
 3171 0094 03FB1299 		mls	r9, r3, r2, r9
 3172              	.LVL349:
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3173              		.loc 1 1103 4 is_stmt 1 view .LVU1022
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3174              		.loc 1 1103 7 is_stmt 0 view .LVU1023
 3175 0098 45B1     		cbz	r5, .L251
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3176              		.loc 1 1103 7 discriminator 1 view .LVU1024
 3177 009a C7F30712 		ubfx	r2, r7, #4, #8
 3178              	.LVL350:
 3179              	.L252:
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3180              		.loc 1 1103 7 discriminator 4 view .LVU1025
 3181 009e 0AF80920 		strb	r2, [r10, r9]
1104:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3182              		.loc 1 1104 4 is_stmt 1 discriminator 4 view .LVU1026
1104:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3183              		.loc 1 1104 14 is_stmt 0 discriminator 4 view .LVU1027
 3184 00a2 0123     		movs	r3, #1
ARM GAS  /tmp/ccBfkcjf.s 			page 172


 3185 00a4 E370     		strb	r3, [r4, #3]
1105:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3186              		.loc 1 1105 4 is_stmt 1 discriminator 4 view .LVU1028
 3187 00a6 BFE7     		b	.L246
 3188              	.LVL351:
 3189              	.L249:
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3190              		.loc 1 1098 7 is_stmt 0 discriminator 2 view .LVU1029
 3191 00a8 FBB2     		uxtb	r3, r7
 3192 00aa E1E7     		b	.L250
 3193              	.LVL352:
 3194              	.L251:
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3195              		.loc 1 1103 43 discriminator 2 view .LVU1030
 3196 00ac 1AF90920 		ldrsb	r2, [r10, r9]
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3197              		.loc 1 1103 46 discriminator 2 view .LVU1031
 3198 00b0 22F00F02 		bic	r2, r2, #15
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3199              		.loc 1 1103 74 discriminator 2 view .LVU1032
 3200 00b4 C7F30327 		ubfx	r7, r7, #8, #4
 3201              	.LVL353:
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3202              		.loc 1 1103 54 discriminator 2 view .LVU1033
 3203 00b8 3A43     		orrs	r2, r2, r7
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3204              		.loc 1 1103 7 discriminator 2 view .LVU1034
 3205 00ba D2B2     		uxtb	r2, r2
 3206 00bc EFE7     		b	.L252
 3207              	.LVL354:
 3208              	.L247:
1108:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3209              		.loc 1 1108 4 is_stmt 1 view .LVU1035
1108:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3210              		.loc 1 1108 28 is_stmt 0 view .LVU1036
 3211 00be 816A     		ldr	r1, [r0, #40]
 3212              	.LVL355:
1108:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3213              		.loc 1 1108 49 view .LVU1037
 3214 00c0 8389     		ldrh	r3, [r0, #12]
1108:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3215              		.loc 1 1108 56 view .LVU1038
 3216 00c2 5B08     		lsrs	r3, r3, #1
1108:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3217              		.loc 1 1108 46 view .LVU1039
 3218 00c4 B5FBF3F3 		udiv	r3, r5, r3
1108:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3219              		.loc 1 1108 10 view .LVU1040
 3220 00c8 1944     		add	r1, r1, r3
 3221 00ca FFF7FEFF 		bl	move_window
 3222              	.LVL356:
1109:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + clst * 2 % SS(fs), (WORD)val);
 3223              		.loc 1 1109 4 is_stmt 1 view .LVU1041
1109:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + clst * 2 % SS(fs), (WORD)val);
 3224              		.loc 1 1109 7 is_stmt 0 view .LVU1042
 3225 00ce 0646     		mov	r6, r0
 3226 00d0 0028     		cmp	r0, #0
ARM GAS  /tmp/ccBfkcjf.s 			page 173


 3227 00d2 A9D1     		bne	.L246
1110:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3228              		.loc 1 1110 4 is_stmt 1 view .LVU1043
1110:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3229              		.loc 1 1110 12 is_stmt 0 view .LVU1044
 3230 00d4 04F13800 		add	r0, r4, #56
 3231              	.LVL357:
1110:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3232              		.loc 1 1110 27 view .LVU1045
 3233 00d8 6D00     		lsls	r5, r5, #1
 3234              	.LVL358:
1110:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3235              		.loc 1 1110 33 view .LVU1046
 3236 00da A389     		ldrh	r3, [r4, #12]
1110:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3237              		.loc 1 1110 31 view .LVU1047
 3238 00dc B5FBF3F2 		udiv	r2, r5, r3
 3239 00e0 03FB1255 		mls	r5, r3, r2, r5
1110:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3240              		.loc 1 1110 4 view .LVU1048
 3241 00e4 B9B2     		uxth	r1, r7
 3242 00e6 2844     		add	r0, r0, r5
 3243 00e8 FFF7FEFF 		bl	st_word
 3244              	.LVL359:
1111:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3245              		.loc 1 1111 4 is_stmt 1 view .LVU1049
1111:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3246              		.loc 1 1111 14 is_stmt 0 view .LVU1050
 3247 00ec 0123     		movs	r3, #1
 3248 00ee E370     		strb	r3, [r4, #3]
1112:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3249              		.loc 1 1112 4 is_stmt 1 view .LVU1051
 3250 00f0 9AE7     		b	.L246
 3251              	.LVL360:
 3252              	.L248:
1118:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3253              		.loc 1 1118 4 view .LVU1052
1118:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3254              		.loc 1 1118 28 is_stmt 0 view .LVU1053
 3255 00f2 816A     		ldr	r1, [r0, #40]
 3256              	.LVL361:
1118:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3257              		.loc 1 1118 49 view .LVU1054
 3258 00f4 8389     		ldrh	r3, [r0, #12]
1118:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3259              		.loc 1 1118 56 view .LVU1055
 3260 00f6 9B08     		lsrs	r3, r3, #2
1118:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3261              		.loc 1 1118 46 view .LVU1056
 3262 00f8 B5FBF3F3 		udiv	r3, r5, r3
1118:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3263              		.loc 1 1118 10 view .LVU1057
 3264 00fc 1944     		add	r1, r1, r3
 3265 00fe FFF7FEFF 		bl	move_window
 3266              	.LVL362:
1119:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 3267              		.loc 1 1119 4 is_stmt 1 view .LVU1058
ARM GAS  /tmp/ccBfkcjf.s 			page 174


1119:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 3268              		.loc 1 1119 7 is_stmt 0 view .LVU1059
 3269 0102 0646     		mov	r6, r0
 3270 0104 0028     		cmp	r0, #0
 3271 0106 8FD1     		bne	.L246
1120:Middlewares/Third_Party/FatFs/src/ff.c **** 				val = (val & 0x0FFFFFFF) | (ld_dword(fs->win + clst * 4 % SS(fs)) & 0xF0000000);
 3272              		.loc 1 1120 4 is_stmt 1 view .LVU1060
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3273              		.loc 1 1121 5 view .LVU1061
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3274              		.loc 1 1121 16 is_stmt 0 view .LVU1062
 3275 0108 27F07047 		bic	r7, r7, #-268435456
 3276              	.LVL363:
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3277              		.loc 1 1121 42 view .LVU1063
 3278 010c 04F13803 		add	r3, r4, #56
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3279              		.loc 1 1121 57 view .LVU1064
 3280 0110 AD00     		lsls	r5, r5, #2
 3281              	.LVL364:
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3282              		.loc 1 1121 63 view .LVU1065
 3283 0112 A289     		ldrh	r2, [r4, #12]
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3284              		.loc 1 1121 61 view .LVU1066
 3285 0114 B5FBF2F1 		udiv	r1, r5, r2
 3286 0118 02FB1155 		mls	r5, r2, r1, r5
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3287              		.loc 1 1121 33 view .LVU1067
 3288 011c 1D44     		add	r5, r5, r3
 3289 011e 2846     		mov	r0, r5
 3290              	.LVL365:
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3291              		.loc 1 1121 33 view .LVU1068
 3292 0120 FFF7FEFF 		bl	ld_dword
 3293              	.LVL366:
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3294              		.loc 1 1121 71 view .LVU1069
 3295 0124 00F07041 		and	r1, r0, #-268435456
 3296              	.LVL367:
1123:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3297              		.loc 1 1123 4 is_stmt 1 view .LVU1070
 3298 0128 3943     		orrs	r1, r1, r7
 3299              	.LVL368:
1123:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3300              		.loc 1 1123 4 is_stmt 0 view .LVU1071
 3301 012a 2846     		mov	r0, r5
 3302 012c FFF7FEFF 		bl	st_dword
 3303              	.LVL369:
1124:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3304              		.loc 1 1124 4 is_stmt 1 view .LVU1072
1124:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3305              		.loc 1 1124 14 is_stmt 0 view .LVU1073
 3306 0130 0123     		movs	r3, #1
 3307 0132 E370     		strb	r3, [r4, #3]
1125:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3308              		.loc 1 1125 4 is_stmt 1 view .LVU1074
ARM GAS  /tmp/ccBfkcjf.s 			page 175


 3309 0134 78E7     		b	.L246
 3310              	.LVL370:
 3311              	.L253:
1089:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3312              		.loc 1 1089 10 is_stmt 0 view .LVU1075
 3313 0136 0226     		movs	r6, #2
 3314 0138 76E7     		b	.L246
 3315              	.L254:
1089:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3316              		.loc 1 1089 10 view .LVU1076
 3317 013a 0226     		movs	r6, #2
 3318 013c 74E7     		b	.L246
 3319              		.cfi_endproc
 3320              	.LFE368:
 3322              		.section	.text.get_fat,"ax",%progbits
 3323              		.align	1
 3324              		.syntax unified
 3325              		.thumb
 3326              		.thumb_func
 3327              		.fpu fpv5-d16
 3329              	get_fat:
 3330              	.LVL371:
 3331              	.LFB367:
1005:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wc, bc;
 3332              		.loc 1 1005 1 is_stmt 1 view -0
 3333              		.cfi_startproc
 3334              		@ args = 0, pretend = 0, frame = 0
 3335              		@ frame_needed = 0, uses_anonymous_args = 0
1005:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wc, bc;
 3336              		.loc 1 1005 1 is_stmt 0 view .LVU1078
 3337 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 3338              	.LCFI26:
 3339              		.cfi_def_cfa_offset 24
 3340              		.cfi_offset 3, -24
 3341              		.cfi_offset 4, -20
 3342              		.cfi_offset 5, -16
 3343              		.cfi_offset 6, -12
 3344              		.cfi_offset 7, -8
 3345              		.cfi_offset 14, -4
1006:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD val;
 3346              		.loc 1 1006 2 is_stmt 1 view .LVU1079
1007:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
 3347              		.loc 1 1007 2 view .LVU1080
1008:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3348              		.loc 1 1008 2 view .LVU1081
1008:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3349              		.loc 1 1008 9 is_stmt 0 view .LVU1082
 3350 0002 0568     		ldr	r5, [r0]
 3351              	.LVL372:
1011:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
 3352              		.loc 1 1011 2 is_stmt 1 view .LVU1083
1011:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
 3353              		.loc 1 1011 5 is_stmt 0 view .LVU1084
 3354 0004 0129     		cmp	r1, #1
 3355 0006 6CD9     		bls	.L263
 3356 0008 0C46     		mov	r4, r1
1011:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
ARM GAS  /tmp/ccBfkcjf.s 			page 176


 3357              		.loc 1 1011 28 discriminator 1 view .LVU1085
 3358 000a EB69     		ldr	r3, [r5, #28]
1011:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
 3359              		.loc 1 1011 15 discriminator 1 view .LVU1086
 3360 000c 8B42     		cmp	r3, r1
 3361 000e 6AD9     		bls	.L264
1015:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3362              		.loc 1 1015 3 is_stmt 1 view .LVU1087
 3363              	.LVL373:
1017:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 3364              		.loc 1 1017 3 view .LVU1088
1017:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 3365              		.loc 1 1017 13 is_stmt 0 view .LVU1089
 3366 0010 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
1017:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 3367              		.loc 1 1017 3 view .LVU1090
 3368 0012 022B     		cmp	r3, #2
 3369 0014 37D0     		beq	.L260
 3370 0016 032B     		cmp	r3, #3
 3371 0018 4BD0     		beq	.L261
 3372 001a 012B     		cmp	r3, #1
 3373 001c 01D0     		beq	.L271
 3374 001e 0120     		movs	r0, #1
 3375              	.LVL374:
1017:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 3376              		.loc 1 1017 3 view .LVU1091
 3377 0020 60E0     		b	.L258
 3378              	.LVL375:
 3379              	.L271:
1019:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 3380              		.loc 1 1019 4 is_stmt 1 view .LVU1092
1019:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 3381              		.loc 1 1019 21 view .LVU1093
1019:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 3382              		.loc 1 1019 24 is_stmt 0 view .LVU1094
 3383 0022 01EB5106 		add	r6, r1, r1, lsr #1
 3384              	.LVL376:
1020:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win[bc++ % SS(fs)];
 3385              		.loc 1 1020 4 is_stmt 1 view .LVU1095
1020:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win[bc++ % SS(fs)];
 3386              		.loc 1 1020 26 is_stmt 0 view .LVU1096
 3387 0026 A96A     		ldr	r1, [r5, #40]
 3388              	.LVL377:
1020:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win[bc++ % SS(fs)];
 3389              		.loc 1 1020 44 view .LVU1097
 3390 0028 AB89     		ldrh	r3, [r5, #12]
1020:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win[bc++ % SS(fs)];
 3391              		.loc 1 1020 42 view .LVU1098
 3392 002a B6FBF3F3 		udiv	r3, r6, r3
1020:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win[bc++ % SS(fs)];
 3393              		.loc 1 1020 8 view .LVU1099
 3394 002e 1944     		add	r1, r1, r3
 3395 0030 2846     		mov	r0, r5
 3396              	.LVL378:
1020:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win[bc++ % SS(fs)];
 3397              		.loc 1 1020 8 view .LVU1100
 3398 0032 FFF7FEFF 		bl	move_window
ARM GAS  /tmp/ccBfkcjf.s 			page 177


 3399              	.LVL379:
1020:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win[bc++ % SS(fs)];
 3400              		.loc 1 1020 7 view .LVU1101
 3401 0036 10B1     		cbz	r0, .L272
1015:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3402              		.loc 1 1015 7 view .LVU1102
 3403 0038 4FF0FF30 		mov	r0, #-1
 3404 003c 52E0     		b	.L258
 3405              	.L272:
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 3406              		.loc 1 1021 4 is_stmt 1 view .LVU1103
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 3407              		.loc 1 1021 19 is_stmt 0 view .LVU1104
 3408 003e 771C     		adds	r7, r6, #1
 3409              	.LVL380:
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 3410              		.loc 1 1021 24 view .LVU1105
 3411 0040 AB89     		ldrh	r3, [r5, #12]
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 3412              		.loc 1 1021 22 view .LVU1106
 3413 0042 B6FBF3F2 		udiv	r2, r6, r3
 3414 0046 03FB1266 		mls	r6, r3, r2, r6
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 3415              		.loc 1 1021 16 view .LVU1107
 3416 004a 2E44     		add	r6, r6, r5
 3417 004c 96F83860 		ldrb	r6, [r6, #56]	@ zero_extendqisi2
 3418              	.LVL381:
1022:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win[bc % SS(fs)] << 8;
 3419              		.loc 1 1022 4 is_stmt 1 view .LVU1108
1022:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win[bc % SS(fs)] << 8;
 3420              		.loc 1 1022 26 is_stmt 0 view .LVU1109
 3421 0050 A96A     		ldr	r1, [r5, #40]
1022:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win[bc % SS(fs)] << 8;
 3422              		.loc 1 1022 42 view .LVU1110
 3423 0052 B7FBF3F3 		udiv	r3, r7, r3
1022:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win[bc % SS(fs)] << 8;
 3424              		.loc 1 1022 8 view .LVU1111
 3425 0056 1944     		add	r1, r1, r3
 3426 0058 2846     		mov	r0, r5
 3427 005a FFF7FEFF 		bl	move_window
 3428              	.LVL382:
1022:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win[bc % SS(fs)] << 8;
 3429              		.loc 1 1022 7 view .LVU1112
 3430 005e 0028     		cmp	r0, #0
 3431 0060 43D1     		bne	.L267
1023:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = (clst & 1) ? (wc >> 4) : (wc & 0xFFF);
 3432              		.loc 1 1023 4 is_stmt 1 view .LVU1113
1023:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = (clst & 1) ? (wc >> 4) : (wc & 0xFFF);
 3433              		.loc 1 1023 23 is_stmt 0 view .LVU1114
 3434 0062 AB89     		ldrh	r3, [r5, #12]
1023:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = (clst & 1) ? (wc >> 4) : (wc & 0xFFF);
 3435              		.loc 1 1023 21 view .LVU1115
 3436 0064 B7FBF3F2 		udiv	r2, r7, r3
 3437 0068 03FB1277 		mls	r7, r3, r2, r7
 3438              	.LVL383:
1023:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = (clst & 1) ? (wc >> 4) : (wc & 0xFFF);
 3439              		.loc 1 1023 17 view .LVU1116
ARM GAS  /tmp/ccBfkcjf.s 			page 178


 3440 006c 3D44     		add	r5, r5, r7
 3441              	.LVL384:
1023:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = (clst & 1) ? (wc >> 4) : (wc & 0xFFF);
 3442              		.loc 1 1023 17 view .LVU1117
 3443 006e 95F83800 		ldrb	r0, [r5, #56]	@ zero_extendqisi2
1023:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = (clst & 1) ? (wc >> 4) : (wc & 0xFFF);
 3444              		.loc 1 1023 7 view .LVU1118
 3445 0072 46EA0020 		orr	r0, r6, r0, lsl #8
 3446              	.LVL385:
1024:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3447              		.loc 1 1024 4 is_stmt 1 view .LVU1119
1024:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3448              		.loc 1 1024 33 is_stmt 0 view .LVU1120
 3449 0076 14F0010F 		tst	r4, #1
 3450 007a 01D0     		beq	.L262
1024:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3451              		.loc 1 1024 33 discriminator 1 view .LVU1121
 3452 007c 0009     		lsrs	r0, r0, #4
 3453              	.LVL386:
1024:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3454              		.loc 1 1024 33 discriminator 1 view .LVU1122
 3455 007e 31E0     		b	.L258
 3456              	.LVL387:
 3457              	.L262:
1024:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3458              		.loc 1 1024 33 discriminator 2 view .LVU1123
 3459 0080 C0F30B00 		ubfx	r0, r0, #0, #12
 3460              	.LVL388:
1024:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3461              		.loc 1 1024 33 discriminator 2 view .LVU1124
 3462 0084 2EE0     		b	.L258
 3463              	.LVL389:
 3464              	.L260:
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_word(fs->win + clst * 2 % SS(fs));
 3465              		.loc 1 1028 4 is_stmt 1 view .LVU1125
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_word(fs->win + clst * 2 % SS(fs));
 3466              		.loc 1 1028 26 is_stmt 0 view .LVU1126
 3467 0086 A96A     		ldr	r1, [r5, #40]
 3468              	.LVL390:
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_word(fs->win + clst * 2 % SS(fs));
 3469              		.loc 1 1028 47 view .LVU1127
 3470 0088 AB89     		ldrh	r3, [r5, #12]
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_word(fs->win + clst * 2 % SS(fs));
 3471              		.loc 1 1028 54 view .LVU1128
 3472 008a 5B08     		lsrs	r3, r3, #1
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_word(fs->win + clst * 2 % SS(fs));
 3473              		.loc 1 1028 44 view .LVU1129
 3474 008c B4FBF3F3 		udiv	r3, r4, r3
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_word(fs->win + clst * 2 % SS(fs));
 3475              		.loc 1 1028 8 view .LVU1130
 3476 0090 1944     		add	r1, r1, r3
 3477 0092 2846     		mov	r0, r5
 3478              	.LVL391:
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_word(fs->win + clst * 2 % SS(fs));
 3479              		.loc 1 1028 8 view .LVU1131
 3480 0094 FFF7FEFF 		bl	move_window
 3481              	.LVL392:
ARM GAS  /tmp/ccBfkcjf.s 			page 179


1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_word(fs->win + clst * 2 % SS(fs));
 3482              		.loc 1 1028 7 view .LVU1132
 3483 0098 50BB     		cbnz	r0, .L268
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3484              		.loc 1 1029 4 is_stmt 1 view .LVU1133
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3485              		.loc 1 1029 18 is_stmt 0 view .LVU1134
 3486 009a 05F13800 		add	r0, r5, #56
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3487              		.loc 1 1029 33 view .LVU1135
 3488 009e 6400     		lsls	r4, r4, #1
 3489              	.LVL393:
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3490              		.loc 1 1029 39 view .LVU1136
 3491 00a0 AB89     		ldrh	r3, [r5, #12]
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3492              		.loc 1 1029 37 view .LVU1137
 3493 00a2 B4FBF3F2 		udiv	r2, r4, r3
 3494 00a6 03FB1244 		mls	r4, r3, r2, r4
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3495              		.loc 1 1029 10 view .LVU1138
 3496 00aa 2044     		add	r0, r0, r4
 3497 00ac FFF7FEFF 		bl	ld_word
 3498              	.LVL394:
1030:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3499              		.loc 1 1030 4 is_stmt 1 view .LVU1139
 3500 00b0 18E0     		b	.L258
 3501              	.LVL395:
 3502              	.L261:
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x0FFFFFFF;
 3503              		.loc 1 1033 4 view .LVU1140
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x0FFFFFFF;
 3504              		.loc 1 1033 26 is_stmt 0 view .LVU1141
 3505 00b2 A96A     		ldr	r1, [r5, #40]
 3506              	.LVL396:
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x0FFFFFFF;
 3507              		.loc 1 1033 47 view .LVU1142
 3508 00b4 AB89     		ldrh	r3, [r5, #12]
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x0FFFFFFF;
 3509              		.loc 1 1033 54 view .LVU1143
 3510 00b6 9B08     		lsrs	r3, r3, #2
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x0FFFFFFF;
 3511              		.loc 1 1033 44 view .LVU1144
 3512 00b8 B4FBF3F3 		udiv	r3, r4, r3
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x0FFFFFFF;
 3513              		.loc 1 1033 8 view .LVU1145
 3514 00bc 1944     		add	r1, r1, r3
 3515 00be 2846     		mov	r0, r5
 3516              	.LVL397:
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x0FFFFFFF;
 3517              		.loc 1 1033 8 view .LVU1146
 3518 00c0 FFF7FEFF 		bl	move_window
 3519              	.LVL398:
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x0FFFFFFF;
 3520              		.loc 1 1033 7 view .LVU1147
 3521 00c4 B8B9     		cbnz	r0, .L269
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
ARM GAS  /tmp/ccBfkcjf.s 			page 180


 3522              		.loc 1 1034 4 is_stmt 1 view .LVU1148
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3523              		.loc 1 1034 19 is_stmt 0 view .LVU1149
 3524 00c6 05F13800 		add	r0, r5, #56
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3525              		.loc 1 1034 34 view .LVU1150
 3526 00ca A400     		lsls	r4, r4, #2
 3527              	.LVL399:
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3528              		.loc 1 1034 40 view .LVU1151
 3529 00cc AB89     		ldrh	r3, [r5, #12]
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3530              		.loc 1 1034 38 view .LVU1152
 3531 00ce B4FBF3F2 		udiv	r2, r4, r3
 3532 00d2 03FB1244 		mls	r4, r3, r2, r4
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3533              		.loc 1 1034 10 view .LVU1153
 3534 00d6 2044     		add	r0, r0, r4
 3535 00d8 FFF7FEFF 		bl	ld_dword
 3536              	.LVL400:
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3537              		.loc 1 1034 8 view .LVU1154
 3538 00dc 20F07040 		bic	r0, r0, #-268435456
 3539              	.LVL401:
1035:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 3540              		.loc 1 1035 4 is_stmt 1 view .LVU1155
 3541 00e0 00E0     		b	.L258
 3542              	.LVL402:
 3543              	.L263:
1012:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3544              		.loc 1 1012 7 is_stmt 0 view .LVU1156
 3545 00e2 0120     		movs	r0, #1
 3546              	.LVL403:
 3547              	.L258:
1070:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3548              		.loc 1 1070 1 view .LVU1157
 3549 00e4 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 3550              	.LVL404:
 3551              	.L264:
1012:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3552              		.loc 1 1012 7 view .LVU1158
 3553 00e6 0120     		movs	r0, #1
 3554              	.LVL405:
1012:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3555              		.loc 1 1012 7 view .LVU1159
 3556 00e8 FCE7     		b	.L258
 3557              	.LVL406:
 3558              	.L267:
1015:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3559              		.loc 1 1015 7 view .LVU1160
 3560 00ea 4FF0FF30 		mov	r0, #-1
 3561 00ee F9E7     		b	.L258
 3562              	.LVL407:
 3563              	.L268:
1015:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3564              		.loc 1 1015 7 view .LVU1161
 3565 00f0 4FF0FF30 		mov	r0, #-1
ARM GAS  /tmp/ccBfkcjf.s 			page 181


 3566 00f4 F6E7     		b	.L258
 3567              	.L269:
1015:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3568              		.loc 1 1015 7 view .LVU1162
 3569 00f6 4FF0FF30 		mov	r0, #-1
1069:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3570              		.loc 1 1069 2 is_stmt 1 view .LVU1163
1069:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3571              		.loc 1 1069 9 is_stmt 0 view .LVU1164
 3572 00fa F3E7     		b	.L258
 3573              		.cfi_endproc
 3574              	.LFE367:
 3576              		.section	.text.dir_sdi,"ax",%progbits
 3577              		.align	1
 3578              		.syntax unified
 3579              		.thumb
 3580              		.thumb_func
 3581              		.fpu fpv5-d16
 3583              	dir_sdi:
 3584              	.LVL408:
 3585              	.LFB372:
1474:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD csz, clst;
 3586              		.loc 1 1474 1 is_stmt 1 view -0
 3587              		.cfi_startproc
 3588              		@ args = 0, pretend = 0, frame = 0
 3589              		@ frame_needed = 0, uses_anonymous_args = 0
1474:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD csz, clst;
 3590              		.loc 1 1474 1 is_stmt 0 view .LVU1166
 3591 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 3592              	.LCFI27:
 3593              		.cfi_def_cfa_offset 24
 3594              		.cfi_offset 4, -24
 3595              		.cfi_offset 5, -20
 3596              		.cfi_offset 6, -16
 3597              		.cfi_offset 7, -12
 3598              		.cfi_offset 8, -8
 3599              		.cfi_offset 14, -4
1475:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 3600              		.loc 1 1475 2 is_stmt 1 view .LVU1167
1476:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3601              		.loc 1 1476 2 view .LVU1168
1476:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3602              		.loc 1 1476 9 is_stmt 0 view .LVU1169
 3603 0004 D0F80080 		ldr	r8, [r0]
 3604              	.LVL409:
1479:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
 3605              		.loc 1 1479 2 is_stmt 1 view .LVU1170
1479:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
 3606              		.loc 1 1479 5 is_stmt 0 view .LVU1171
 3607 0008 B1F5001F 		cmp	r1, #2097152
 3608 000c 4AD2     		bcs	.L280
 3609 000e 0746     		mov	r7, r0
 3610 0010 0E46     		mov	r6, r1
1479:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
 3611              		.loc 1 1479 84 discriminator 1 view .LVU1172
 3612 0012 11F01F0F 		tst	r1, #31
 3613 0016 47D1     		bne	.L281
ARM GAS  /tmp/ccBfkcjf.s 			page 182


1482:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst = dp->obj.sclust;		/* Table start cluster (0:root) */
 3614              		.loc 1 1482 2 is_stmt 1 view .LVU1173
1482:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst = dp->obj.sclust;		/* Table start cluster (0:root) */
 3615              		.loc 1 1482 11 is_stmt 0 view .LVU1174
 3616 0018 4161     		str	r1, [r0, #20]
1483:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 0 && fs->fs_type >= FS_FAT32) {	/* Replace cluster# 0 with root cluster# */
 3617              		.loc 1 1483 2 is_stmt 1 view .LVU1175
1483:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 0 && fs->fs_type >= FS_FAT32) {	/* Replace cluster# 0 with root cluster# */
 3618              		.loc 1 1483 7 is_stmt 0 view .LVU1176
 3619 001a 8468     		ldr	r4, [r0, #8]
 3620              	.LVL410:
1484:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = fs->dirbase;
 3621              		.loc 1 1484 2 is_stmt 1 view .LVU1177
1484:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = fs->dirbase;
 3622              		.loc 1 1484 5 is_stmt 0 view .LVU1178
 3623 001c 2CB9     		cbnz	r4, .L275
1484:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = fs->dirbase;
 3624              		.loc 1 1484 21 discriminator 1 view .LVU1179
 3625 001e 98F80030 		ldrb	r3, [r8]	@ zero_extendqisi2
1484:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = fs->dirbase;
 3626              		.loc 1 1484 16 discriminator 1 view .LVU1180
 3627 0022 022B     		cmp	r3, #2
 3628 0024 01D9     		bls	.L275
1485:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_EXFAT) dp->obj.stat = 0;	/* exFAT: Root dir has an FAT chain */
 3629              		.loc 1 1485 3 is_stmt 1 view .LVU1181
1485:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_EXFAT) dp->obj.stat = 0;	/* exFAT: Root dir has an FAT chain */
 3630              		.loc 1 1485 8 is_stmt 0 view .LVU1182
 3631 0026 D8F82C40 		ldr	r4, [r8, #44]
 3632              	.LVL411:
1486:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3633              		.loc 1 1486 3 is_stmt 1 view .LVU1183
 3634              	.L275:
1489:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs / SZDIRE >= fs->n_rootdir)	return FR_INT_ERR;	/* Is index out of range? */
 3635              		.loc 1 1489 2 view .LVU1184
1489:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs / SZDIRE >= fs->n_rootdir)	return FR_INT_ERR;	/* Is index out of range? */
 3636              		.loc 1 1489 5 is_stmt 0 view .LVU1185
 3637 002a ECB9     		cbnz	r4, .L276
1490:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect = fs->dirbase;
 3638              		.loc 1 1490 3 is_stmt 1 view .LVU1186
1490:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect = fs->dirbase;
 3639              		.loc 1 1490 25 is_stmt 0 view .LVU1187
 3640 002c B8F80830 		ldrh	r3, [r8, #8]
1490:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect = fs->dirbase;
 3641              		.loc 1 1490 6 view .LVU1188
 3642 0030 B3EB561F 		cmp	r3, r6, lsr #5
 3643 0034 3AD9     		bls	.L282
1491:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3644              		.loc 1 1491 3 is_stmt 1 view .LVU1189
1491:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3645              		.loc 1 1491 16 is_stmt 0 view .LVU1190
 3646 0036 D8F82C30 		ldr	r3, [r8, #44]
1491:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3647              		.loc 1 1491 12 view .LVU1191
 3648 003a FB61     		str	r3, [r7, #28]
 3649              	.LVL412:
 3650              	.L277:
1503:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect) return FR_INT_ERR;
ARM GAS  /tmp/ccBfkcjf.s 			page 183


 3651              		.loc 1 1503 2 is_stmt 1 view .LVU1192
1503:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect) return FR_INT_ERR;
 3652              		.loc 1 1503 12 is_stmt 0 view .LVU1193
 3653 003c BC61     		str	r4, [r7, #24]
1504:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect += ofs / SS(fs);			/* Sector# of the directory entry */
 3654              		.loc 1 1504 2 is_stmt 1 view .LVU1194
1504:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect += ofs / SS(fs);			/* Sector# of the directory entry */
 3655              		.loc 1 1504 9 is_stmt 0 view .LVU1195
 3656 003e FB69     		ldr	r3, [r7, #28]
1504:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect += ofs / SS(fs);			/* Sector# of the directory entry */
 3657              		.loc 1 1504 5 view .LVU1196
 3658 0040 E3B3     		cbz	r3, .L286
1505:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = fs->win + (ofs % SS(fs));	/* Pointer to the entry in the win[] */
 3659              		.loc 1 1505 2 is_stmt 1 view .LVU1197
1505:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = fs->win + (ofs % SS(fs));	/* Pointer to the entry in the win[] */
 3660              		.loc 1 1505 20 is_stmt 0 view .LVU1198
 3661 0042 B8F80C20 		ldrh	r2, [r8, #12]
1505:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = fs->win + (ofs % SS(fs));	/* Pointer to the entry in the win[] */
 3662              		.loc 1 1505 18 view .LVU1199
 3663 0046 B6FBF2F2 		udiv	r2, r6, r2
1505:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = fs->win + (ofs % SS(fs));	/* Pointer to the entry in the win[] */
 3664              		.loc 1 1505 11 view .LVU1200
 3665 004a 1344     		add	r3, r3, r2
 3666 004c FB61     		str	r3, [r7, #28]
1506:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3667              		.loc 1 1506 2 is_stmt 1 view .LVU1201
1506:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3668              		.loc 1 1506 12 is_stmt 0 view .LVU1202
 3669 004e 08F13803 		add	r3, r8, #56
1506:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3670              		.loc 1 1506 29 view .LVU1203
 3671 0052 B8F80C10 		ldrh	r1, [r8, #12]
1506:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3672              		.loc 1 1506 27 view .LVU1204
 3673 0056 B6FBF1F2 		udiv	r2, r6, r1
 3674 005a 01FB1261 		mls	r1, r1, r2, r6
1506:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3675              		.loc 1 1506 20 view .LVU1205
 3676 005e 1944     		add	r1, r1, r3
1506:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3677              		.loc 1 1506 10 view .LVU1206
 3678 0060 3962     		str	r1, [r7, #32]
1508:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3679              		.loc 1 1508 2 is_stmt 1 view .LVU1207
1508:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3680              		.loc 1 1508 9 is_stmt 0 view .LVU1208
 3681 0062 0020     		movs	r0, #0
 3682              	.LVL413:
 3683              	.L274:
1509:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3684              		.loc 1 1509 1 view .LVU1209
 3685 0064 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3686              	.LVL414:
 3687              	.L276:
1494:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (ofs >= csz) {				/* Follow cluster chain */
 3688              		.loc 1 1494 3 is_stmt 1 view .LVU1210
1494:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (ofs >= csz) {				/* Follow cluster chain */
ARM GAS  /tmp/ccBfkcjf.s 			page 184


 3689              		.loc 1 1494 18 is_stmt 0 view .LVU1211
 3690 0068 B8F80A50 		ldrh	r5, [r8, #10]
1494:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (ofs >= csz) {				/* Follow cluster chain */
 3691              		.loc 1 1494 28 view .LVU1212
 3692 006c B8F80C30 		ldrh	r3, [r8, #12]
1494:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (ofs >= csz) {				/* Follow cluster chain */
 3693              		.loc 1 1494 7 view .LVU1213
 3694 0070 03FB05F5 		mul	r5, r3, r5
 3695              	.LVL415:
1495:Middlewares/Third_Party/FatFs/src/ff.c **** 			clst = get_fat(&dp->obj, clst);				/* Get next cluster */
 3696              		.loc 1 1495 3 is_stmt 1 view .LVU1214
 3697              	.L278:
1495:Middlewares/Third_Party/FatFs/src/ff.c **** 			clst = get_fat(&dp->obj, clst);				/* Get next cluster */
 3698              		.loc 1 1495 9 view .LVU1215
 3699 0074 AE42     		cmp	r6, r5
 3700 0076 0FD3     		bcc	.L288
1496:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 3701              		.loc 1 1496 4 view .LVU1216
1496:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 3702              		.loc 1 1496 11 is_stmt 0 view .LVU1217
 3703 0078 2146     		mov	r1, r4
 3704 007a 3846     		mov	r0, r7
 3705 007c FFF7FEFF 		bl	get_fat
 3706              	.LVL416:
 3707 0080 0446     		mov	r4, r0
 3708              	.LVL417:
1497:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= fs->n_fatent) return FR_INT_ERR;	/* Reached to end of table or internal 
 3709              		.loc 1 1497 4 is_stmt 1 view .LVU1218
1497:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= fs->n_fatent) return FR_INT_ERR;	/* Reached to end of table or internal 
 3710              		.loc 1 1497 7 is_stmt 0 view .LVU1219
 3711 0082 B0F1FF3F 		cmp	r0, #-1
 3712 0086 13D0     		beq	.L283
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
 3713              		.loc 1 1498 4 is_stmt 1 view .LVU1220
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
 3714              		.loc 1 1498 7 is_stmt 0 view .LVU1221
 3715 0088 0128     		cmp	r0, #1
 3716 008a 13D9     		bls	.L284
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
 3717              		.loc 1 1498 30 discriminator 2 view .LVU1222
 3718 008c D8F81C30 		ldr	r3, [r8, #28]
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
 3719              		.loc 1 1498 17 discriminator 2 view .LVU1223
 3720 0090 8342     		cmp	r3, r0
 3721 0092 11D9     		bls	.L285
1499:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3722              		.loc 1 1499 4 is_stmt 1 view .LVU1224
1499:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3723              		.loc 1 1499 8 is_stmt 0 view .LVU1225
 3724 0094 761B     		subs	r6, r6, r5
 3725              	.LVL418:
1499:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3726              		.loc 1 1499 8 view .LVU1226
 3727 0096 EDE7     		b	.L278
 3728              	.LVL419:
 3729              	.L288:
1501:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
ARM GAS  /tmp/ccBfkcjf.s 			page 185


 3730              		.loc 1 1501 3 is_stmt 1 view .LVU1227
1501:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3731              		.loc 1 1501 14 is_stmt 0 view .LVU1228
 3732 0098 2146     		mov	r1, r4
 3733 009a 4046     		mov	r0, r8
 3734 009c FFF7FEFF 		bl	clust2sect
 3735              	.LVL420:
1501:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3736              		.loc 1 1501 12 view .LVU1229
 3737 00a0 F861     		str	r0, [r7, #28]
 3738 00a2 CBE7     		b	.L277
 3739              	.LVL421:
 3740              	.L280:
1480:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3741              		.loc 1 1480 10 view .LVU1230
 3742 00a4 0220     		movs	r0, #2
 3743              	.LVL422:
1480:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3744              		.loc 1 1480 10 view .LVU1231
 3745 00a6 DDE7     		b	.L274
 3746              	.LVL423:
 3747              	.L281:
1480:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3748              		.loc 1 1480 10 view .LVU1232
 3749 00a8 0220     		movs	r0, #2
 3750              	.LVL424:
1480:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3751              		.loc 1 1480 10 view .LVU1233
 3752 00aa DBE7     		b	.L274
 3753              	.LVL425:
 3754              	.L282:
1490:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect = fs->dirbase;
 3755              		.loc 1 1490 45 view .LVU1234
 3756 00ac 0220     		movs	r0, #2
 3757              	.LVL426:
1490:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect = fs->dirbase;
 3758              		.loc 1 1490 45 view .LVU1235
 3759 00ae D9E7     		b	.L274
 3760              	.LVL427:
 3761              	.L283:
1497:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= fs->n_fatent) return FR_INT_ERR;	/* Reached to end of table or internal 
 3762              		.loc 1 1497 35 view .LVU1236
 3763 00b0 0120     		movs	r0, #1
 3764              	.LVL428:
1497:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= fs->n_fatent) return FR_INT_ERR;	/* Reached to end of table or internal 
 3765              		.loc 1 1497 35 view .LVU1237
 3766 00b2 D7E7     		b	.L274
 3767              	.LVL429:
 3768              	.L284:
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
 3769              		.loc 1 1498 49 view .LVU1238
 3770 00b4 0220     		movs	r0, #2
 3771              	.LVL430:
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
 3772              		.loc 1 1498 49 view .LVU1239
 3773 00b6 D5E7     		b	.L274
 3774              	.LVL431:
ARM GAS  /tmp/ccBfkcjf.s 			page 186


 3775              	.L285:
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
 3776              		.loc 1 1498 49 view .LVU1240
 3777 00b8 0220     		movs	r0, #2
 3778              	.LVL432:
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
 3779              		.loc 1 1498 49 view .LVU1241
 3780 00ba D3E7     		b	.L274
 3781              	.LVL433:
 3782              	.L286:
1504:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect += ofs / SS(fs);			/* Sector# of the directory entry */
 3783              		.loc 1 1504 24 view .LVU1242
 3784 00bc 0220     		movs	r0, #2
 3785 00be D1E7     		b	.L274
 3786              		.cfi_endproc
 3787              	.LFE372:
 3789              		.section	.text.create_chain,"ax",%progbits
 3790              		.align	1
 3791              		.syntax unified
 3792              		.thumb
 3793              		.thumb_func
 3794              		.fpu fpv5-d16
 3796              	create_chain:
 3797              	.LVL434:
 3798              	.LFB370:
1355:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cs, ncl, scl;
 3799              		.loc 1 1355 1 is_stmt 1 view -0
 3800              		.cfi_startproc
 3801              		@ args = 0, pretend = 0, frame = 0
 3802              		@ frame_needed = 0, uses_anonymous_args = 0
1355:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cs, ncl, scl;
 3803              		.loc 1 1355 1 is_stmt 0 view .LVU1244
 3804 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 3805              	.LCFI28:
 3806              		.cfi_def_cfa_offset 24
 3807              		.cfi_offset 4, -24
 3808              		.cfi_offset 5, -20
 3809              		.cfi_offset 6, -16
 3810              		.cfi_offset 7, -12
 3811              		.cfi_offset 8, -8
 3812              		.cfi_offset 14, -4
 3813 0004 0546     		mov	r5, r0
1356:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 3814              		.loc 1 1356 2 is_stmt 1 view .LVU1245
1357:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
 3815              		.loc 1 1357 2 view .LVU1246
1358:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3816              		.loc 1 1358 2 view .LVU1247
1358:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3817              		.loc 1 1358 9 is_stmt 0 view .LVU1248
 3818 0006 0668     		ldr	r6, [r0]
 3819              	.LVL435:
1361:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = fs->last_clst;				/* Get suggested cluster to start from */
 3820              		.loc 1 1361 2 is_stmt 1 view .LVU1249
1361:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = fs->last_clst;				/* Get suggested cluster to start from */
 3821              		.loc 1 1361 5 is_stmt 0 view .LVU1250
 3822 0008 0F46     		mov	r7, r1
ARM GAS  /tmp/ccBfkcjf.s 			page 187


 3823 000a 51B9     		cbnz	r1, .L290
1362:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (scl == 0 || scl >= fs->n_fatent) scl = 1;
 3824              		.loc 1 1362 3 is_stmt 1 view .LVU1251
1362:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (scl == 0 || scl >= fs->n_fatent) scl = 1;
 3825              		.loc 1 1362 7 is_stmt 0 view .LVU1252
 3826 000c D6F81480 		ldr	r8, [r6, #20]
 3827              	.LVL436:
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3828              		.loc 1 1363 3 is_stmt 1 view .LVU1253
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3829              		.loc 1 1363 6 is_stmt 0 view .LVU1254
 3830 0010 B8F1000F 		cmp	r8, #0
 3831 0014 12D0     		beq	.L299
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3832              		.loc 1 1363 28 discriminator 2 view .LVU1255
 3833 0016 F369     		ldr	r3, [r6, #28]
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3834              		.loc 1 1363 16 discriminator 2 view .LVU1256
 3835 0018 4345     		cmp	r3, r8
 3836 001a 11D8     		bhi	.L291
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3837              		.loc 1 1363 44 view .LVU1257
 3838 001c 4FF00108 		mov	r8, #1
 3839              	.LVL437:
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3840              		.loc 1 1363 44 view .LVU1258
 3841 0020 0EE0     		b	.L291
 3842              	.LVL438:
 3843              	.L290:
1366:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < 2) return 1;				/* Invalid FAT value */
 3844              		.loc 1 1366 3 is_stmt 1 view .LVU1259
1366:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < 2) return 1;				/* Invalid FAT value */
 3845              		.loc 1 1366 8 is_stmt 0 view .LVU1260
 3846 0022 FFF7FEFF 		bl	get_fat
 3847              	.LVL439:
1366:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < 2) return 1;				/* Invalid FAT value */
 3848              		.loc 1 1366 8 view .LVU1261
 3849 0026 0346     		mov	r3, r0
 3850              	.LVL440:
1367:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* A disk error occurred */
 3851              		.loc 1 1367 3 is_stmt 1 view .LVU1262
1367:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* A disk error occurred */
 3852              		.loc 1 1367 6 is_stmt 0 view .LVU1263
 3853 0028 0128     		cmp	r0, #1
 3854 002a 4CD9     		bls	.L301
1368:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < fs->n_fatent) return cs;	/* It is already followed by next cluster */
 3855              		.loc 1 1368 3 is_stmt 1 view .LVU1264
1368:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < fs->n_fatent) return cs;	/* It is already followed by next cluster */
 3856              		.loc 1 1368 6 is_stmt 0 view .LVU1265
 3857 002c B0F1FF3F 		cmp	r0, #-1
 3858 0030 4ED0     		beq	.L289
1369:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst;
 3859              		.loc 1 1369 3 is_stmt 1 view .LVU1266
1369:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst;
 3860              		.loc 1 1369 14 is_stmt 0 view .LVU1267
 3861 0032 F269     		ldr	r2, [r6, #28]
1369:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst;
ARM GAS  /tmp/ccBfkcjf.s 			page 188


 3862              		.loc 1 1369 6 view .LVU1268
 3863 0034 8242     		cmp	r2, r0
 3864 0036 4BD8     		bhi	.L289
1370:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3865              		.loc 1 1370 7 view .LVU1269
 3866 0038 B846     		mov	r8, r7
 3867 003a 01E0     		b	.L291
 3868              	.LVL441:
 3869              	.L299:
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3870              		.loc 1 1363 44 view .LVU1270
 3871 003c 4FF00108 		mov	r8, #1
 3872              	.LVL442:
 3873              	.L291:
1400:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
 3874              		.loc 1 1400 3 is_stmt 1 view .LVU1271
1400:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
 3875              		.loc 1 1400 7 is_stmt 0 view .LVU1272
 3876 0040 4446     		mov	r4, r8
 3877 0042 0CE0     		b	.L295
 3878              	.LVL443:
 3879              	.L293:
1407:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cs == 0) break;				/* Found a free cluster */
 3880              		.loc 1 1407 4 is_stmt 1 view .LVU1273
1407:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cs == 0) break;				/* Found a free cluster */
 3881              		.loc 1 1407 9 is_stmt 0 view .LVU1274
 3882 0044 2146     		mov	r1, r4
 3883 0046 2846     		mov	r0, r5
 3884 0048 FFF7FEFF 		bl	get_fat
 3885              	.LVL444:
1408:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cs == 1 || cs == 0xFFFFFFFF) return cs;	/* An error occurred */
 3886              		.loc 1 1408 4 is_stmt 1 view .LVU1275
1408:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cs == 1 || cs == 0xFFFFFFFF) return cs;	/* An error occurred */
 3887              		.loc 1 1408 7 is_stmt 0 view .LVU1276
 3888 004c 0346     		mov	r3, r0
 3889 004e 78B1     		cbz	r0, .L294
1409:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == scl) return 0;		/* No free cluster */
 3890              		.loc 1 1409 4 is_stmt 1 view .LVU1277
1409:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == scl) return 0;		/* No free cluster */
 3891              		.loc 1 1409 7 is_stmt 0 view .LVU1278
 3892 0050 B0F1FF3F 		cmp	r0, #-1
 3893 0054 18BF     		it	ne
 3894 0056 0128     		cmpne	r0, #1
 3895 0058 3AD0     		beq	.L289
1410:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3896              		.loc 1 1410 4 is_stmt 1 view .LVU1279
1410:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3897              		.loc 1 1410 7 is_stmt 0 view .LVU1280
 3898 005a 4445     		cmp	r4, r8
 3899 005c 37D0     		beq	.L306
 3900              	.LVL445:
 3901              	.L295:
1401:Middlewares/Third_Party/FatFs/src/ff.c **** 			ncl++;							/* Next cluster */
 3902              		.loc 1 1401 3 is_stmt 1 view .LVU1281
1402:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl >= fs->n_fatent) {		/* Check wrap-around */
 3903              		.loc 1 1402 4 view .LVU1282
1402:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl >= fs->n_fatent) {		/* Check wrap-around */
ARM GAS  /tmp/ccBfkcjf.s 			page 189


 3904              		.loc 1 1402 7 is_stmt 0 view .LVU1283
 3905 005e 0134     		adds	r4, r4, #1
 3906              	.LVL446:
1403:Middlewares/Third_Party/FatFs/src/ff.c **** 				ncl = 2;
 3907              		.loc 1 1403 4 is_stmt 1 view .LVU1284
1403:Middlewares/Third_Party/FatFs/src/ff.c **** 				ncl = 2;
 3908              		.loc 1 1403 17 is_stmt 0 view .LVU1285
 3909 0060 F369     		ldr	r3, [r6, #28]
1403:Middlewares/Third_Party/FatFs/src/ff.c **** 				ncl = 2;
 3910              		.loc 1 1403 7 view .LVU1286
 3911 0062 A342     		cmp	r3, r4
 3912 0064 EED8     		bhi	.L293
1404:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ncl > scl) return 0;	/* No free cluster */
 3913              		.loc 1 1404 5 is_stmt 1 view .LVU1287
 3914              	.LVL447:
1405:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3915              		.loc 1 1405 5 view .LVU1288
1405:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3916              		.loc 1 1405 8 is_stmt 0 view .LVU1289
 3917 0066 B8F1010F 		cmp	r8, #1
 3918 006a 2ED9     		bls	.L302
1404:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ncl > scl) return 0;	/* No free cluster */
 3919              		.loc 1 1404 9 view .LVU1290
 3920 006c 0224     		movs	r4, #2
 3921 006e E9E7     		b	.L293
 3922              	.LVL448:
 3923              	.L294:
1412:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && clst != 0) {
 3924              		.loc 1 1412 3 is_stmt 1 view .LVU1291
1412:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && clst != 0) {
 3925              		.loc 1 1412 9 is_stmt 0 view .LVU1292
 3926 0070 4FF0FF32 		mov	r2, #-1
 3927 0074 2146     		mov	r1, r4
 3928 0076 3046     		mov	r0, r6
 3929              	.LVL449:
1412:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && clst != 0) {
 3930              		.loc 1 1412 9 view .LVU1293
 3931 0078 FFF7FEFF 		bl	put_fat
 3932              	.LVL450:
1413:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, ncl);	/* Link it from the previous one if needed */
 3933              		.loc 1 1413 3 is_stmt 1 view .LVU1294
1413:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, ncl);	/* Link it from the previous one if needed */
 3934              		.loc 1 1413 11 is_stmt 0 view .LVU1295
 3935 007c 0346     		mov	r3, r0
1413:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, ncl);	/* Link it from the previous one if needed */
 3936              		.loc 1 1413 20 view .LVU1296
 3937 007e B0FA80F0 		clz	r0, r0
 3938              	.LVL451:
1413:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, ncl);	/* Link it from the previous one if needed */
 3939              		.loc 1 1413 20 view .LVU1297
 3940 0082 4009     		lsrs	r0, r0, #5
 3941 0084 002F     		cmp	r7, #0
 3942 0086 08BF     		it	eq
 3943 0088 0020     		moveq	r0, #0
1413:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, ncl);	/* Link it from the previous one if needed */
 3944              		.loc 1 1413 6 view .LVU1298
 3945 008a 70B9     		cbnz	r0, .L307
ARM GAS  /tmp/ccBfkcjf.s 			page 190


 3946              	.L296:
 3947              	.LVL452:
1418:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clst = ncl;
 3948              		.loc 1 1418 2 is_stmt 1 view .LVU1299
1418:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clst = ncl;
 3949              		.loc 1 1418 5 is_stmt 0 view .LVU1300
 3950 008c A3B9     		cbnz	r3, .L297
1419:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clst <= fs->n_fatent - 2) fs->free_clst--;
 3951              		.loc 1 1419 3 is_stmt 1 view .LVU1301
1419:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clst <= fs->n_fatent - 2) fs->free_clst--;
 3952              		.loc 1 1419 17 is_stmt 0 view .LVU1302
 3953 008e 7461     		str	r4, [r6, #20]
1420:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag |= 1;
 3954              		.loc 1 1420 3 is_stmt 1 view .LVU1303
1420:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag |= 1;
 3955              		.loc 1 1420 9 is_stmt 0 view .LVU1304
 3956 0090 B269     		ldr	r2, [r6, #24]
1420:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag |= 1;
 3957              		.loc 1 1420 26 view .LVU1305
 3958 0092 F369     		ldr	r3, [r6, #28]
 3959              	.LVL453:
1420:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag |= 1;
 3960              		.loc 1 1420 37 view .LVU1306
 3961 0094 023B     		subs	r3, r3, #2
1420:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag |= 1;
 3962              		.loc 1 1420 6 view .LVU1307
 3963 0096 9A42     		cmp	r2, r3
 3964 0098 01D8     		bhi	.L298
1420:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag |= 1;
 3965              		.loc 1 1420 42 is_stmt 1 discriminator 1 view .LVU1308
1420:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag |= 1;
 3966              		.loc 1 1420 55 is_stmt 0 discriminator 1 view .LVU1309
 3967 009a 013A     		subs	r2, r2, #1
 3968 009c B261     		str	r2, [r6, #24]
 3969              	.L298:
1421:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 3970              		.loc 1 1421 3 is_stmt 1 view .LVU1310
1421:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 3971              		.loc 1 1421 16 is_stmt 0 view .LVU1311
 3972 009e 3379     		ldrb	r3, [r6, #4]	@ zero_extendqisi2
 3973 00a0 43F00103 		orr	r3, r3, #1
 3974 00a4 3371     		strb	r3, [r6, #4]
 3975 00a6 2346     		mov	r3, r4
 3976 00a8 12E0     		b	.L289
 3977              	.L307:
1414:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3978              		.loc 1 1414 4 is_stmt 1 view .LVU1312
1414:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3979              		.loc 1 1414 10 is_stmt 0 view .LVU1313
 3980 00aa 2246     		mov	r2, r4
 3981 00ac 3946     		mov	r1, r7
 3982 00ae 3046     		mov	r0, r6
 3983 00b0 FFF7FEFF 		bl	put_fat
 3984              	.LVL454:
 3985 00b4 0346     		mov	r3, r0
 3986              	.LVL455:
1414:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
ARM GAS  /tmp/ccBfkcjf.s 			page 191


 3987              		.loc 1 1414 10 view .LVU1314
 3988 00b6 E9E7     		b	.L296
 3989              	.L297:
1423:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3990              		.loc 1 1423 3 is_stmt 1 view .LVU1315
1423:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3991              		.loc 1 1423 43 is_stmt 0 view .LVU1316
 3992 00b8 012B     		cmp	r3, #1
 3993 00ba 01D0     		beq	.L308
 3994 00bc 0123     		movs	r3, #1
 3995              	.LVL456:
1423:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3996              		.loc 1 1423 43 view .LVU1317
 3997 00be 07E0     		b	.L289
 3998              	.LVL457:
 3999              	.L308:
1423:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4000              		.loc 1 1423 43 view .LVU1318
 4001 00c0 4FF0FF33 		mov	r3, #-1
 4002              	.LVL458:
1423:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4003              		.loc 1 1423 43 view .LVU1319
 4004 00c4 04E0     		b	.L289
 4005              	.LVL459:
 4006              	.L301:
1367:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* A disk error occurred */
 4007              		.loc 1 1367 22 view .LVU1320
 4008 00c6 0123     		movs	r3, #1
 4009 00c8 02E0     		b	.L289
 4010              	.LVL460:
 4011              	.L302:
1405:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4012              		.loc 1 1405 27 view .LVU1321
 4013 00ca 0023     		movs	r3, #0
 4014 00cc 00E0     		b	.L289
 4015              	.LVL461:
 4016              	.L306:
1410:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4017              		.loc 1 1410 27 view .LVU1322
 4018 00ce 0023     		movs	r3, #0
 4019              	.LVL462:
 4020              	.L289:
1427:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4021              		.loc 1 1427 1 view .LVU1323
 4022 00d0 1846     		mov	r0, r3
 4023 00d2 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
1427:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4024              		.loc 1 1427 1 view .LVU1324
 4025              		.cfi_endproc
 4026              	.LFE370:
 4028              		.section	.text.remove_chain,"ax",%progbits
 4029              		.align	1
 4030              		.syntax unified
 4031              		.thumb
 4032              		.thumb_func
 4033              		.fpu fpv5-d16
 4035              	remove_chain:
ARM GAS  /tmp/ccBfkcjf.s 			page 192


 4036              	.LVL463:
 4037              	.LFB369:
1276:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 4038              		.loc 1 1276 1 is_stmt 1 view -0
 4039              		.cfi_startproc
 4040              		@ args = 0, pretend = 0, frame = 0
 4041              		@ frame_needed = 0, uses_anonymous_args = 0
1276:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 4042              		.loc 1 1276 1 is_stmt 0 view .LVU1326
 4043 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 4044              	.LCFI29:
 4045              		.cfi_def_cfa_offset 24
 4046              		.cfi_offset 3, -24
 4047              		.cfi_offset 4, -20
 4048              		.cfi_offset 5, -16
 4049              		.cfi_offset 6, -12
 4050              		.cfi_offset 7, -8
 4051              		.cfi_offset 14, -4
 4052 0002 0C46     		mov	r4, r1
1277:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD nxt;
 4053              		.loc 1 1277 2 is_stmt 1 view .LVU1327
 4054              	.LVL464:
1278:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
 4055              		.loc 1 1278 2 view .LVU1328
1279:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT || _USE_TRIM
 4056              		.loc 1 1279 2 view .LVU1329
1279:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT || _USE_TRIM
 4057              		.loc 1 1279 9 is_stmt 0 view .LVU1330
 4058 0004 0568     		ldr	r5, [r0]
 4059              	.LVL465:
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4060              		.loc 1 1287 2 is_stmt 1 view .LVU1331
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4061              		.loc 1 1287 5 is_stmt 0 view .LVU1332
 4062 0006 0129     		cmp	r1, #1
 4063 0008 2ED9     		bls	.L314
 4064 000a 0646     		mov	r6, r0
 4065 000c 1146     		mov	r1, r2
 4066              	.LVL466:
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4067              		.loc 1 1287 28 discriminator 2 view .LVU1333
 4068 000e EB69     		ldr	r3, [r5, #28]
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4069              		.loc 1 1287 15 discriminator 2 view .LVU1334
 4070 0010 A342     		cmp	r3, r4
 4071 0012 2BD9     		bls	.L315
1290:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(fs, pclst, 0xFFFFFFFF);
 4072              		.loc 1 1290 2 is_stmt 1 view .LVU1335
1290:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(fs, pclst, 0xFFFFFFFF);
 4073              		.loc 1 1290 5 is_stmt 0 view .LVU1336
 4074 0014 4AB1     		cbz	r2, .L313
1291:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
 4075              		.loc 1 1291 3 is_stmt 1 view .LVU1337
1291:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
 4076              		.loc 1 1291 9 is_stmt 0 view .LVU1338
 4077 0016 4FF0FF32 		mov	r2, #-1
 4078              	.LVL467:
ARM GAS  /tmp/ccBfkcjf.s 			page 193


1291:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
 4079              		.loc 1 1291 9 view .LVU1339
 4080 001a 2846     		mov	r0, r5
 4081              	.LVL468:
1291:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
 4082              		.loc 1 1291 9 view .LVU1340
 4083 001c FFF7FEFF 		bl	put_fat
 4084              	.LVL469:
1292:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4085              		.loc 1 1292 3 is_stmt 1 view .LVU1341
1292:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4086              		.loc 1 1292 6 is_stmt 0 view .LVU1342
 4087 0020 0746     		mov	r7, r0
 4088 0022 10B1     		cbz	r0, .L313
 4089 0024 23E0     		b	.L310
 4090              	.LVL470:
 4091              	.L312:
1327:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (clst < fs->n_fatent);	/* Repeat while not the last link */
 4092              		.loc 1 1327 3 is_stmt 1 view .LVU1343
1328:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4093              		.loc 1 1328 10 view .LVU1344
1328:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4094              		.loc 1 1328 2 is_stmt 0 view .LVU1345
 4095 0026 A242     		cmp	r2, r4
 4096 0028 21D9     		bls	.L310
 4097              	.LVL471:
 4098              	.L313:
1296:Middlewares/Third_Party/FatFs/src/ff.c **** 		nxt = get_fat(obj, clst);			/* Get cluster status */
 4099              		.loc 1 1296 2 is_stmt 1 view .LVU1346
1297:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0) break;				/* Empty cluster? */
 4100              		.loc 1 1297 3 view .LVU1347
 4101 002a 2746     		mov	r7, r4
1297:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0) break;				/* Empty cluster? */
 4102              		.loc 1 1297 9 is_stmt 0 view .LVU1348
 4103 002c 2146     		mov	r1, r4
 4104 002e 3046     		mov	r0, r6
 4105 0030 FFF7FEFF 		bl	get_fat
 4106              	.LVL472:
1298:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 1) return FR_INT_ERR;	/* Internal error? */
 4107              		.loc 1 1298 3 is_stmt 1 view .LVU1349
1298:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 1) return FR_INT_ERR;	/* Internal error? */
 4108              		.loc 1 1298 6 is_stmt 0 view .LVU1350
 4109 0034 0446     		mov	r4, r0
 4110              	.LVL473:
1298:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 1) return FR_INT_ERR;	/* Internal error? */
 4111              		.loc 1 1298 6 view .LVU1351
 4112 0036 E0B1     		cbz	r0, .L316
1299:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error? */
 4113              		.loc 1 1299 3 is_stmt 1 view .LVU1352
1299:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error? */
 4114              		.loc 1 1299 6 is_stmt 0 view .LVU1353
 4115 0038 0128     		cmp	r0, #1
 4116 003a 1CD0     		beq	.L317
1300:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 4117              		.loc 1 1300 3 is_stmt 1 view .LVU1354
1300:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 4118              		.loc 1 1300 6 is_stmt 0 view .LVU1355
ARM GAS  /tmp/ccBfkcjf.s 			page 194


 4119 003c B0F1FF3F 		cmp	r0, #-1
 4120 0040 1BD0     		beq	.L318
1301:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, 0);		/* Mark the cluster 'free' on the FAT */
 4121              		.loc 1 1301 3 is_stmt 1 view .LVU1356
1302:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
 4122              		.loc 1 1302 4 view .LVU1357
1302:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
 4123              		.loc 1 1302 10 is_stmt 0 view .LVU1358
 4124 0042 0022     		movs	r2, #0
 4125 0044 3946     		mov	r1, r7
 4126 0046 2846     		mov	r0, r5
 4127              	.LVL474:
1302:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
 4128              		.loc 1 1302 10 view .LVU1359
 4129 0048 FFF7FEFF 		bl	put_fat
 4130              	.LVL475:
1303:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4131              		.loc 1 1303 4 is_stmt 1 view .LVU1360
1303:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4132              		.loc 1 1303 7 is_stmt 0 view .LVU1361
 4133 004c 0746     		mov	r7, r0
 4134              	.LVL476:
1303:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4135              		.loc 1 1303 7 view .LVU1362
 4136 004e 70B9     		cbnz	r0, .L310
1305:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst++;
 4137              		.loc 1 1305 3 is_stmt 1 view .LVU1363
1305:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst++;
 4138              		.loc 1 1305 9 is_stmt 0 view .LVU1364
 4139 0050 AB69     		ldr	r3, [r5, #24]
1305:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst++;
 4140              		.loc 1 1305 25 view .LVU1365
 4141 0052 EA69     		ldr	r2, [r5, #28]
1305:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst++;
 4142              		.loc 1 1305 36 view .LVU1366
 4143 0054 911E     		subs	r1, r2, #2
1305:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst++;
 4144              		.loc 1 1305 6 view .LVU1367
 4145 0056 8B42     		cmp	r3, r1
 4146 0058 E5D2     		bcs	.L312
1306:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
 4147              		.loc 1 1306 4 is_stmt 1 view .LVU1368
1306:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
 4148              		.loc 1 1306 17 is_stmt 0 view .LVU1369
 4149 005a 0133     		adds	r3, r3, #1
 4150 005c AB61     		str	r3, [r5, #24]
1307:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4151              		.loc 1 1307 4 is_stmt 1 view .LVU1370
1307:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4152              		.loc 1 1307 17 is_stmt 0 view .LVU1371
 4153 005e 2B79     		ldrb	r3, [r5, #4]	@ zero_extendqisi2
 4154 0060 43F00103 		orr	r3, r3, #1
 4155 0064 2B71     		strb	r3, [r5, #4]
 4156 0066 DEE7     		b	.L312
 4157              	.LVL477:
 4158              	.L314:
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccBfkcjf.s 			page 195


 4159              		.loc 1 1287 47 view .LVU1372
 4160 0068 0227     		movs	r7, #2
 4161 006a 00E0     		b	.L310
 4162              	.LVL478:
 4163              	.L315:
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4164              		.loc 1 1287 47 view .LVU1373
 4165 006c 0227     		movs	r7, #2
 4166              	.LVL479:
 4167              	.L310:
1342:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4168              		.loc 1 1342 1 view .LVU1374
 4169 006e 3846     		mov	r0, r7
 4170 0070 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 4171              	.LVL480:
 4172              	.L316:
1341:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4173              		.loc 1 1341 9 view .LVU1375
 4174 0072 0027     		movs	r7, #0
 4175              	.LVL481:
1341:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4176              		.loc 1 1341 9 view .LVU1376
 4177 0074 FBE7     		b	.L310
 4178              	.LVL482:
 4179              	.L317:
1299:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error? */
 4180              		.loc 1 1299 24 view .LVU1377
 4181 0076 0227     		movs	r7, #2
 4182              	.LVL483:
1299:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error? */
 4183              		.loc 1 1299 24 view .LVU1378
 4184 0078 F9E7     		b	.L310
 4185              	.LVL484:
 4186              	.L318:
1300:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 4187              		.loc 1 1300 33 view .LVU1379
 4188 007a 0127     		movs	r7, #1
 4189              	.LVL485:
1300:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 4190              		.loc 1 1300 33 view .LVU1380
 4191 007c F7E7     		b	.L310
 4192              		.cfi_endproc
 4193              	.LFE369:
 4195              		.section	.text.dir_next,"ax",%progbits
 4196              		.align	1
 4197              		.syntax unified
 4198              		.thumb
 4199              		.thumb_func
 4200              		.fpu fpv5-d16
 4202              	dir_next:
 4203              	.LVL486:
 4204              	.LFB373:
1523:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ofs, clst;
 4205              		.loc 1 1523 1 is_stmt 1 view -0
 4206              		.cfi_startproc
 4207              		@ args = 0, pretend = 0, frame = 0
 4208              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccBfkcjf.s 			page 196


1523:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ofs, clst;
 4209              		.loc 1 1523 1 is_stmt 0 view .LVU1382
 4210 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 4211              	.LCFI30:
 4212              		.cfi_def_cfa_offset 32
 4213              		.cfi_offset 3, -32
 4214              		.cfi_offset 4, -28
 4215              		.cfi_offset 5, -24
 4216              		.cfi_offset 6, -20
 4217              		.cfi_offset 7, -16
 4218              		.cfi_offset 8, -12
 4219              		.cfi_offset 9, -8
 4220              		.cfi_offset 14, -4
1524:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 4221              		.loc 1 1524 2 is_stmt 1 view .LVU1383
1525:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 4222              		.loc 1 1525 2 view .LVU1384
1525:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 4223              		.loc 1 1525 9 is_stmt 0 view .LVU1385
 4224 0004 0668     		ldr	r6, [r0]
 4225              	.LVL487:
1527:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4226              		.loc 1 1527 2 is_stmt 1 view .LVU1386
1530:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect || ofs >= (DWORD)((_FS_EXFAT && fs->fs_type == FS_EXFAT) ? MAX_DIR_EX : MAX_DIR)) re
 4227              		.loc 1 1530 2 view .LVU1387
1530:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect || ofs >= (DWORD)((_FS_EXFAT && fs->fs_type == FS_EXFAT) ? MAX_DIR_EX : MAX_DIR)) re
 4228              		.loc 1 1530 10 is_stmt 0 view .LVU1388
 4229 0006 4469     		ldr	r4, [r0, #20]
 4230              	.LVL488:
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4231              		.loc 1 1531 2 is_stmt 1 view .LVU1389
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4232              		.loc 1 1531 9 is_stmt 0 view .LVU1390
 4233 0008 C369     		ldr	r3, [r0, #28]
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4234              		.loc 1 1531 5 view .LVU1391
 4235 000a 002B     		cmp	r3, #0
 4236 000c 74D0     		beq	.L328
 4237 000e 0546     		mov	r5, r0
 4238 0010 0F46     		mov	r7, r1
 4239 0012 2034     		adds	r4, r4, #32
 4240              	.LVL489:
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4241              		.loc 1 1531 16 discriminator 2 view .LVU1392
 4242 0014 B4F5001F 		cmp	r4, #2097152
 4243 0018 70D2     		bcs	.L329
1533:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;				/* Next sector */
 4244              		.loc 1 1533 2 is_stmt 1 view .LVU1393
1533:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;				/* Next sector */
 4245              		.loc 1 1533 12 is_stmt 0 view .LVU1394
 4246 001a B189     		ldrh	r1, [r6, #12]
 4247              	.LVL490:
1533:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;				/* Next sector */
 4248              		.loc 1 1533 10 view .LVU1395
 4249 001c B4FBF1F2 		udiv	r2, r4, r1
 4250 0020 01FB1242 		mls	r2, r1, r2, r4
1533:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;				/* Next sector */
ARM GAS  /tmp/ccBfkcjf.s 			page 197


 4251              		.loc 1 1533 5 view .LVU1396
 4252 0024 3AB9     		cbnz	r2, .L322
1534:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4253              		.loc 1 1534 3 is_stmt 1 view .LVU1397
1534:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4254              		.loc 1 1534 11 is_stmt 0 view .LVU1398
 4255 0026 0133     		adds	r3, r3, #1
 4256 0028 C361     		str	r3, [r0, #28]
1536:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs / SZDIRE >= fs->n_rootdir) {	/* Report EOT if it reached end of static table */
 4257              		.loc 1 1536 3 is_stmt 1 view .LVU1399
1536:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs / SZDIRE >= fs->n_rootdir) {	/* Report EOT if it reached end of static table */
 4258              		.loc 1 1536 10 is_stmt 0 view .LVU1400
 4259 002a 8169     		ldr	r1, [r0, #24]
1536:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs / SZDIRE >= fs->n_rootdir) {	/* Report EOT if it reached end of static table */
 4260              		.loc 1 1536 6 view .LVU1401
 4261 002c A1B9     		cbnz	r1, .L323
1537:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = 0; return FR_NO_FILE;
 4262              		.loc 1 1537 4 is_stmt 1 view .LVU1402
1537:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = 0; return FR_NO_FILE;
 4263              		.loc 1 1537 26 is_stmt 0 view .LVU1403
 4264 002e 3389     		ldrh	r3, [r6, #8]
1537:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = 0; return FR_NO_FILE;
 4265              		.loc 1 1537 7 view .LVU1404
 4266 0030 B3EB541F 		cmp	r3, r4, lsr #5
 4267 0034 0CD9     		bls	.L338
 4268              	.LVL491:
 4269              	.L322:
1574:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = fs->win + ofs % SS(fs);	/* Pointer to the entry in the win[] */
 4270              		.loc 1 1574 2 is_stmt 1 view .LVU1405
1574:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = fs->win + ofs % SS(fs);	/* Pointer to the entry in the win[] */
 4271              		.loc 1 1574 11 is_stmt 0 view .LVU1406
 4272 0036 6C61     		str	r4, [r5, #20]
1575:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4273              		.loc 1 1575 2 is_stmt 1 view .LVU1407
1575:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4274              		.loc 1 1575 12 is_stmt 0 view .LVU1408
 4275 0038 06F13803 		add	r3, r6, #56
1575:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4276              		.loc 1 1575 28 view .LVU1409
 4277 003c B289     		ldrh	r2, [r6, #12]
1575:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4278              		.loc 1 1575 26 view .LVU1410
 4279 003e B4FBF2F1 		udiv	r1, r4, r2
 4280 0042 02FB1144 		mls	r4, r2, r1, r4
 4281              	.LVL492:
1575:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4282              		.loc 1 1575 20 view .LVU1411
 4283 0046 1C44     		add	r4, r4, r3
1575:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4284              		.loc 1 1575 10 view .LVU1412
 4285 0048 2C62     		str	r4, [r5, #32]
1577:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4286              		.loc 1 1577 2 is_stmt 1 view .LVU1413
1577:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4287              		.loc 1 1577 9 is_stmt 0 view .LVU1414
 4288 004a 0020     		movs	r0, #0
 4289              	.LVL493:
ARM GAS  /tmp/ccBfkcjf.s 			page 198


 4290              	.L321:
1578:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4291              		.loc 1 1578 1 view .LVU1415
 4292 004c BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 4293              	.LVL494:
 4294              	.L338:
1538:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4295              		.loc 1 1538 5 is_stmt 1 view .LVU1416
1538:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4296              		.loc 1 1538 14 is_stmt 0 view .LVU1417
 4297 0050 0023     		movs	r3, #0
 4298 0052 C361     		str	r3, [r0, #28]
1538:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4299              		.loc 1 1538 19 is_stmt 1 view .LVU1418
1538:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4300              		.loc 1 1538 26 is_stmt 0 view .LVU1419
 4301 0054 0420     		movs	r0, #4
 4302              	.LVL495:
1538:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4303              		.loc 1 1538 26 view .LVU1420
 4304 0056 F9E7     		b	.L321
 4305              	.LVL496:
 4306              	.L323:
1542:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(&dp->obj, dp->clust);			/* Get next cluster */
 4307              		.loc 1 1542 4 is_stmt 1 view .LVU1421
1542:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(&dp->obj, dp->clust);			/* Get next cluster */
 4308              		.loc 1 1542 15 is_stmt 0 view .LVU1422
 4309 0058 B289     		ldrh	r2, [r6, #12]
1542:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(&dp->obj, dp->clust);			/* Get next cluster */
 4310              		.loc 1 1542 13 view .LVU1423
 4311 005a B4FBF2F2 		udiv	r2, r4, r2
1542:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(&dp->obj, dp->clust);			/* Get next cluster */
 4312              		.loc 1 1542 27 view .LVU1424
 4313 005e 7389     		ldrh	r3, [r6, #10]
1542:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(&dp->obj, dp->clust);			/* Get next cluster */
 4314              		.loc 1 1542 35 view .LVU1425
 4315 0060 013B     		subs	r3, r3, #1
1542:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(&dp->obj, dp->clust);			/* Get next cluster */
 4316              		.loc 1 1542 7 view .LVU1426
 4317 0062 12EA0308 		ands	r8, r2, r3
 4318 0066 E6D1     		bne	.L322
1543:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) return FR_INT_ERR;				/* Internal error */
 4319              		.loc 1 1543 5 is_stmt 1 view .LVU1427
1543:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) return FR_INT_ERR;				/* Internal error */
 4320              		.loc 1 1543 12 is_stmt 0 view .LVU1428
 4321 0068 FFF7FEFF 		bl	get_fat
 4322              	.LVL497:
1543:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) return FR_INT_ERR;				/* Internal error */
 4323              		.loc 1 1543 12 view .LVU1429
 4324 006c 8146     		mov	r9, r0
 4325              	.LVL498:
1544:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;		/* Disk error */
 4326              		.loc 1 1544 5 is_stmt 1 view .LVU1430
1544:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;		/* Disk error */
 4327              		.loc 1 1544 8 is_stmt 0 view .LVU1431
 4328 006e 0128     		cmp	r0, #1
 4329 0070 46D9     		bls	.L330
ARM GAS  /tmp/ccBfkcjf.s 			page 199


1545:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= fs->n_fatent) {						/* Reached end of dynamic table */
 4330              		.loc 1 1545 5 is_stmt 1 view .LVU1432
1545:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= fs->n_fatent) {						/* Reached end of dynamic table */
 4331              		.loc 1 1545 8 is_stmt 0 view .LVU1433
 4332 0072 B0F1FF3F 		cmp	r0, #-1
 4333 0076 45D0     		beq	.L331
1546:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 4334              		.loc 1 1546 5 is_stmt 1 view .LVU1434
1546:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 4335              		.loc 1 1546 19 is_stmt 0 view .LVU1435
 4336 0078 F369     		ldr	r3, [r6, #28]
1546:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 4337              		.loc 1 1546 8 view .LVU1436
 4338 007a 8342     		cmp	r3, r0
 4339 007c 34D8     		bhi	.L324
1548:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->sect = 0; return FR_NO_FILE;
 4340              		.loc 1 1548 6 is_stmt 1 view .LVU1437
1548:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->sect = 0; return FR_NO_FILE;
 4341              		.loc 1 1548 9 is_stmt 0 view .LVU1438
 4342 007e 8FB1     		cbz	r7, .L339
1551:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) return FR_DENIED;			/* No free cluster */
 4343              		.loc 1 1551 6 is_stmt 1 view .LVU1439
1551:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) return FR_DENIED;			/* No free cluster */
 4344              		.loc 1 1551 13 is_stmt 0 view .LVU1440
 4345 0080 A969     		ldr	r1, [r5, #24]
 4346 0082 2846     		mov	r0, r5
 4347              	.LVL499:
1551:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) return FR_DENIED;			/* No free cluster */
 4348              		.loc 1 1551 13 view .LVU1441
 4349 0084 FFF7FEFF 		bl	create_chain
 4350              	.LVL500:
1552:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;			/* Internal error */
 4351              		.loc 1 1552 6 is_stmt 1 view .LVU1442
1552:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;			/* Internal error */
 4352              		.loc 1 1552 9 is_stmt 0 view .LVU1443
 4353 0088 8146     		mov	r9, r0
 4354 008a 0028     		cmp	r0, #0
 4355 008c 3CD0     		beq	.L332
1553:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 4356              		.loc 1 1553 6 is_stmt 1 view .LVU1444
1553:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 4357              		.loc 1 1553 9 is_stmt 0 view .LVU1445
 4358 008e 0128     		cmp	r0, #1
 4359 0090 3CD0     		beq	.L333
1554:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up the stretched table */
 4360              		.loc 1 1554 6 is_stmt 1 view .LVU1446
1554:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up the stretched table */
 4361              		.loc 1 1554 9 is_stmt 0 view .LVU1447
 4362 0092 B0F1FF3F 		cmp	r0, #-1
 4363 0096 3BD0     		beq	.L334
1556:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (sync_window(fs) != FR_OK) return FR_DISK_ERR;	/* Flush disk access window */
 4364              		.loc 1 1556 6 is_stmt 1 view .LVU1448
1557:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(fs->win, 0, SS(fs));				/* Clear window buffer */
 4365              		.loc 1 1557 6 view .LVU1449
1557:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(fs->win, 0, SS(fs));				/* Clear window buffer */
 4366              		.loc 1 1557 10 is_stmt 0 view .LVU1450
 4367 0098 3046     		mov	r0, r6
ARM GAS  /tmp/ccBfkcjf.s 			page 200


 4368              	.LVL501:
1557:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(fs->win, 0, SS(fs));				/* Clear window buffer */
 4369              		.loc 1 1557 10 view .LVU1451
 4370 009a FFF7FEFF 		bl	sync_window
 4371              	.LVL502:
1557:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(fs->win, 0, SS(fs));				/* Clear window buffer */
 4372              		.loc 1 1557 9 view .LVU1452
 4373 009e 28B1     		cbz	r0, .L340
1557:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(fs->win, 0, SS(fs));				/* Clear window buffer */
 4374              		.loc 1 1557 43 view .LVU1453
 4375 00a0 0120     		movs	r0, #1
 4376 00a2 D3E7     		b	.L321
 4377              	.LVL503:
 4378              	.L339:
1549:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4379              		.loc 1 1549 7 is_stmt 1 view .LVU1454
1549:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4380              		.loc 1 1549 16 is_stmt 0 view .LVU1455
 4381 00a4 0023     		movs	r3, #0
 4382 00a6 EB61     		str	r3, [r5, #28]
1549:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4383              		.loc 1 1549 21 is_stmt 1 view .LVU1456
1549:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4384              		.loc 1 1549 28 is_stmt 0 view .LVU1457
 4385 00a8 0420     		movs	r0, #4
 4386              	.LVL504:
1549:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4387              		.loc 1 1549 28 view .LVU1458
 4388 00aa CFE7     		b	.L321
 4389              	.L340:
1558:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (n = 0, fs->winsect = clust2sect(fs, clst); n < fs->csize; n++, fs->winsect++) {	/* Fill t
 4390              		.loc 1 1558 6 is_stmt 1 view .LVU1459
 4391 00ac B289     		ldrh	r2, [r6, #12]
 4392 00ae 0021     		movs	r1, #0
 4393 00b0 06F13800 		add	r0, r6, #56
 4394 00b4 FFF7FEFF 		bl	mem_set
 4395              	.LVL505:
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4396              		.loc 1 1559 6 view .LVU1460
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4397              		.loc 1 1559 32 is_stmt 0 view .LVU1461
 4398 00b8 4946     		mov	r1, r9
 4399 00ba 3046     		mov	r0, r6
 4400 00bc FFF7FEFF 		bl	clust2sect
 4401              	.LVL506:
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4402              		.loc 1 1559 30 view .LVU1462
 4403 00c0 7063     		str	r0, [r6, #52]
 4404              	.LVL507:
 4405              	.L326:
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4406              		.loc 1 1559 54 is_stmt 1 discriminator 1 view .LVU1463
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4407              		.loc 1 1559 60 is_stmt 0 discriminator 1 view .LVU1464
 4408 00c2 7389     		ldrh	r3, [r6, #10]
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4409              		.loc 1 1559 6 discriminator 1 view .LVU1465
ARM GAS  /tmp/ccBfkcjf.s 			page 201


 4410 00c4 9845     		cmp	r8, r3
 4411 00c6 0BD2     		bcs	.L341
1560:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (sync_window(fs) != FR_OK) return FR_DISK_ERR;
 4412              		.loc 1 1560 7 is_stmt 1 view .LVU1466
1560:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (sync_window(fs) != FR_OK) return FR_DISK_ERR;
 4413              		.loc 1 1560 17 is_stmt 0 view .LVU1467
 4414 00c8 0123     		movs	r3, #1
 4415 00ca F370     		strb	r3, [r6, #3]
1561:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4416              		.loc 1 1561 7 is_stmt 1 view .LVU1468
1561:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4417              		.loc 1 1561 11 is_stmt 0 view .LVU1469
 4418 00cc 3046     		mov	r0, r6
 4419 00ce FFF7FEFF 		bl	sync_window
 4420              	.LVL508:
1561:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4421              		.loc 1 1561 10 view .LVU1470
 4422 00d2 F8B9     		cbnz	r0, .L336
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4423              		.loc 1 1559 69 is_stmt 1 discriminator 2 view .LVU1471
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4424              		.loc 1 1559 70 is_stmt 0 discriminator 2 view .LVU1472
 4425 00d4 08F10108 		add	r8, r8, #1
 4426              	.LVL509:
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4427              		.loc 1 1559 76 discriminator 2 view .LVU1473
 4428 00d8 736B     		ldr	r3, [r6, #52]
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4429              		.loc 1 1559 85 discriminator 2 view .LVU1474
 4430 00da 0133     		adds	r3, r3, #1
 4431 00dc 7363     		str	r3, [r6, #52]
 4432 00de F0E7     		b	.L326
 4433              	.L341:
1563:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 4434              		.loc 1 1563 6 is_stmt 1 view .LVU1475
1563:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 4435              		.loc 1 1563 18 is_stmt 0 view .LVU1476
 4436 00e0 736B     		ldr	r3, [r6, #52]
 4437 00e2 A3EB0803 		sub	r3, r3, r8
 4438 00e6 7363     		str	r3, [r6, #52]
 4439              	.LVL510:
 4440              	.L324:
1569:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = clust2sect(fs, clst);
 4441              		.loc 1 1569 5 is_stmt 1 view .LVU1477
1569:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = clust2sect(fs, clst);
 4442              		.loc 1 1569 15 is_stmt 0 view .LVU1478
 4443 00e8 C5F81890 		str	r9, [r5, #24]
1570:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4444              		.loc 1 1570 5 is_stmt 1 view .LVU1479
1570:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4445              		.loc 1 1570 16 is_stmt 0 view .LVU1480
 4446 00ec 4946     		mov	r1, r9
 4447 00ee 3046     		mov	r0, r6
 4448 00f0 FFF7FEFF 		bl	clust2sect
 4449              	.LVL511:
1570:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4450              		.loc 1 1570 14 view .LVU1481
ARM GAS  /tmp/ccBfkcjf.s 			page 202


 4451 00f4 E861     		str	r0, [r5, #28]
 4452 00f6 9EE7     		b	.L322
 4453              	.LVL512:
 4454              	.L328:
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4455              		.loc 1 1531 105 view .LVU1482
 4456 00f8 0420     		movs	r0, #4
 4457              	.LVL513:
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4458              		.loc 1 1531 105 view .LVU1483
 4459 00fa A7E7     		b	.L321
 4460              	.LVL514:
 4461              	.L329:
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4462              		.loc 1 1531 105 view .LVU1484
 4463 00fc 0420     		movs	r0, #4
 4464              	.LVL515:
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4465              		.loc 1 1531 105 view .LVU1485
 4466 00fe A5E7     		b	.L321
 4467              	.LVL516:
 4468              	.L330:
1544:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;		/* Disk error */
 4469              		.loc 1 1544 27 view .LVU1486
 4470 0100 0220     		movs	r0, #2
 4471              	.LVL517:
1544:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;		/* Disk error */
 4472              		.loc 1 1544 27 view .LVU1487
 4473 0102 A3E7     		b	.L321
 4474              	.LVL518:
 4475              	.L331:
1545:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= fs->n_fatent) {						/* Reached end of dynamic table */
 4476              		.loc 1 1545 36 view .LVU1488
 4477 0104 0120     		movs	r0, #1
 4478              	.LVL519:
1545:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= fs->n_fatent) {						/* Reached end of dynamic table */
 4479              		.loc 1 1545 36 view .LVU1489
 4480 0106 A1E7     		b	.L321
 4481              	.LVL520:
 4482              	.L332:
1552:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;			/* Internal error */
 4483              		.loc 1 1552 28 view .LVU1490
 4484 0108 0720     		movs	r0, #7
 4485              	.LVL521:
1552:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;			/* Internal error */
 4486              		.loc 1 1552 28 view .LVU1491
 4487 010a 9FE7     		b	.L321
 4488              	.LVL522:
 4489              	.L333:
1553:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 4490              		.loc 1 1553 28 view .LVU1492
 4491 010c 0220     		movs	r0, #2
 4492              	.LVL523:
1553:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 4493              		.loc 1 1553 28 view .LVU1493
 4494 010e 9DE7     		b	.L321
 4495              	.LVL524:
ARM GAS  /tmp/ccBfkcjf.s 			page 203


 4496              	.L334:
1554:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up the stretched table */
 4497              		.loc 1 1554 37 view .LVU1494
 4498 0110 0120     		movs	r0, #1
 4499              	.LVL525:
1554:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up the stretched table */
 4500              		.loc 1 1554 37 view .LVU1495
 4501 0112 9BE7     		b	.L321
 4502              	.LVL526:
 4503              	.L336:
1561:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4504              		.loc 1 1561 44 view .LVU1496
 4505 0114 0120     		movs	r0, #1
 4506 0116 99E7     		b	.L321
 4507              		.cfi_endproc
 4508              	.LFE373:
 4510              		.section	.text.dir_alloc,"ax",%progbits
 4511              		.align	1
 4512              		.syntax unified
 4513              		.thumb
 4514              		.thumb_func
 4515              		.fpu fpv5-d16
 4517              	dir_alloc:
 4518              	.LVL527:
 4519              	.LFB374:
1593:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4520              		.loc 1 1593 1 is_stmt 1 view -0
 4521              		.cfi_startproc
 4522              		@ args = 0, pretend = 0, frame = 0
 4523              		@ frame_needed = 0, uses_anonymous_args = 0
1593:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4524              		.loc 1 1593 1 is_stmt 0 view .LVU1498
 4525 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 4526              	.LCFI31:
 4527              		.cfi_def_cfa_offset 24
 4528              		.cfi_offset 3, -24
 4529              		.cfi_offset 4, -20
 4530              		.cfi_offset 5, -16
 4531              		.cfi_offset 6, -12
 4532              		.cfi_offset 7, -8
 4533              		.cfi_offset 14, -4
 4534 0002 0446     		mov	r4, r0
 4535 0004 0E46     		mov	r6, r1
1594:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n;
 4536              		.loc 1 1594 2 is_stmt 1 view .LVU1499
1595:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 4537              		.loc 1 1595 2 view .LVU1500
1596:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4538              		.loc 1 1596 2 view .LVU1501
1596:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4539              		.loc 1 1596 9 is_stmt 0 view .LVU1502
 4540 0006 0768     		ldr	r7, [r0]
 4541              	.LVL528:
1599:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4542              		.loc 1 1599 2 is_stmt 1 view .LVU1503
1599:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4543              		.loc 1 1599 8 is_stmt 0 view .LVU1504
ARM GAS  /tmp/ccBfkcjf.s 			page 204


 4544 0008 0021     		movs	r1, #0
 4545              	.LVL529:
1599:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4546              		.loc 1 1599 8 view .LVU1505
 4547 000a FFF7FEFF 		bl	dir_sdi
 4548              	.LVL530:
1600:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = 0;
 4549              		.loc 1 1600 2 is_stmt 1 view .LVU1506
1600:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = 0;
 4550              		.loc 1 1600 5 is_stmt 0 view .LVU1507
 4551 000e 0246     		mov	r2, r0
 4552 0010 B8B9     		cbnz	r0, .L343
1601:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 4553              		.loc 1 1601 5 view .LVU1508
 4554 0012 0025     		movs	r5, #0
 4555 0014 06E0     		b	.L345
 4556              	.LVL531:
 4557              	.L347:
1612:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4558              		.loc 1 1612 7 view .LVU1509
 4559 0016 0025     		movs	r5, #0
 4560              	.LVL532:
 4561              	.L344:
1614:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);	/* Next entry with table stretch enabled */
 4562              		.loc 1 1614 4 is_stmt 1 view .LVU1510
1614:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);	/* Next entry with table stretch enabled */
 4563              		.loc 1 1614 10 is_stmt 0 view .LVU1511
 4564 0018 0121     		movs	r1, #1
 4565 001a 2046     		mov	r0, r4
 4566              	.LVL533:
1614:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);	/* Next entry with table stretch enabled */
 4567              		.loc 1 1614 10 view .LVU1512
 4568 001c FFF7FEFF 		bl	dir_next
 4569              	.LVL534:
1615:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4570              		.loc 1 1615 11 is_stmt 1 view .LVU1513
1615:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4571              		.loc 1 1615 3 is_stmt 0 view .LVU1514
 4572 0020 0246     		mov	r2, r0
 4573 0022 70B9     		cbnz	r0, .L343
 4574              	.LVL535:
 4575              	.L345:
1602:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, dp->sect);
 4576              		.loc 1 1602 3 is_stmt 1 view .LVU1515
1603:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4577              		.loc 1 1603 4 view .LVU1516
1603:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4578              		.loc 1 1603 10 is_stmt 0 view .LVU1517
 4579 0024 E169     		ldr	r1, [r4, #28]
 4580 0026 3846     		mov	r0, r7
 4581              	.LVL536:
1603:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4582              		.loc 1 1603 10 view .LVU1518
 4583 0028 FFF7FEFF 		bl	move_window
 4584              	.LVL537:
1604:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 4585              		.loc 1 1604 4 is_stmt 1 view .LVU1519
ARM GAS  /tmp/ccBfkcjf.s 			page 205


1604:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 4586              		.loc 1 1604 7 is_stmt 0 view .LVU1520
 4587 002c 0246     		mov	r2, r0
 4588 002e 40B9     		cbnz	r0, .L343
1608:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4589              		.loc 1 1608 4 is_stmt 1 view .LVU1521
1608:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4590              		.loc 1 1608 10 is_stmt 0 view .LVU1522
 4591 0030 236A     		ldr	r3, [r4, #32]
1608:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4592              		.loc 1 1608 15 view .LVU1523
 4593 0032 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1608:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4594              		.loc 1 1608 7 view .LVU1524
 4595 0034 002B     		cmp	r3, #0
 4596 0036 18BF     		it	ne
 4597 0038 E52B     		cmpne	r3, #229
 4598 003a ECD1     		bne	.L347
1610:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 4599              		.loc 1 1610 5 is_stmt 1 view .LVU1525
1610:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 4600              		.loc 1 1610 8 is_stmt 0 view .LVU1526
 4601 003c 0135     		adds	r5, r5, #1
 4602              	.LVL538:
1610:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 4603              		.loc 1 1610 8 view .LVU1527
 4604 003e B542     		cmp	r5, r6
 4605 0040 EAD1     		bne	.L344
 4606              	.LVL539:
 4607              	.L343:
1618:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4608              		.loc 1 1618 2 is_stmt 1 view .LVU1528
1618:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4609              		.loc 1 1618 5 is_stmt 0 view .LVU1529
 4610 0042 042A     		cmp	r2, #4
 4611 0044 01D0     		beq	.L350
 4612              	.LVL540:
 4613              	.L346:
1619:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4614              		.loc 1 1619 2 is_stmt 1 view .LVU1530
1620:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4615              		.loc 1 1620 1 is_stmt 0 view .LVU1531
 4616 0046 1046     		mov	r0, r2
 4617 0048 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 4618              	.LVL541:
 4619              	.L350:
1618:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4620              		.loc 1 1618 29 view .LVU1532
 4621 004a 0722     		movs	r2, #7
 4622              	.LVL542:
1618:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4623              		.loc 1 1618 29 view .LVU1533
 4624 004c FBE7     		b	.L346
 4625              		.cfi_endproc
 4626              	.LFE374:
 4628              		.section	.text.dir_read,"ax",%progbits
 4629              		.align	1
ARM GAS  /tmp/ccBfkcjf.s 			page 206


 4630              		.syntax unified
 4631              		.thumb
 4632              		.thumb_func
 4633              		.fpu fpv5-d16
 4635              	dir_read:
 4636              	.LVL543:
 4637              	.LFB382:
2135:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_NO_FILE;
 4638              		.loc 1 2135 1 is_stmt 1 view -0
 4639              		.cfi_startproc
 4640              		@ args = 0, pretend = 0, frame = 0
 4641              		@ frame_needed = 0, uses_anonymous_args = 0
2135:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_NO_FILE;
 4642              		.loc 1 2135 1 is_stmt 0 view .LVU1535
 4643 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 4644              	.LCFI32:
 4645              		.cfi_def_cfa_offset 32
 4646              		.cfi_offset 3, -32
 4647              		.cfi_offset 4, -28
 4648              		.cfi_offset 5, -24
 4649              		.cfi_offset 6, -20
 4650              		.cfi_offset 7, -16
 4651              		.cfi_offset 8, -12
 4652              		.cfi_offset 9, -8
 4653              		.cfi_offset 14, -4
 4654 0004 0446     		mov	r4, r0
 4655 0006 8846     		mov	r8, r1
2136:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 4656              		.loc 1 2136 2 is_stmt 1 view .LVU1536
 4657              	.LVL544:
2137:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE a, c;
 4658              		.loc 1 2137 2 view .LVU1537
2137:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE a, c;
 4659              		.loc 1 2137 9 is_stmt 0 view .LVU1538
 4660 0008 0768     		ldr	r7, [r0]
 4661              	.LVL545:
2138:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
 4662              		.loc 1 2138 2 is_stmt 1 view .LVU1539
2140:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4663              		.loc 1 2140 2 view .LVU1540
2143:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 4664              		.loc 1 2143 2 view .LVU1541
2140:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4665              		.loc 1 2140 19 is_stmt 0 view .LVU1542
 4666 000a 4FF0FF09 		mov	r9, #255
2140:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4667              		.loc 1 2140 7 view .LVU1543
 4668 000e 4E46     		mov	r6, r9
2136:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 4669              		.loc 1 2136 10 view .LVU1544
 4670 0010 0425     		movs	r5, #4
2143:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 4671              		.loc 1 2143 8 view .LVU1545
 4672 0012 2CE0     		b	.L352
 4673              	.LVL546:
 4674              	.L369:
2172:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c & LLEF) {			/* Is it start of an LFN sequence? */
ARM GAS  /tmp/ccBfkcjf.s 			page 207


 4675              		.loc 1 2172 5 is_stmt 1 view .LVU1546
2172:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c & LLEF) {			/* Is it start of an LFN sequence? */
 4676              		.loc 1 2172 8 is_stmt 0 view .LVU1547
 4677 0014 0F2B     		cmp	r3, #15
 4678 0016 19D1     		bne	.L355
2173:Middlewares/Third_Party/FatFs/src/ff.c **** 						sum = dp->dir[LDIR_Chksum];
 4679              		.loc 1 2173 6 is_stmt 1 view .LVU1548
2173:Middlewares/Third_Party/FatFs/src/ff.c **** 						sum = dp->dir[LDIR_Chksum];
 4680              		.loc 1 2173 9 is_stmt 0 view .LVU1549
 4681 0018 12F0400F 		tst	r2, #64
 4682 001c 06D0     		beq	.L356
2174:Middlewares/Third_Party/FatFs/src/ff.c **** 						c &= (BYTE)~LLEF; ord = c;
 4683              		.loc 1 2174 7 is_stmt 1 view .LVU1550
2174:Middlewares/Third_Party/FatFs/src/ff.c **** 						c &= (BYTE)~LLEF; ord = c;
 4684              		.loc 1 2174 11 is_stmt 0 view .LVU1551
 4685 001e 91F80D90 		ldrb	r9, [r1, #13]	@ zero_extendqisi2
 4686              	.LVL547:
2175:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = dp->dptr;
 4687              		.loc 1 2175 7 is_stmt 1 view .LVU1552
2175:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = dp->dptr;
 4688              		.loc 1 2175 9 is_stmt 0 view .LVU1553
 4689 0022 02F0BF02 		and	r2, r2, #191
 4690              	.LVL548:
2175:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = dp->dptr;
 4691              		.loc 1 2175 25 is_stmt 1 view .LVU1554
2176:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4692              		.loc 1 2176 7 view .LVU1555
2176:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4693              		.loc 1 2176 23 is_stmt 0 view .LVU1556
 4694 0026 6369     		ldr	r3, [r4, #20]
 4695              	.LVL549:
2176:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4696              		.loc 1 2176 19 view .LVU1557
 4697 0028 2363     		str	r3, [r4, #48]
2175:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = dp->dptr;
 4698              		.loc 1 2175 29 view .LVU1558
 4699 002a 1646     		mov	r6, r2
 4700              	.LVL550:
 4701              	.L356:
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
 4702              		.loc 1 2179 6 is_stmt 1 view .LVU1559
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
 4703              		.loc 1 2179 10 is_stmt 0 view .LVU1560
 4704 002c B242     		cmp	r2, r6
 4705 002e 01D0     		beq	.L367
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
 4706              		.loc 1 2179 10 view .LVU1561
 4707 0030 FF26     		movs	r6, #255
 4708              	.LVL551:
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
 4709              		.loc 1 2179 10 view .LVU1562
 4710 0032 16E0     		b	.L354
 4711              	.LVL552:
 4712              	.L367:
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
 4713              		.loc 1 2179 39 discriminator 1 view .LVU1563
 4714 0034 4B7B     		ldrb	r3, [r1, #13]	@ zero_extendqisi2
ARM GAS  /tmp/ccBfkcjf.s 			page 208


2179:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
 4715              		.loc 1 2179 22 discriminator 1 view .LVU1564
 4716 0036 4B45     		cmp	r3, r9
 4717 0038 01D0     		beq	.L368
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
 4718              		.loc 1 2179 10 view .LVU1565
 4719 003a FF26     		movs	r6, #255
 4720              	.LVL553:
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
 4721              		.loc 1 2179 10 view .LVU1566
 4722 003c 11E0     		b	.L354
 4723              	.LVL554:
 4724              	.L368:
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
 4725              		.loc 1 2179 56 discriminator 3 view .LVU1567
 4726 003e 3869     		ldr	r0, [r7, #16]
 4727 0040 FFF7FEFF 		bl	pick_lfn
 4728              	.LVL555:
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
 4729              		.loc 1 2179 53 discriminator 3 view .LVU1568
 4730 0044 78B3     		cbz	r0, .L365
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
 4731              		.loc 1 2179 10 discriminator 5 view .LVU1569
 4732 0046 013E     		subs	r6, r6, #1
 4733              	.LVL556:
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
 4734              		.loc 1 2179 10 discriminator 5 view .LVU1570
 4735 0048 F6B2     		uxtb	r6, r6
 4736 004a 0AE0     		b	.L354
 4737              	.LVL557:
 4738              	.L355:
2181:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = 0xFFFFFFFF;			/* It has no LFN. */
 4739              		.loc 1 2181 6 is_stmt 1 view .LVU1571
2181:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = 0xFFFFFFFF;			/* It has no LFN. */
 4740              		.loc 1 2181 9 is_stmt 0 view .LVU1572
 4741 004c 26B9     		cbnz	r6, .L357
2181:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = 0xFFFFFFFF;			/* It has no LFN. */
 4742              		.loc 1 2181 24 discriminator 1 view .LVU1573
 4743 004e 0846     		mov	r0, r1
 4744 0050 FFF7FEFF 		bl	sum_sfn
 4745              	.LVL558:
2181:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = 0xFFFFFFFF;			/* It has no LFN. */
 4746              		.loc 1 2181 14 discriminator 1 view .LVU1574
 4747 0054 4845     		cmp	r0, r9
 4748 0056 29D0     		beq	.L353
 4749              	.L357:
2182:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4750              		.loc 1 2182 7 is_stmt 1 view .LVU1575
2182:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4751              		.loc 1 2182 19 is_stmt 0 view .LVU1576
 4752 0058 4FF0FF33 		mov	r3, #-1
 4753 005c 2363     		str	r3, [r4, #48]
 4754 005e 25E0     		b	.L353
 4755              	.LVL559:
 4756              	.L361:
2170:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 4757              		.loc 1 2170 9 view .LVU1577
ARM GAS  /tmp/ccBfkcjf.s 			page 209


 4758 0060 FF26     		movs	r6, #255
 4759              	.LVL560:
 4760              	.L354:
2193:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4761              		.loc 1 2193 3 is_stmt 1 view .LVU1578
2193:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4762              		.loc 1 2193 9 is_stmt 0 view .LVU1579
 4763 0062 0021     		movs	r1, #0
 4764 0064 2046     		mov	r0, r4
 4765 0066 FFF7FEFF 		bl	dir_next
 4766              	.LVL561:
2194:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4767              		.loc 1 2194 3 is_stmt 1 view .LVU1580
2194:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4768              		.loc 1 2194 6 is_stmt 0 view .LVU1581
 4769 006a 0546     		mov	r5, r0
 4770 006c F0B9     		cbnz	r0, .L353
 4771              	.LVL562:
 4772              	.L352:
2143:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 4773              		.loc 1 2143 8 is_stmt 1 view .LVU1582
2143:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 4774              		.loc 1 2143 11 is_stmt 0 view .LVU1583
 4775 006e E169     		ldr	r1, [r4, #28]
2143:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 4776              		.loc 1 2143 8 view .LVU1584
 4777 0070 E1B1     		cbz	r1, .L353
2144:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4778              		.loc 1 2144 3 is_stmt 1 view .LVU1585
2144:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4779              		.loc 1 2144 9 is_stmt 0 view .LVU1586
 4780 0072 3846     		mov	r0, r7
 4781 0074 FFF7FEFF 		bl	move_window
 4782              	.LVL563:
2145:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dp->dir[DIR_Name];	/* Test for the entry type */
 4783              		.loc 1 2145 3 is_stmt 1 view .LVU1587
2145:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dp->dir[DIR_Name];	/* Test for the entry type */
 4784              		.loc 1 2145 6 is_stmt 0 view .LVU1588
 4785 0078 0546     		mov	r5, r0
 4786 007a B8B9     		cbnz	r0, .L353
2146:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) {
 4787              		.loc 1 2146 3 is_stmt 1 view .LVU1589
2146:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) {
 4788              		.loc 1 2146 9 is_stmt 0 view .LVU1590
 4789 007c 216A     		ldr	r1, [r4, #32]
2146:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) {
 4790              		.loc 1 2146 5 view .LVU1591
 4791 007e 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 4792              	.LVL564:
2147:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_NO_FILE; break; /* Reached to end of the directory */
 4793              		.loc 1 2147 3 is_stmt 1 view .LVU1592
2147:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_NO_FILE; break; /* Reached to end of the directory */
 4794              		.loc 1 2147 6 is_stmt 0 view .LVU1593
 4795 0080 9AB1     		cbz	r2, .L360
2167:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 4796              		.loc 1 2167 4 is_stmt 1 view .LVU1594
2167:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
ARM GAS  /tmp/ccBfkcjf.s 			page 210


 4797              		.loc 1 2167 30 is_stmt 0 view .LVU1595
 4798 0082 CB7A     		ldrb	r3, [r1, #11]	@ zero_extendqisi2
2167:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 4799              		.loc 1 2167 21 view .LVU1596
 4800 0084 03F03F03 		and	r3, r3, #63
 4801              	.LVL565:
2167:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 4802              		.loc 1 2167 17 view .LVU1597
 4803 0088 A371     		strb	r3, [r4, #6]
2169:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF;
 4804              		.loc 1 2169 4 is_stmt 1 view .LVU1598
2169:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF;
 4805              		.loc 1 2169 7 is_stmt 0 view .LVU1599
 4806 008a 2E2A     		cmp	r2, #46
 4807 008c 18BF     		it	ne
 4808 008e E52A     		cmpne	r2, #229
 4809 0090 E6D0     		beq	.L361
2169:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF;
 4810              		.loc 1 2169 42 discriminator 1 view .LVU1600
 4811 0092 23F02000 		bic	r0, r3, #32
 4812              	.LVL566:
2169:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF;
 4813              		.loc 1 2169 33 discriminator 1 view .LVU1601
 4814 0096 0828     		cmp	r0, #8
 4815 0098 14BF     		ite	ne
 4816 009a 0020     		movne	r0, #0
 4817 009c 0120     		moveq	r0, #1
2169:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF;
 4818              		.loc 1 2169 30 discriminator 1 view .LVU1602
 4819 009e 4045     		cmp	r0, r8
 4820 00a0 B8D0     		beq	.L369
2170:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 4821              		.loc 1 2170 9 view .LVU1603
 4822 00a2 FF26     		movs	r6, #255
 4823              	.LVL567:
2170:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 4824              		.loc 1 2170 9 view .LVU1604
 4825 00a4 DDE7     		b	.L354
 4826              	.LVL568:
 4827              	.L365:
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
 4828              		.loc 1 2179 10 view .LVU1605
 4829 00a6 FF26     		movs	r6, #255
 4830              	.LVL569:
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
 4831              		.loc 1 2179 10 view .LVU1606
 4832 00a8 DBE7     		b	.L354
 4833              	.LVL570:
 4834              	.L360:
2148:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4835              		.loc 1 2148 8 view .LVU1607
 4836 00aa 0425     		movs	r5, #4
 4837              	.LVL571:
 4838              	.L353:
2197:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4839              		.loc 1 2197 2 is_stmt 1 view .LVU1608
2197:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
ARM GAS  /tmp/ccBfkcjf.s 			page 211


 4840              		.loc 1 2197 5 is_stmt 0 view .LVU1609
 4841 00ac 0DB1     		cbz	r5, .L359
2197:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4842              		.loc 1 2197 20 is_stmt 1 discriminator 1 view .LVU1610
2197:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4843              		.loc 1 2197 29 is_stmt 0 discriminator 1 view .LVU1611
 4844 00ae 0023     		movs	r3, #0
 4845 00b0 E361     		str	r3, [r4, #28]
 4846              	.L359:
2198:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4847              		.loc 1 2198 2 is_stmt 1 view .LVU1612
2199:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4848              		.loc 1 2199 1 is_stmt 0 view .LVU1613
 4849 00b2 2846     		mov	r0, r5
 4850 00b4 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
2199:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4851              		.loc 1 2199 1 view .LVU1614
 4852              		.cfi_endproc
 4853              	.LFE382:
 4855              		.section	.text.dir_remove,"ax",%progbits
 4856              		.align	1
 4857              		.syntax unified
 4858              		.thumb
 4859              		.thumb_func
 4860              		.fpu fpv5-d16
 4862              	dir_remove:
 4863              	.LVL572:
 4864              	.LFB385:
2399:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4865              		.loc 1 2399 1 is_stmt 1 view -0
 4866              		.cfi_startproc
 4867              		@ args = 0, pretend = 0, frame = 0
 4868              		@ frame_needed = 0, uses_anonymous_args = 0
2399:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4869              		.loc 1 2399 1 is_stmt 0 view .LVU1616
 4870 0000 70B5     		push	{r4, r5, r6, lr}
 4871              	.LCFI33:
 4872              		.cfi_def_cfa_offset 16
 4873              		.cfi_offset 4, -16
 4874              		.cfi_offset 5, -12
 4875              		.cfi_offset 6, -8
 4876              		.cfi_offset 14, -4
 4877 0002 0446     		mov	r4, r0
2400:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 4878              		.loc 1 2400 2 is_stmt 1 view .LVU1617
2401:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 4879              		.loc 1 2401 2 view .LVU1618
2401:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 4880              		.loc 1 2401 9 is_stmt 0 view .LVU1619
 4881 0004 0568     		ldr	r5, [r0]
 4882              	.LVL573:
2403:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4883              		.loc 1 2403 2 is_stmt 1 view .LVU1620
2403:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4884              		.loc 1 2403 8 is_stmt 0 view .LVU1621
 4885 0006 4669     		ldr	r6, [r0, #20]
 4886              	.LVL574:
ARM GAS  /tmp/ccBfkcjf.s 			page 212


2405:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4887              		.loc 1 2405 2 is_stmt 1 view .LVU1622
2405:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4888              		.loc 1 2405 11 is_stmt 0 view .LVU1623
 4889 0008 016B     		ldr	r1, [r0, #48]
2405:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4890              		.loc 1 2405 44 view .LVU1624
 4891 000a B1F1FF3F 		cmp	r1, #-1
 4892 000e 18D1     		bne	.L377
 4893              	.LVL575:
 4894              	.L374:
2407:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, dp->sect);
 4895              		.loc 1 2407 3 is_stmt 1 view .LVU1625
2408:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4896              		.loc 1 2408 4 view .LVU1626
2408:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4897              		.loc 1 2408 10 is_stmt 0 view .LVU1627
 4898 0010 E169     		ldr	r1, [r4, #28]
 4899 0012 2846     		mov	r0, r5
 4900 0014 FFF7FEFF 		bl	move_window
 4901              	.LVL576:
2409:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Mark an entry 'deleted' */
 4902              		.loc 1 2409 4 is_stmt 1 view .LVU1628
2409:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Mark an entry 'deleted' */
 4903              		.loc 1 2409 7 is_stmt 0 view .LVU1629
 4904 0018 0346     		mov	r3, r0
 4905 001a 70B9     		cbnz	r0, .L373
2411:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->dir[XDIR_Type] &= 0x7F;
 4906              		.loc 1 2411 4 is_stmt 1 view .LVU1630
2414:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4907              		.loc 1 2414 5 view .LVU1631
2414:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4908              		.loc 1 2414 7 is_stmt 0 view .LVU1632
 4909 001c 226A     		ldr	r2, [r4, #32]
2414:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4910              		.loc 1 2414 23 view .LVU1633
 4911 001e E521     		movs	r1, #229
 4912 0020 1170     		strb	r1, [r2]
2416:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dptr >= last) break;	/* If reached last entry then all entries of the object has been de
 4913              		.loc 1 2416 4 is_stmt 1 view .LVU1634
2416:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dptr >= last) break;	/* If reached last entry then all entries of the object has been de
 4914              		.loc 1 2416 14 is_stmt 0 view .LVU1635
 4915 0022 0122     		movs	r2, #1
 4916 0024 EA70     		strb	r2, [r5, #3]
2417:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_next(dp, 0);	/* Next entry */
 4917              		.loc 1 2417 4 is_stmt 1 view .LVU1636
2417:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_next(dp, 0);	/* Next entry */
 4918              		.loc 1 2417 10 is_stmt 0 view .LVU1637
 4919 0026 6269     		ldr	r2, [r4, #20]
2417:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_next(dp, 0);	/* Next entry */
 4920              		.loc 1 2417 7 view .LVU1638
 4921 0028 B242     		cmp	r2, r6
 4922 002a 06D2     		bcs	.L373
2418:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);
 4923              		.loc 1 2418 4 is_stmt 1 view .LVU1639
2418:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);
 4924              		.loc 1 2418 10 is_stmt 0 view .LVU1640
ARM GAS  /tmp/ccBfkcjf.s 			page 213


 4925 002c 0021     		movs	r1, #0
 4926 002e 2046     		mov	r0, r4
 4927              	.LVL577:
2418:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);
 4928              		.loc 1 2418 10 view .LVU1641
 4929 0030 FFF7FEFF 		bl	dir_next
 4930              	.LVL578:
2419:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_INT_ERR;
 4931              		.loc 1 2419 11 is_stmt 1 view .LVU1642
2419:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_INT_ERR;
 4932              		.loc 1 2419 3 is_stmt 0 view .LVU1643
 4933 0034 0346     		mov	r3, r0
 4934 0036 0028     		cmp	r0, #0
 4935 0038 EAD0     		beq	.L374
 4936              	.L373:
 4937              	.LVL579:
2420:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4938              		.loc 1 2420 3 is_stmt 1 view .LVU1644
2420:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4939              		.loc 1 2420 6 is_stmt 0 view .LVU1645
 4940 003a 042B     		cmp	r3, #4
 4941 003c 07D0     		beq	.L378
 4942              	.LVL580:
 4943              	.L372:
2431:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4944              		.loc 1 2431 2 is_stmt 1 view .LVU1646
2432:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4945              		.loc 1 2432 1 is_stmt 0 view .LVU1647
 4946 003e 1846     		mov	r0, r3
 4947 0040 70BD     		pop	{r4, r5, r6, pc}
 4948              	.LVL581:
 4949              	.L377:
2405:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4950              		.loc 1 2405 46 discriminator 1 view .LVU1648
 4951 0042 FFF7FEFF 		bl	dir_sdi
 4952              	.LVL582:
2406:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 4953              		.loc 1 2406 2 is_stmt 1 discriminator 1 view .LVU1649
2406:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 4954              		.loc 1 2406 5 is_stmt 0 discriminator 1 view .LVU1650
 4955 0046 0346     		mov	r3, r0
 4956 0048 0028     		cmp	r0, #0
 4957 004a F8D1     		bne	.L372
 4958 004c E0E7     		b	.L374
 4959              	.LVL583:
 4960              	.L378:
2420:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4961              		.loc 1 2420 30 view .LVU1651
 4962 004e 0223     		movs	r3, #2
 4963              	.LVL584:
2420:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4964              		.loc 1 2420 30 view .LVU1652
 4965 0050 F5E7     		b	.L372
 4966              		.cfi_endproc
 4967              	.LFE385:
 4969              		.section	.text.sync_fs,"ax",%progbits
 4970              		.align	1
ARM GAS  /tmp/ccBfkcjf.s 			page 214


 4971              		.syntax unified
 4972              		.thumb
 4973              		.thumb_func
 4974              		.fpu fpv5-d16
 4976              	sync_fs:
 4977              	.LVL585:
 4978              	.LFB365:
 947:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4979              		.loc 1 947 1 is_stmt 1 view -0
 4980              		.cfi_startproc
 4981              		@ args = 0, pretend = 0, frame = 0
 4982              		@ frame_needed = 0, uses_anonymous_args = 0
 947:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4983              		.loc 1 947 1 is_stmt 0 view .LVU1654
 4984 0000 70B5     		push	{r4, r5, r6, lr}
 4985              	.LCFI34:
 4986              		.cfi_def_cfa_offset 16
 4987              		.cfi_offset 4, -16
 4988              		.cfi_offset 5, -12
 4989              		.cfi_offset 6, -8
 4990              		.cfi_offset 14, -4
 4991 0002 0446     		mov	r4, r0
 948:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4992              		.loc 1 948 2 is_stmt 1 view .LVU1655
 951:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4993              		.loc 1 951 2 view .LVU1656
 951:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4994              		.loc 1 951 8 is_stmt 0 view .LVU1657
 4995 0004 FFF7FEFF 		bl	sync_window
 4996              	.LVL586:
 952:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update FSInfo sector if needed */
 4997              		.loc 1 952 2 is_stmt 1 view .LVU1658
 952:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update FSInfo sector if needed */
 4998              		.loc 1 952 5 is_stmt 0 view .LVU1659
 4999 0008 0546     		mov	r5, r0
 5000 000a 48B9     		cbnz	r0, .L380
 954:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSInfo structure */
 5001              		.loc 1 954 3 is_stmt 1 view .LVU1660
 954:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSInfo structure */
 5002              		.loc 1 954 9 is_stmt 0 view .LVU1661
 5003 000c 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 954:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSInfo structure */
 5004              		.loc 1 954 6 view .LVU1662
 5005 000e 032B     		cmp	r3, #3
 5006 0010 08D0     		beq	.L384
 5007              	.LVL587:
 5008              	.L381:
 968:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5009              		.loc 1 968 3 is_stmt 1 view .LVU1663
 968:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5010              		.loc 1 968 7 is_stmt 0 view .LVU1664
 5011 0012 0022     		movs	r2, #0
 5012 0014 1146     		mov	r1, r2
 5013 0016 6078     		ldrb	r0, [r4, #1]	@ zero_extendqisi2
 5014 0018 FFF7FEFF 		bl	disk_ioctl
 5015              	.LVL588:
 968:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
ARM GAS  /tmp/ccBfkcjf.s 			page 215


 5016              		.loc 1 968 6 view .LVU1665
 5017 001c 00B1     		cbz	r0, .L380
 968:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5018              		.loc 1 968 56 view .LVU1666
 5019 001e 0125     		movs	r5, #1
 5020              	.L380:
 5021              	.LVL589:
 971:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5022              		.loc 1 971 2 is_stmt 1 view .LVU1667
 972:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5023              		.loc 1 972 1 is_stmt 0 view .LVU1668
 5024 0020 2846     		mov	r0, r5
 5025 0022 70BD     		pop	{r4, r5, r6, pc}
 5026              	.LVL590:
 5027              	.L384:
 954:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSInfo structure */
 5028              		.loc 1 954 36 discriminator 1 view .LVU1669
 5029 0024 2379     		ldrb	r3, [r4, #4]	@ zero_extendqisi2
 954:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSInfo structure */
 5030              		.loc 1 954 31 discriminator 1 view .LVU1670
 5031 0026 012B     		cmp	r3, #1
 5032 0028 F3D1     		bne	.L381
 956:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + BS_55AA, 0xAA55);
 5033              		.loc 1 956 4 is_stmt 1 view .LVU1671
 956:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + BS_55AA, 0xAA55);
 5034              		.loc 1 956 14 is_stmt 0 view .LVU1672
 5035 002a 04F13806 		add	r6, r4, #56
 956:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + BS_55AA, 0xAA55);
 5036              		.loc 1 956 4 view .LVU1673
 5037 002e A289     		ldrh	r2, [r4, #12]
 5038 0030 0021     		movs	r1, #0
 5039 0032 3046     		mov	r0, r6
 5040              	.LVL591:
 956:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + BS_55AA, 0xAA55);
 5041              		.loc 1 956 4 view .LVU1674
 5042 0034 FFF7FEFF 		bl	mem_set
 5043              	.LVL592:
 957:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_LeadSig, 0x41615252);
 5044              		.loc 1 957 4 is_stmt 1 view .LVU1675
 5045 0038 4AF65521 		movw	r1, #43605
 5046 003c 04F23620 		addw	r0, r4, #566
 5047 0040 FFF7FEFF 		bl	st_word
 5048              	.LVL593:
 958:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_StrucSig, 0x61417272);
 5049              		.loc 1 958 4 view .LVU1676
 5050 0044 0E49     		ldr	r1, .L385
 5051 0046 3046     		mov	r0, r6
 5052 0048 FFF7FEFF 		bl	st_dword
 5053              	.LVL594:
 959:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_Free_Count, fs->free_clst);
 5054              		.loc 1 959 4 view .LVU1677
 5055 004c 0D49     		ldr	r1, .L385+4
 5056 004e 04F50770 		add	r0, r4, #540
 5057 0052 FFF7FEFF 		bl	st_dword
 5058              	.LVL595:
 960:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_Nxt_Free, fs->last_clst);
 5059              		.loc 1 960 4 view .LVU1678
ARM GAS  /tmp/ccBfkcjf.s 			page 216


 5060 0056 A169     		ldr	r1, [r4, #24]
 5061 0058 04F50870 		add	r0, r4, #544
 5062 005c FFF7FEFF 		bl	st_dword
 5063              	.LVL596:
 961:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write it into the FSInfo sector */
 5064              		.loc 1 961 4 view .LVU1679
 5065 0060 6169     		ldr	r1, [r4, #20]
 5066 0062 04F50970 		add	r0, r4, #548
 5067 0066 FFF7FEFF 		bl	st_dword
 5068              	.LVL597:
 963:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win, fs->winsect, 1);
 5069              		.loc 1 963 4 view .LVU1680
 963:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win, fs->winsect, 1);
 5070              		.loc 1 963 20 is_stmt 0 view .LVU1681
 5071 006a 626A     		ldr	r2, [r4, #36]
 963:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win, fs->winsect, 1);
 5072              		.loc 1 963 30 view .LVU1682
 5073 006c 0132     		adds	r2, r2, #1
 963:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win, fs->winsect, 1);
 5074              		.loc 1 963 16 view .LVU1683
 5075 006e 6263     		str	r2, [r4, #52]
 964:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag = 0;
 5076              		.loc 1 964 4 is_stmt 1 view .LVU1684
 5077 0070 0123     		movs	r3, #1
 5078 0072 3146     		mov	r1, r6
 5079 0074 6078     		ldrb	r0, [r4, #1]	@ zero_extendqisi2
 5080 0076 FFF7FEFF 		bl	disk_write
 5081              	.LVL598:
 965:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5082              		.loc 1 965 4 view .LVU1685
 965:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5083              		.loc 1 965 17 is_stmt 0 view .LVU1686
 5084 007a 0023     		movs	r3, #0
 5085 007c 2371     		strb	r3, [r4, #4]
 5086 007e C8E7     		b	.L381
 5087              	.L386:
 5088              		.align	2
 5089              	.L385:
 5090 0080 52526141 		.word	1096897106
 5091 0084 72724161 		.word	1631679090
 5092              		.cfi_endproc
 5093              	.LFE365:
 5095              		.section	.rodata.create_name.str1.4,"aMS",%progbits,1
 5096              		.align	2
 5097              	.LC0:
 5098 0000 222A3A3C 		.ascii	"\"*:<>?|\177\000"
 5098      3E3F7C7F 
 5098      00
 5099 0009 000000   		.align	2
 5100              	.LC1:
 5101 000c 2B2C3B3D 		.ascii	"+,;=[]\000"
 5101      5B5D00
 5102              		.section	.text.create_name,"ax",%progbits
 5103              		.align	1
 5104              		.syntax unified
 5105              		.thumb
 5106              		.thumb_func
ARM GAS  /tmp/ccBfkcjf.s 			page 217


 5107              		.fpu fpv5-d16
 5109              	create_name:
 5110              	.LVL599:
 5111              	.LFB387:
2622:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 5112              		.loc 1 2622 1 is_stmt 1 view -0
 5113              		.cfi_startproc
 5114              		@ args = 0, pretend = 0, frame = 8
 5115              		@ frame_needed = 0, uses_anonymous_args = 0
2622:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 5116              		.loc 1 2622 1 is_stmt 0 view .LVU1688
 5117 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 5118              	.LCFI35:
 5119              		.cfi_def_cfa_offset 36
 5120              		.cfi_offset 4, -36
 5121              		.cfi_offset 5, -32
 5122              		.cfi_offset 6, -28
 5123              		.cfi_offset 7, -24
 5124              		.cfi_offset 8, -20
 5125              		.cfi_offset 9, -16
 5126              		.cfi_offset 10, -12
 5127              		.cfi_offset 11, -8
 5128              		.cfi_offset 14, -4
 5129 0004 83B0     		sub	sp, sp, #12
 5130              	.LCFI36:
 5131              		.cfi_def_cfa_offset 48
 5132 0006 8046     		mov	r8, r0
 5133 0008 8A46     		mov	r10, r1
2624:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w, *lfn;
 5134              		.loc 1 2624 2 is_stmt 1 view .LVU1689
2625:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, ni, si, di;
 5135              		.loc 1 2625 2 view .LVU1690
2626:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *p;
 5136              		.loc 1 2626 2 view .LVU1691
2627:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5137              		.loc 1 2627 2 view .LVU1692
2630:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
 5138              		.loc 1 2630 2 view .LVU1693
2630:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
 5139              		.loc 1 2630 4 is_stmt 0 view .LVU1694
 5140 000a D1F80090 		ldr	r9, [r1]
 5141              	.LVL600:
2630:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
 5142              		.loc 1 2630 13 is_stmt 1 view .LVU1695
2630:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
 5143              		.loc 1 2630 26 is_stmt 0 view .LVU1696
 5144 000e 0368     		ldr	r3, [r0]
2630:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
 5145              		.loc 1 2630 17 view .LVU1697
 5146 0010 1D69     		ldr	r5, [r3, #16]
 5147              	.LVL601:
2630:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
 5148              		.loc 1 2630 39 is_stmt 1 view .LVU1698
2630:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
 5149              		.loc 1 2630 47 is_stmt 0 view .LVU1699
 5150 0012 0024     		movs	r4, #0
2630:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
ARM GAS  /tmp/ccBfkcjf.s 			page 218


 5151              		.loc 1 2630 42 view .LVU1700
 5152 0014 2346     		mov	r3, r4
 5153 0016 1DE0     		b	.L394
 5154              	.LVL602:
 5155              	.L391:
2635:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 5156              		.loc 1 2635 42 is_stmt 1 discriminator 2 view .LVU1701
2635:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 5157              		.loc 1 2635 44 is_stmt 0 discriminator 2 view .LVU1702
 5158 0018 0137     		adds	r7, r7, #1
 5159              	.LVL603:
 5160              	.L389:
2635:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 5161              		.loc 1 2635 10 is_stmt 1 discriminator 1 view .LVU1703
2635:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 5162              		.loc 1 2635 12 is_stmt 0 discriminator 1 view .LVU1704
 5163 001a 19F80730 		ldrb	r3, [r9, r7]	@ zero_extendqisi2
2635:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 5164              		.loc 1 2635 10 discriminator 1 view .LVU1705
 5165 001e 5C2B     		cmp	r3, #92
 5166 0020 18BF     		it	ne
 5167 0022 2F2B     		cmpne	r3, #47
 5168 0024 F8D0     		beq	.L391
 5169              	.L388:
2652:Middlewares/Third_Party/FatFs/src/ff.c **** 	cf = (w < ' ') ? NS_LAST : 0;		/* Set last segment flag if end of the path */
 5170              		.loc 1 2652 2 is_stmt 1 view .LVU1706
2652:Middlewares/Third_Party/FatFs/src/ff.c **** 	cf = (w < ' ') ? NS_LAST : 0;		/* Set last segment flag if end of the path */
 5171              		.loc 1 2652 10 is_stmt 0 view .LVU1707
 5172 0026 4F44     		add	r7, r7, r9
 5173              	.LVL604:
2652:Middlewares/Third_Party/FatFs/src/ff.c **** 	cf = (w < ' ') ? NS_LAST : 0;		/* Set last segment flag if end of the path */
 5174              		.loc 1 2652 8 view .LVU1708
 5175 0028 CAF80070 		str	r7, [r10]
2653:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
 5176              		.loc 1 2653 2 is_stmt 1 view .LVU1709
2653:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
 5177              		.loc 1 2653 5 is_stmt 0 view .LVU1710
 5178 002c 1F28     		cmp	r0, #31
 5179 002e 2ED8     		bhi	.L428
 5180 0030 4FF00409 		mov	r9, #4
 5181              	.LVL605:
 5182              	.L396:
2664:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = lfn[di - 1];
 5183              		.loc 1 2664 8 is_stmt 1 view .LVU1711
 5184 0034 74B3     		cbz	r4, .L397
2665:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w != ' ' && w != '.') break;
 5185              		.loc 1 2665 3 view .LVU1712
2665:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w != ' ' && w != '.') break;
 5186              		.loc 1 2665 10 is_stmt 0 view .LVU1713
 5187 0036 6FF00043 		mvn	r3, #-2147483648
 5188 003a 2344     		add	r3, r3, r4
2665:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w != ' ' && w != '.') break;
 5189              		.loc 1 2665 5 view .LVU1714
 5190 003c 35F81330 		ldrh	r3, [r5, r3, lsl #1]
 5191              	.LVL606:
2666:Middlewares/Third_Party/FatFs/src/ff.c **** 		di--;
 5192              		.loc 1 2666 3 is_stmt 1 view .LVU1715
ARM GAS  /tmp/ccBfkcjf.s 			page 219


2666:Middlewares/Third_Party/FatFs/src/ff.c **** 		di--;
 5193              		.loc 1 2666 6 is_stmt 0 view .LVU1716
 5194 0040 202B     		cmp	r3, #32
 5195 0042 18BF     		it	ne
 5196 0044 2E2B     		cmpne	r3, #46
 5197 0046 25D1     		bne	.L397
2667:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5198              		.loc 1 2667 3 is_stmt 1 view .LVU1717
2667:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5199              		.loc 1 2667 5 is_stmt 0 view .LVU1718
 5200 0048 013C     		subs	r4, r4, #1
 5201              	.LVL607:
2667:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5202              		.loc 1 2667 5 view .LVU1719
 5203 004a F3E7     		b	.L396
 5204              	.LVL608:
 5205              	.L393:
2650:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5206              		.loc 1 2650 3 is_stmt 1 view .LVU1720
2650:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5207              		.loc 1 2650 13 is_stmt 0 view .LVU1721
 5208 004c 25F81460 		strh	r6, [r5, r4, lsl #1]	@ movhi
2631:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = p[si++];					/* Get a character */
 5209              		.loc 1 2631 8 is_stmt 1 view .LVU1722
2650:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5210              		.loc 1 2650 9 is_stmt 0 view .LVU1723
 5211 0050 0134     		adds	r4, r4, #1
 5212              	.LVL609:
2632:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w < ' ') break;				/* Break if end of the path name */
 5213              		.loc 1 2632 11 view .LVU1724
 5214 0052 3B46     		mov	r3, r7
 5215              	.LVL610:
 5216              	.L394:
2631:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = p[si++];					/* Get a character */
 5217              		.loc 1 2631 2 is_stmt 1 view .LVU1725
2632:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w < ' ') break;				/* Break if end of the path name */
 5218              		.loc 1 2632 3 view .LVU1726
2632:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w < ' ') break;				/* Break if end of the path name */
 5219              		.loc 1 2632 11 is_stmt 0 view .LVU1727
 5220 0054 5F1C     		adds	r7, r3, #1
 5221              	.LVL611:
2632:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w < ' ') break;				/* Break if end of the path name */
 5222              		.loc 1 2632 5 view .LVU1728
 5223 0056 19F80300 		ldrb	r0, [r9, r3]	@ zero_extendqisi2
 5224              	.LVL612:
2633:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w == '/' || w == '\\') {	/* Break if a separator is found */
 5225              		.loc 1 2633 3 is_stmt 1 view .LVU1729
2633:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w == '/' || w == '\\') {	/* Break if a separator is found */
 5226              		.loc 1 2633 6 is_stmt 0 view .LVU1730
 5227 005a 1F28     		cmp	r0, #31
 5228 005c E3D9     		bls	.L388
2634:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (p[si] == '/' || p[si] == '\\') si++;	/* Skip duplicated separator if exist */
 5229              		.loc 1 2634 3 is_stmt 1 view .LVU1731
2634:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (p[si] == '/' || p[si] == '\\') si++;	/* Skip duplicated separator if exist */
 5230              		.loc 1 2634 6 is_stmt 0 view .LVU1732
 5231 005e 5C28     		cmp	r0, #92
 5232 0060 18BF     		it	ne
ARM GAS  /tmp/ccBfkcjf.s 			page 220


 5233 0062 2F28     		cmpne	r0, #47
 5234 0064 D9D0     		beq	.L389
2638:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
 5235              		.loc 1 2638 3 is_stmt 1 view .LVU1733
2638:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
 5236              		.loc 1 2638 6 is_stmt 0 view .LVU1734
 5237 0066 FE2C     		cmp	r4, #254
 5238 0068 00F2D780 		bhi	.L425
2640:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(w)) {				/* Check if it is a DBC 1st byte (always false on SBCS cfg) */
 5239              		.loc 1 2640 3 is_stmt 1 view .LVU1735
2641:Middlewares/Third_Party/FatFs/src/ff.c **** 			b = (BYTE)p[si++];			/* Get 2nd byte */
 5240              		.loc 1 2641 3 view .LVU1736
2646:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!w) return FR_INVALID_NAME;	/* Reject invalid code */
 5241              		.loc 1 2646 3 view .LVU1737
2646:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!w) return FR_INVALID_NAME;	/* Reject invalid code */
 5242              		.loc 1 2646 7 is_stmt 0 view .LVU1738
 5243 006c 0121     		movs	r1, #1
 5244 006e FFF7FEFF 		bl	ff_convert
 5245              	.LVL613:
2647:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5246              		.loc 1 2647 3 is_stmt 1 view .LVU1739
2647:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5247              		.loc 1 2647 6 is_stmt 0 view .LVU1740
 5248 0072 0646     		mov	r6, r0
 5249 0074 0028     		cmp	r0, #0
 5250 0076 00F0D280 		beq	.L426
2649:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfn[di++] = w;					/* Store the Unicode character */
 5251              		.loc 1 2649 3 is_stmt 1 view .LVU1741
2649:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfn[di++] = w;					/* Store the Unicode character */
 5252              		.loc 1 2649 6 is_stmt 0 view .LVU1742
 5253 007a 7F28     		cmp	r0, #127
 5254 007c E6D8     		bhi	.L393
2649:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfn[di++] = w;					/* Store the Unicode character */
 5255              		.loc 1 2649 19 discriminator 1 view .LVU1743
 5256 007e 0146     		mov	r1, r0
 5257 0080 6948     		ldr	r0, .L442
 5258              	.LVL614:
2649:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfn[di++] = w;					/* Store the Unicode character */
 5259              		.loc 1 2649 19 discriminator 1 view .LVU1744
 5260 0082 FFF7FEFF 		bl	chk_chr
 5261              	.LVL615:
2649:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfn[di++] = w;					/* Store the Unicode character */
 5262              		.loc 1 2649 16 discriminator 1 view .LVU1745
 5263 0086 0028     		cmp	r0, #0
 5264 0088 E0D0     		beq	.L393
2649:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfn[di++] = w;					/* Store the Unicode character */
 5265              		.loc 1 2649 55 view .LVU1746
 5266 008a 0620     		movs	r0, #6
 5267 008c 6FE0     		b	.L392
 5268              	.LVL616:
 5269              	.L428:
2653:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
 5270              		.loc 1 2653 5 view .LVU1747
 5271 008e 4FF00009 		mov	r9, #0
 5272              	.LVL617:
2664:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = lfn[di - 1];
 5273              		.loc 1 2664 2 is_stmt 1 view .LVU1748
ARM GAS  /tmp/ccBfkcjf.s 			page 221


2664:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = lfn[di - 1];
 5274              		.loc 1 2664 8 is_stmt 0 view .LVU1749
 5275 0092 CFE7     		b	.L396
 5276              	.LVL618:
 5277              	.L397:
2669:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (di == 0) return FR_INVALID_NAME;	/* Reject nul name */
 5278              		.loc 1 2669 2 is_stmt 1 view .LVU1750
2669:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (di == 0) return FR_INVALID_NAME;	/* Reject nul name */
 5279              		.loc 1 2669 10 is_stmt 0 view .LVU1751
 5280 0094 0023     		movs	r3, #0
 5281 0096 25F81430 		strh	r3, [r5, r4, lsl #1]	@ movhi
2670:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5282              		.loc 1 2670 2 is_stmt 1 view .LVU1752
2670:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5283              		.loc 1 2670 5 is_stmt 0 view .LVU1753
 5284 009a 002C     		cmp	r4, #0
 5285 009c 00F0C180 		beq	.L429
2673:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (si = 0; lfn[si] == ' ' || lfn[si] == '.'; si++) ;	/* Strip leading spaces and dots */
 5286              		.loc 1 2673 2 is_stmt 1 view .LVU1754
 5287 00a0 0B22     		movs	r2, #11
 5288 00a2 2021     		movs	r1, #32
 5289 00a4 08F12400 		add	r0, r8, #36
 5290 00a8 FFF7FEFF 		bl	mem_set
 5291              	.LVL619:
2674:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (si) cf |= NS_LOSS | NS_LFN;
 5292              		.loc 1 2674 2 view .LVU1755
2674:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (si) cf |= NS_LOSS | NS_LFN;
 5293              		.loc 1 2674 10 is_stmt 0 view .LVU1756
 5294 00ac 0023     		movs	r3, #0
 5295              	.LVL620:
 5296              	.L399:
2674:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (si) cf |= NS_LOSS | NS_LFN;
 5297              		.loc 1 2674 15 is_stmt 1 discriminator 1 view .LVU1757
2674:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (si) cf |= NS_LOSS | NS_LFN;
 5298              		.loc 1 2674 18 is_stmt 0 discriminator 1 view .LVU1758
 5299 00ae 35F81320 		ldrh	r2, [r5, r3, lsl #1]
2674:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (si) cf |= NS_LOSS | NS_LFN;
 5300              		.loc 1 2674 2 discriminator 1 view .LVU1759
 5301 00b2 2E2A     		cmp	r2, #46
 5302 00b4 18BF     		it	ne
 5303 00b6 202A     		cmpne	r2, #32
 5304 00b8 01D1     		bne	.L433
2674:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (si) cf |= NS_LOSS | NS_LFN;
 5305              		.loc 1 2674 55 is_stmt 1 discriminator 3 view .LVU1760
2674:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (si) cf |= NS_LOSS | NS_LFN;
 5306              		.loc 1 2674 49 discriminator 3 view .LVU1761
2674:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (si) cf |= NS_LOSS | NS_LFN;
 5307              		.loc 1 2674 51 is_stmt 0 discriminator 3 view .LVU1762
 5308 00ba 0133     		adds	r3, r3, #1
 5309              	.LVL621:
2674:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (si) cf |= NS_LOSS | NS_LFN;
 5310              		.loc 1 2674 51 discriminator 3 view .LVU1763
 5311 00bc F7E7     		b	.L399
 5312              	.L433:
2675:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (di && lfn[di - 1] != '.') di--;	/* Find extension (di<=si: no extension) */
 5313              		.loc 1 2675 2 is_stmt 1 view .LVU1764
2675:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (di && lfn[di - 1] != '.') di--;	/* Find extension (di<=si: no extension) */
ARM GAS  /tmp/ccBfkcjf.s 			page 222


 5314              		.loc 1 2675 5 is_stmt 0 view .LVU1765
 5315 00be 1BB1     		cbz	r3, .L402
2675:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (di && lfn[di - 1] != '.') di--;	/* Find extension (di<=si: no extension) */
 5316              		.loc 1 2675 10 is_stmt 1 discriminator 1 view .LVU1766
2675:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (di && lfn[di - 1] != '.') di--;	/* Find extension (di<=si: no extension) */
 5317              		.loc 1 2675 13 is_stmt 0 discriminator 1 view .LVU1767
 5318 00c0 49F00309 		orr	r9, r9, #3
 5319              	.LVL622:
2675:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (di && lfn[di - 1] != '.') di--;	/* Find extension (di<=si: no extension) */
 5320              		.loc 1 2675 13 discriminator 1 view .LVU1768
 5321 00c4 00E0     		b	.L402
 5322              	.L404:
2676:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5323              		.loc 1 2676 35 is_stmt 1 discriminator 3 view .LVU1769
2676:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5324              		.loc 1 2676 37 is_stmt 0 discriminator 3 view .LVU1770
 5325 00c6 013C     		subs	r4, r4, #1
 5326              	.LVL623:
 5327              	.L402:
2676:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5328              		.loc 1 2676 8 is_stmt 1 discriminator 1 view .LVU1771
 5329 00c8 6CB1     		cbz	r4, .L430
2676:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5330              		.loc 1 2676 18 is_stmt 0 discriminator 2 view .LVU1772
 5331 00ca 6FF00042 		mvn	r2, #-2147483648
 5332 00ce 2244     		add	r2, r2, r4
 5333 00d0 35F81220 		ldrh	r2, [r5, r2, lsl #1]
2676:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5334              		.loc 1 2676 12 discriminator 2 view .LVU1773
 5335 00d4 2E2A     		cmp	r2, #46
 5336 00d6 F6D1     		bne	.L404
 5337 00d8 4FF0080B 		mov	fp, #8
 5338 00dc 4FF0000A 		mov	r10, #0
 5339              	.LVL624:
2676:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5340              		.loc 1 2676 12 discriminator 2 view .LVU1774
 5341 00e0 CDF804A0 		str	r10, [sp, #4]
 5342 00e4 08E0     		b	.L405
 5343              	.LVL625:
 5344              	.L430:
2676:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5345              		.loc 1 2676 12 discriminator 2 view .LVU1775
 5346 00e6 A246     		mov	r10, r4
 5347              	.LVL626:
2676:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5348              		.loc 1 2676 12 discriminator 2 view .LVU1776
 5349 00e8 4FF0080B 		mov	fp, #8
 5350 00ec 0022     		movs	r2, #0
 5351 00ee 0192     		str	r2, [sp, #4]
 5352 00f0 02E0     		b	.L405
 5353              	.LVL627:
 5354              	.L407:
2683:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5355              		.loc 1 2683 4 is_stmt 1 view .LVU1777
2683:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5356              		.loc 1 2683 7 is_stmt 0 view .LVU1778
 5357 00f2 49F00309 		orr	r9, r9, #3
ARM GAS  /tmp/ccBfkcjf.s 			page 223


 5358              	.LVL628:
2683:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5359              		.loc 1 2683 28 is_stmt 1 view .LVU1779
2680:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!w) break;					/* Break on end of the LFN */
 5360              		.loc 1 2680 13 is_stmt 0 view .LVU1780
 5361 00f6 3B46     		mov	r3, r7
 5362              	.LVL629:
 5363              	.L405:
2679:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = lfn[si++];					/* Get an LFN character */
 5364              		.loc 1 2679 2 is_stmt 1 view .LVU1781
2680:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!w) break;					/* Break on end of the LFN */
 5365              		.loc 1 2680 3 view .LVU1782
2680:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!w) break;					/* Break on end of the LFN */
 5366              		.loc 1 2680 13 is_stmt 0 view .LVU1783
 5367 00f8 5F1C     		adds	r7, r3, #1
 5368              	.LVL630:
2680:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!w) break;					/* Break on end of the LFN */
 5369              		.loc 1 2680 5 view .LVU1784
 5370 00fa 35F81360 		ldrh	r6, [r5, r3, lsl #1]
 5371              	.LVL631:
2681:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w == ' ' || (w == '.' && si != di)) {	/* Remove spaces and dots */
 5372              		.loc 1 2681 3 is_stmt 1 view .LVU1785
2681:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w == ' ' || (w == '.' && si != di)) {	/* Remove spaces and dots */
 5373              		.loc 1 2681 6 is_stmt 0 view .LVU1786
 5374 00fe BEB1     		cbz	r6, .L406
2682:Middlewares/Third_Party/FatFs/src/ff.c **** 			cf |= NS_LOSS | NS_LFN; continue;
 5375              		.loc 1 2682 3 is_stmt 1 view .LVU1787
2682:Middlewares/Third_Party/FatFs/src/ff.c **** 			cf |= NS_LOSS | NS_LFN; continue;
 5376              		.loc 1 2682 6 is_stmt 0 view .LVU1788
 5377 0100 202E     		cmp	r6, #32
 5378 0102 F6D0     		beq	.L407
2682:Middlewares/Third_Party/FatFs/src/ff.c **** 			cf |= NS_LOSS | NS_LFN; continue;
 5379              		.loc 1 2682 29 discriminator 1 view .LVU1789
 5380 0104 2E2E     		cmp	r6, #46
 5381 0106 14BF     		ite	ne
 5382 0108 0023     		movne	r3, #0
 5383 010a 0123     		moveq	r3, #1
 5384 010c BC42     		cmp	r4, r7
 5385 010e 08BF     		it	eq
 5386 0110 0023     		moveq	r3, #0
2682:Middlewares/Third_Party/FatFs/src/ff.c **** 			cf |= NS_LOSS | NS_LFN; continue;
 5387              		.loc 1 2682 16 discriminator 1 view .LVU1790
 5388 0112 002B     		cmp	r3, #0
 5389 0114 EDD1     		bne	.L407
2686:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni == 11) {				/* Long extension */
 5390              		.loc 1 2686 3 is_stmt 1 view .LVU1791
2686:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni == 11) {				/* Long extension */
 5391              		.loc 1 2686 6 is_stmt 0 view .LVU1792
 5392 0116 BC42     		cmp	r4, r7
 5393 0118 18BF     		it	ne
 5394 011a DA45     		cmpne	r10, fp
 5395 011c 37D3     		bcc	.L410
2687:Middlewares/Third_Party/FatFs/src/ff.c **** 				cf |= NS_LOSS | NS_LFN; break;
 5396              		.loc 1 2687 4 is_stmt 1 view .LVU1793
2687:Middlewares/Third_Party/FatFs/src/ff.c **** 				cf |= NS_LOSS | NS_LFN; break;
 5397              		.loc 1 2687 7 is_stmt 0 view .LVU1794
 5398 011e BBF10B0F 		cmp	fp, #11
ARM GAS  /tmp/ccBfkcjf.s 			page 224


 5399 0122 27D0     		beq	.L434
2690:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (si > di) break;			/* No extension */
 5400              		.loc 1 2690 4 is_stmt 1 view .LVU1795
2690:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (si > di) break;			/* No extension */
 5401              		.loc 1 2690 7 is_stmt 0 view .LVU1796
 5402 0124 BC42     		cmp	r4, r7
 5403 0126 01D0     		beq	.L412
2690:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (si > di) break;			/* No extension */
 5404              		.loc 1 2690 18 is_stmt 1 discriminator 1 view .LVU1797
2690:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (si > di) break;			/* No extension */
 5405              		.loc 1 2690 21 is_stmt 0 discriminator 1 view .LVU1798
 5406 0128 49F00309 		orr	r9, r9, #3
 5407              	.LVL632:
 5408              	.L412:
2691:Middlewares/Third_Party/FatFs/src/ff.c **** 			si = di; i = 8; ni = 11;	/* Enter extension section */
 5409              		.loc 1 2691 4 is_stmt 1 view .LVU1799
2691:Middlewares/Third_Party/FatFs/src/ff.c **** 			si = di; i = 8; ni = 11;	/* Enter extension section */
 5410              		.loc 1 2691 7 is_stmt 0 view .LVU1800
 5411 012c BC42     		cmp	r4, r7
 5412 012e 24D2     		bcs	.L435
 5413              	.L406:
2727:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5414              		.loc 1 2727 2 is_stmt 1 view .LVU1801
2727:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5415              		.loc 1 2727 12 is_stmt 0 view .LVU1802
 5416 0130 98F82430 		ldrb	r3, [r8, #36]	@ zero_extendqisi2
2727:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5417              		.loc 1 2727 5 view .LVU1803
 5418 0134 E52B     		cmp	r3, #229
 5419 0136 61D0     		beq	.L436
 5420              	.L419:
2729:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x0C || (b & 0x03) == 0x03) cf |= NS_LFN;	/* Create LFN entry when there are com
 5421              		.loc 1 2729 2 is_stmt 1 view .LVU1804
2729:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x0C || (b & 0x03) == 0x03) cf |= NS_LFN;	/* Create LFN entry when there are com
 5422              		.loc 1 2729 5 is_stmt 0 view .LVU1805
 5423 0138 BBF1080F 		cmp	fp, #8
 5424 013c 62D0     		beq	.L437
 5425              	.L420:
2730:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(cf & NS_LFN)) {						/* When LFN is in 8.3 format without extended character, NT flags are c
 5426              		.loc 1 2730 2 is_stmt 1 view .LVU1806
 5427 013e 019B     		ldr	r3, [sp, #4]
 5428 0140 03F00C02 		and	r2, r3, #12
2730:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(cf & NS_LFN)) {						/* When LFN is in 8.3 format without extended character, NT flags are c
 5429              		.loc 1 2730 5 is_stmt 0 view .LVU1807
 5430 0144 0C2A     		cmp	r2, #12
 5431 0146 03D0     		beq	.L421
2730:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(cf & NS_LFN)) {						/* When LFN is in 8.3 format without extended character, NT flags are c
 5432              		.loc 1 2730 25 discriminator 2 view .LVU1808
 5433 0148 03F00303 		and	r3, r3, #3
 5434 014c 032B     		cmp	r3, #3
 5435 014e 01D1     		bne	.L422
 5436              	.L421:
2730:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(cf & NS_LFN)) {						/* When LFN is in 8.3 format without extended character, NT flags are c
 5437              		.loc 1 2730 48 is_stmt 1 discriminator 3 view .LVU1809
2730:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(cf & NS_LFN)) {						/* When LFN is in 8.3 format without extended character, NT flags are c
 5438              		.loc 1 2730 51 is_stmt 0 discriminator 3 view .LVU1810
 5439 0150 49F00209 		orr	r9, r9, #2
ARM GAS  /tmp/ccBfkcjf.s 			page 225


 5440              	.LVL633:
 5441              	.L422:
2731:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((b & 0x03) == 0x01) cf |= NS_EXT;	/* NT flag (Extension has only small capital) */
 5442              		.loc 1 2731 2 is_stmt 1 view .LVU1811
2731:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((b & 0x03) == 0x01) cf |= NS_EXT;	/* NT flag (Extension has only small capital) */
 5443              		.loc 1 2731 5 is_stmt 0 view .LVU1812
 5444 0154 19F0020F 		tst	r9, #2
 5445 0158 06D1     		bne	.L423
2732:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((b & 0x0C) == 0x04) cf |= NS_BODY;	/* NT flag (Filename has only small capital) */
 5446              		.loc 1 2732 3 is_stmt 1 view .LVU1813
2732:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((b & 0x0C) == 0x04) cf |= NS_BODY;	/* NT flag (Filename has only small capital) */
 5447              		.loc 1 2732 6 is_stmt 0 view .LVU1814
 5448 015a 019B     		ldr	r3, [sp, #4]
 5449 015c 03F00303 		and	r3, r3, #3
 5450 0160 012B     		cmp	r3, #1
 5451 0162 54D0     		beq	.L438
 5452              	.L424:
2733:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5453              		.loc 1 2733 3 is_stmt 1 view .LVU1815
2733:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5454              		.loc 1 2733 6 is_stmt 0 view .LVU1816
 5455 0164 042A     		cmp	r2, #4
 5456 0166 55D0     		beq	.L439
 5457              	.L423:
2736:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5458              		.loc 1 2736 2 is_stmt 1 view .LVU1817
2736:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5459              		.loc 1 2736 17 is_stmt 0 view .LVU1818
 5460 0168 88F82F90 		strb	r9, [r8, #47]
2738:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5461              		.loc 1 2738 2 is_stmt 1 view .LVU1819
2738:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5462              		.loc 1 2738 9 is_stmt 0 view .LVU1820
 5463 016c 0020     		movs	r0, #0
 5464              	.LVL634:
 5465              	.L392:
2803:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5466              		.loc 1 2803 1 view .LVU1821
 5467 016e 03B0     		add	sp, sp, #12
 5468              	.LCFI37:
 5469              		.cfi_remember_state
 5470              		.cfi_def_cfa_offset 36
 5471              		@ sp needed
 5472 0170 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 5473              	.LVL635:
 5474              	.L434:
 5475              	.LCFI38:
 5476              		.cfi_restore_state
2688:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5477              		.loc 1 2688 5 is_stmt 1 view .LVU1822
2688:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5478              		.loc 1 2688 8 is_stmt 0 view .LVU1823
 5479 0174 49F00309 		orr	r9, r9, #3
 5480              	.LVL636:
2688:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5481              		.loc 1 2688 29 is_stmt 1 view .LVU1824
2688:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
ARM GAS  /tmp/ccBfkcjf.s 			page 226


 5482              		.loc 1 2688 5 is_stmt 0 view .LVU1825
 5483 0178 DAE7     		b	.L406
 5484              	.L435:
2692:Middlewares/Third_Party/FatFs/src/ff.c **** 			b <<= 2; continue;
 5485              		.loc 1 2692 4 is_stmt 1 view .LVU1826
 5486              	.LVL637:
2692:Middlewares/Third_Party/FatFs/src/ff.c **** 			b <<= 2; continue;
 5487              		.loc 1 2692 13 view .LVU1827
2692:Middlewares/Third_Party/FatFs/src/ff.c **** 			b <<= 2; continue;
 5488              		.loc 1 2692 20 view .LVU1828
2693:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5489              		.loc 1 2693 4 view .LVU1829
2693:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5490              		.loc 1 2693 6 is_stmt 0 view .LVU1830
 5491 017a 019B     		ldr	r3, [sp, #4]
 5492 017c 9B00     		lsls	r3, r3, #2
 5493 017e DBB2     		uxtb	r3, r3
 5494 0180 0193     		str	r3, [sp, #4]
 5495              	.LVL638:
2693:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5496              		.loc 1 2693 13 is_stmt 1 view .LVU1831
2692:Middlewares/Third_Party/FatFs/src/ff.c **** 			b <<= 2; continue;
 5497              		.loc 1 2692 7 is_stmt 0 view .LVU1832
 5498 0182 2346     		mov	r3, r4
2692:Middlewares/Third_Party/FatFs/src/ff.c **** 			b <<= 2; continue;
 5499              		.loc 1 2692 23 view .LVU1833
 5500 0184 4FF00B0B 		mov	fp, #11
2692:Middlewares/Third_Party/FatFs/src/ff.c **** 			b <<= 2; continue;
 5501              		.loc 1 2692 15 view .LVU1834
 5502 0188 4FF0080A 		mov	r10, #8
2693:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5503              		.loc 1 2693 4 view .LVU1835
 5504 018c B4E7     		b	.L405
 5505              	.LVL639:
 5506              	.L410:
2696:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
 5507              		.loc 1 2696 3 is_stmt 1 view .LVU1836
2696:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
 5508              		.loc 1 2696 6 is_stmt 0 view .LVU1837
 5509 018e 7F2E     		cmp	r6, #127
 5510 0190 0BD8     		bhi	.L440
 5511              	.L413:
2706:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= ni - 1) {
 5512              		.loc 1 2706 3 is_stmt 1 view .LVU1838
2712:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = '_'; cf |= NS_LOSS | NS_LFN;/* Lossy conversion */
 5513              		.loc 1 2712 4 view .LVU1839
2712:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = '_'; cf |= NS_LOSS | NS_LFN;/* Lossy conversion */
 5514              		.loc 1 2712 7 is_stmt 0 view .LVU1840
 5515 0192 BEB9     		cbnz	r6, .L441
 5516              	.L415:
2713:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 5517              		.loc 1 2713 5 is_stmt 1 view .LVU1841
 5518              	.LVL640:
2713:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 5519              		.loc 1 2713 14 view .LVU1842
2713:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 5520              		.loc 1 2713 17 is_stmt 0 view .LVU1843
ARM GAS  /tmp/ccBfkcjf.s 			page 227


 5521 0194 49F00309 		orr	r9, r9, #3
 5522              	.LVL641:
2713:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 5523              		.loc 1 2713 7 view .LVU1844
 5524 0198 5F26     		movs	r6, #95
 5525              	.LVL642:
 5526              	.L417:
2724:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5527              		.loc 1 2724 3 is_stmt 1 view .LVU1845
2724:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5528              		.loc 1 2724 15 is_stmt 0 view .LVU1846
 5529 019a 08EB0A03 		add	r3, r8, r10
 5530 019e 83F82460 		strb	r6, [r3, #36]
2680:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!w) break;					/* Break on end of the LFN */
 5531              		.loc 1 2680 13 view .LVU1847
 5532 01a2 3B46     		mov	r3, r7
2724:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5533              		.loc 1 2724 11 view .LVU1848
 5534 01a4 0AF1010A 		add	r10, r10, #1
 5535              	.LVL643:
2724:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5536              		.loc 1 2724 11 view .LVU1849
 5537 01a8 A6E7     		b	.L405
 5538              	.L440:
2698:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (w) w = ExCvt[w - 0x80];	/* Convert extended character to upper (SBCS) */
 5539              		.loc 1 2698 4 is_stmt 1 view .LVU1850
2698:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (w) w = ExCvt[w - 0x80];	/* Convert extended character to upper (SBCS) */
 5540              		.loc 1 2698 8 is_stmt 0 view .LVU1851
 5541 01aa 0021     		movs	r1, #0
 5542 01ac 3046     		mov	r0, r6
 5543 01ae FFF7FEFF 		bl	ff_convert
 5544              	.LVL644:
2699:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5545              		.loc 1 2699 4 is_stmt 1 view .LVU1852
2699:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5546              		.loc 1 2699 7 is_stmt 0 view .LVU1853
 5547 01b2 0646     		mov	r6, r0
 5548 01b4 18B1     		cbz	r0, .L414
2699:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5549              		.loc 1 2699 11 is_stmt 1 discriminator 1 view .LVU1854
2699:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5550              		.loc 1 2699 23 is_stmt 0 discriminator 1 view .LVU1855
 5551 01b6 A0F18006 		sub	r6, r0, #128
2699:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5552              		.loc 1 2699 13 discriminator 1 view .LVU1856
 5553 01ba 1C4B     		ldr	r3, .L442+4
 5554 01bc 9E5D     		ldrb	r6, [r3, r6]	@ zero_extendqisi2
 5555              	.LVL645:
 5556              	.L414:
2703:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5557              		.loc 1 2703 4 is_stmt 1 view .LVU1857
2703:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5558              		.loc 1 2703 7 is_stmt 0 view .LVU1858
 5559 01be 49F00209 		orr	r9, r9, #2
 5560              	.LVL646:
2703:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5561              		.loc 1 2703 7 view .LVU1859
ARM GAS  /tmp/ccBfkcjf.s 			page 228


 5562 01c2 E6E7     		b	.L413
 5563              	.L441:
2712:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = '_'; cf |= NS_LOSS | NS_LFN;/* Lossy conversion */
 5564              		.loc 1 2712 14 discriminator 1 view .LVU1860
 5565 01c4 3146     		mov	r1, r6
 5566 01c6 1A48     		ldr	r0, .L442+8
 5567 01c8 FFF7FEFF 		bl	chk_chr
 5568              	.LVL647:
2712:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = '_'; cf |= NS_LOSS | NS_LFN;/* Lossy conversion */
 5569              		.loc 1 2712 11 discriminator 1 view .LVU1861
 5570 01cc 0028     		cmp	r0, #0
 5571 01ce E1D1     		bne	.L415
2715:Middlewares/Third_Party/FatFs/src/ff.c **** 					b |= 2;
 5572              		.loc 1 2715 5 is_stmt 1 view .LVU1862
2715:Middlewares/Third_Party/FatFs/src/ff.c **** 					b |= 2;
 5573              		.loc 1 2715 9 is_stmt 0 view .LVU1863
 5574 01d0 A6F14103 		sub	r3, r6, #65
 5575 01d4 9BB2     		uxth	r3, r3
2715:Middlewares/Third_Party/FatFs/src/ff.c **** 					b |= 2;
 5576              		.loc 1 2715 8 view .LVU1864
 5577 01d6 192B     		cmp	r3, #25
 5578 01d8 04D8     		bhi	.L418
2716:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 5579              		.loc 1 2716 6 is_stmt 1 view .LVU1865
2716:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 5580              		.loc 1 2716 8 is_stmt 0 view .LVU1866
 5581 01da 019B     		ldr	r3, [sp, #4]
 5582 01dc 43F00203 		orr	r3, r3, #2
 5583 01e0 0193     		str	r3, [sp, #4]
 5584              	.LVL648:
2716:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 5585              		.loc 1 2716 8 view .LVU1867
 5586 01e2 DAE7     		b	.L417
 5587              	.L418:
2718:Middlewares/Third_Party/FatFs/src/ff.c **** 						b |= 1; w -= 0x20;
 5588              		.loc 1 2718 6 is_stmt 1 view .LVU1868
2718:Middlewares/Third_Party/FatFs/src/ff.c **** 						b |= 1; w -= 0x20;
 5589              		.loc 1 2718 10 is_stmt 0 view .LVU1869
 5590 01e4 A6F16103 		sub	r3, r6, #97
 5591 01e8 9BB2     		uxth	r3, r3
2718:Middlewares/Third_Party/FatFs/src/ff.c **** 						b |= 1; w -= 0x20;
 5592              		.loc 1 2718 9 view .LVU1870
 5593 01ea 192B     		cmp	r3, #25
 5594 01ec D5D8     		bhi	.L417
2719:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 5595              		.loc 1 2719 7 is_stmt 1 view .LVU1871
2719:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 5596              		.loc 1 2719 9 is_stmt 0 view .LVU1872
 5597 01ee 019B     		ldr	r3, [sp, #4]
 5598 01f0 43F00103 		orr	r3, r3, #1
 5599 01f4 0193     		str	r3, [sp, #4]
 5600              	.LVL649:
2719:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 5601              		.loc 1 2719 15 is_stmt 1 view .LVU1873
2719:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 5602              		.loc 1 2719 17 is_stmt 0 view .LVU1874
 5603 01f6 203E     		subs	r6, r6, #32
ARM GAS  /tmp/ccBfkcjf.s 			page 229


 5604              	.LVL650:
2719:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 5605              		.loc 1 2719 17 view .LVU1875
 5606 01f8 B6B2     		uxth	r6, r6
 5607              	.LVL651:
2719:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 5608              		.loc 1 2719 17 view .LVU1876
 5609 01fa CEE7     		b	.L417
 5610              	.L436:
2727:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5611              		.loc 1 2727 25 is_stmt 1 discriminator 1 view .LVU1877
2727:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5612              		.loc 1 2727 35 is_stmt 0 discriminator 1 view .LVU1878
 5613 01fc 0523     		movs	r3, #5
 5614 01fe 88F82430 		strb	r3, [r8, #36]
 5615 0202 99E7     		b	.L419
 5616              	.L437:
2729:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x0C || (b & 0x03) == 0x03) cf |= NS_LFN;	/* Create LFN entry when there are com
 5617              		.loc 1 2729 15 is_stmt 1 discriminator 1 view .LVU1879
2729:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x0C || (b & 0x03) == 0x03) cf |= NS_LFN;	/* Create LFN entry when there are com
 5618              		.loc 1 2729 17 is_stmt 0 discriminator 1 view .LVU1880
 5619 0204 019B     		ldr	r3, [sp, #4]
 5620 0206 9B00     		lsls	r3, r3, #2
 5621 0208 DBB2     		uxtb	r3, r3
 5622 020a 0193     		str	r3, [sp, #4]
 5623              	.LVL652:
2729:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x0C || (b & 0x03) == 0x03) cf |= NS_LFN;	/* Create LFN entry when there are com
 5624              		.loc 1 2729 17 discriminator 1 view .LVU1881
 5625 020c 97E7     		b	.L420
 5626              	.L438:
2732:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((b & 0x0C) == 0x04) cf |= NS_BODY;	/* NT flag (Filename has only small capital) */
 5627              		.loc 1 2732 27 is_stmt 1 discriminator 1 view .LVU1882
2732:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((b & 0x0C) == 0x04) cf |= NS_BODY;	/* NT flag (Filename has only small capital) */
 5628              		.loc 1 2732 30 is_stmt 0 discriminator 1 view .LVU1883
 5629 020e 49F01009 		orr	r9, r9, #16
 5630              	.LVL653:
2732:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((b & 0x0C) == 0x04) cf |= NS_BODY;	/* NT flag (Filename has only small capital) */
 5631              		.loc 1 2732 30 discriminator 1 view .LVU1884
 5632 0212 A7E7     		b	.L424
 5633              	.L439:
2733:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5634              		.loc 1 2733 27 is_stmt 1 discriminator 1 view .LVU1885
2733:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5635              		.loc 1 2733 30 is_stmt 0 discriminator 1 view .LVU1886
 5636 0214 49F00809 		orr	r9, r9, #8
 5637              	.LVL654:
2733:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5638              		.loc 1 2733 30 discriminator 1 view .LVU1887
 5639 0218 A6E7     		b	.L423
 5640              	.LVL655:
 5641              	.L425:
2638:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
 5642              		.loc 1 2638 30 view .LVU1888
 5643 021a 0620     		movs	r0, #6
 5644              	.LVL656:
2638:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
 5645              		.loc 1 2638 30 view .LVU1889
ARM GAS  /tmp/ccBfkcjf.s 			page 230


 5646 021c A7E7     		b	.L392
 5647              	.LVL657:
 5648              	.L426:
2647:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5649              		.loc 1 2647 18 view .LVU1890
 5650 021e 0620     		movs	r0, #6
 5651              	.LVL658:
2647:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5652              		.loc 1 2647 18 view .LVU1891
 5653 0220 A5E7     		b	.L392
 5654              	.LVL659:
 5655              	.L429:
2670:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5656              		.loc 1 2670 22 view .LVU1892
 5657 0222 0620     		movs	r0, #6
 5658 0224 A3E7     		b	.L392
 5659              	.L443:
 5660 0226 00BF     		.align	2
 5661              	.L442:
 5662 0228 00000000 		.word	.LC0
 5663 022c 00000000 		.word	.LANCHOR5
 5664 0230 0C000000 		.word	.LC1
 5665              		.cfi_endproc
 5666              	.LFE387:
 5668              		.section	.text.get_fileinfo,"ax",%progbits
 5669              		.align	1
 5670              		.syntax unified
 5671              		.thumb
 5672              		.thumb_func
 5673              		.fpu fpv5-d16
 5675              	get_fileinfo:
 5676              	.LVL660:
 5677              	.LFB386:
2448:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j;
 5678              		.loc 1 2448 1 is_stmt 1 view -0
 5679              		.cfi_startproc
 5680              		@ args = 0, pretend = 0, frame = 0
 5681              		@ frame_needed = 0, uses_anonymous_args = 0
2448:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j;
 5682              		.loc 1 2448 1 is_stmt 0 view .LVU1894
 5683 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 5684              	.LCFI39:
 5685              		.cfi_def_cfa_offset 24
 5686              		.cfi_offset 4, -24
 5687              		.cfi_offset 5, -20
 5688              		.cfi_offset 6, -16
 5689              		.cfi_offset 7, -12
 5690              		.cfi_offset 8, -8
 5691              		.cfi_offset 14, -4
2449:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c;
 5692              		.loc 1 2449 2 is_stmt 1 view .LVU1895
2450:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD tm;
 5693              		.loc 1 2450 2 view .LVU1896
2451:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
 5694              		.loc 1 2451 2 view .LVU1897
2453:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 5695              		.loc 1 2453 2 view .LVU1898
ARM GAS  /tmp/ccBfkcjf.s 			page 231


2454:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5696              		.loc 1 2454 2 view .LVU1899
2454:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5697              		.loc 1 2454 9 is_stmt 0 view .LVU1900
 5698 0004 D0F80080 		ldr	r8, [r0]
 5699              	.LVL661:
2458:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect) return;	/* Exit if read pointer has reached end of directory */
 5700              		.loc 1 2458 2 is_stmt 1 view .LVU1901
2458:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect) return;	/* Exit if read pointer has reached end of directory */
 5701              		.loc 1 2458 16 is_stmt 0 view .LVU1902
 5702 0008 0023     		movs	r3, #0
 5703 000a 8B75     		strb	r3, [r1, #22]
2459:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5704              		.loc 1 2459 2 is_stmt 1 view .LVU1903
2459:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5705              		.loc 1 2459 9 is_stmt 0 view .LVU1904
 5706 000c C369     		ldr	r3, [r0, #28]
2459:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5707              		.loc 1 2459 5 view .LVU1905
 5708 000e 002B     		cmp	r3, #0
 5709 0010 6BD0     		beq	.L444
 5710 0012 0646     		mov	r6, r0
 5711 0014 0C46     		mov	r4, r1
2469:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = j = 0;
 5712              		.loc 1 2469 3 is_stmt 1 view .LVU1906
2469:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = j = 0;
 5713              		.loc 1 2469 9 is_stmt 0 view .LVU1907
 5714 0016 036B     		ldr	r3, [r0, #48]
2469:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = j = 0;
 5715              		.loc 1 2469 6 view .LVU1908
 5716 0018 B3F1FF3F 		cmp	r3, #-1
 5717 001c 16D0     		beq	.L447
2470:Middlewares/Third_Party/FatFs/src/ff.c **** 			while ((w = fs->lfnbuf[j++]) != 0) {	/* Get an LFN character */
 5718              		.loc 1 2470 10 view .LVU1909
 5719 001e 0023     		movs	r3, #0
2470:Middlewares/Third_Party/FatFs/src/ff.c **** 			while ((w = fs->lfnbuf[j++]) != 0) {	/* Get an LFN character */
 5720              		.loc 1 2470 6 view .LVU1910
 5721 0020 1D46     		mov	r5, r3
 5722              	.LVL662:
 5723              	.L446:
2471:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
 5724              		.loc 1 2471 10 is_stmt 1 view .LVU1911
2471:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
 5725              		.loc 1 2471 18 is_stmt 0 view .LVU1912
 5726 0022 D8F81020 		ldr	r2, [r8, #16]
2471:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
 5727              		.loc 1 2471 28 view .LVU1913
 5728 0026 5F1C     		adds	r7, r3, #1
 5729              	.LVL663:
2471:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
 5730              		.loc 1 2471 14 view .LVU1914
 5731 0028 32F81300 		ldrh	r0, [r2, r3, lsl #1]
 5732              	.LVL664:
2471:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
 5733              		.loc 1 2471 10 view .LVU1915
 5734 002c 58B1     		cbz	r0, .L448
2473:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (w == 0) { i = 0; break; }	/* No LFN if it could not be converted */
ARM GAS  /tmp/ccBfkcjf.s 			page 232


 5735              		.loc 1 2473 5 is_stmt 1 view .LVU1916
2473:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (w == 0) { i = 0; break; }	/* No LFN if it could not be converted */
 5736              		.loc 1 2473 9 is_stmt 0 view .LVU1917
 5737 002e 0021     		movs	r1, #0
 5738 0030 FFF7FEFF 		bl	ff_convert
 5739              	.LVL665:
2474:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (_DF1S && w >= 0x100) {	/* Put 1st byte if it is a DBC (always false at SBCS cfg) */
 5740              		.loc 1 2474 5 is_stmt 1 view .LVU1918
2474:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (_DF1S && w >= 0x100) {	/* Put 1st byte if it is a DBC (always false at SBCS cfg) */
 5741              		.loc 1 2474 8 is_stmt 0 view .LVU1919
 5742 0034 30B1     		cbz	r0, .L461
2475:Middlewares/Third_Party/FatFs/src/ff.c **** 					fno->fname[i++] = (char)(w >> 8);
 5743              		.loc 1 2475 5 is_stmt 1 view .LVU1920
2479:Middlewares/Third_Party/FatFs/src/ff.c **** 				fno->fname[i++] = (TCHAR)w;
 5744              		.loc 1 2479 5 view .LVU1921
2479:Middlewares/Third_Party/FatFs/src/ff.c **** 				fno->fname[i++] = (TCHAR)w;
 5745              		.loc 1 2479 8 is_stmt 0 view .LVU1922
 5746 0036 FE2D     		cmp	r5, #254
 5747 0038 0CD8     		bhi	.L462
2480:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5748              		.loc 1 2480 5 is_stmt 1 view .LVU1923
 5749              	.LVL666:
2480:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5750              		.loc 1 2480 21 is_stmt 0 view .LVU1924
 5751 003a 6219     		adds	r2, r4, r5
 5752 003c 9075     		strb	r0, [r2, #22]
2471:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
 5753              		.loc 1 2471 28 view .LVU1925
 5754 003e 3B46     		mov	r3, r7
2480:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5755              		.loc 1 2480 17 view .LVU1926
 5756 0040 0135     		adds	r5, r5, #1
 5757              	.LVL667:
2480:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5758              		.loc 1 2480 17 view .LVU1927
 5759 0042 EEE7     		b	.L446
 5760              	.L461:
2474:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (_DF1S && w >= 0x100) {	/* Put 1st byte if it is a DBC (always false at SBCS cfg) */
 5761              		.loc 1 2474 21 view .LVU1928
 5762 0044 0025     		movs	r5, #0
 5763              	.LVL668:
 5764              	.L448:
2482:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5765              		.loc 1 2482 4 is_stmt 1 view .LVU1929
2482:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5766              		.loc 1 2482 18 is_stmt 0 view .LVU1930
 5767 0046 2544     		add	r5, r5, r4
 5768              	.LVL669:
2482:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5769              		.loc 1 2482 18 view .LVU1931
 5770 0048 0023     		movs	r3, #0
 5771 004a AB75     		strb	r3, [r5, #22]
 5772              	.LVL670:
 5773              	.L447:
2486:Middlewares/Third_Party/FatFs/src/ff.c **** 	lfv = fno->fname[i];	/* LFN is exist if non-zero */
 5774              		.loc 1 2486 2 is_stmt 1 view .LVU1932
2487:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (i < 11) {		/* Copy name body and extension */
ARM GAS  /tmp/ccBfkcjf.s 			page 233


 5775              		.loc 1 2487 2 view .LVU1933
2487:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (i < 11) {		/* Copy name body and extension */
 5776              		.loc 1 2487 6 is_stmt 0 view .LVU1934
 5777 004c A57D     		ldrb	r5, [r4, #22]	@ zero_extendqisi2
 5778              	.LVL671:
2488:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (TCHAR)dp->dir[i++];
 5779              		.loc 1 2488 2 is_stmt 1 view .LVU1935
2486:Middlewares/Third_Party/FatFs/src/ff.c **** 	lfv = fno->fname[i];	/* LFN is exist if non-zero */
 5780              		.loc 1 2486 8 is_stmt 0 view .LVU1936
 5781 004e 0022     		movs	r2, #0
2486:Middlewares/Third_Party/FatFs/src/ff.c **** 	lfv = fno->fname[i];	/* LFN is exist if non-zero */
 5782              		.loc 1 2486 4 view .LVU1937
 5783 0050 1346     		mov	r3, r2
2488:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (TCHAR)dp->dir[i++];
 5784              		.loc 1 2488 8 view .LVU1938
 5785 0052 12E0     		b	.L450
 5786              	.LVL672:
 5787              	.L462:
2479:Middlewares/Third_Party/FatFs/src/ff.c **** 				fno->fname[i++] = (TCHAR)w;
 5788              		.loc 1 2479 28 view .LVU1939
 5789 0054 0025     		movs	r5, #0
 5790              	.LVL673:
2479:Middlewares/Third_Party/FatFs/src/ff.c **** 				fno->fname[i++] = (TCHAR)w;
 5791              		.loc 1 2479 28 view .LVU1940
 5792 0056 F6E7     		b	.L448
 5793              	.LVL674:
 5794              	.L468:
2491:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 9) {						/* Insert a . if extension is exist */
 5795              		.loc 1 2491 21 view .LVU1941
 5796 0058 E523     		movs	r3, #229
 5797              	.LVL675:
2491:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 9) {						/* Insert a . if extension is exist */
 5798              		.loc 1 2491 21 view .LVU1942
 5799 005a 17E0     		b	.L452
 5800              	.LVL676:
 5801              	.L469:
2493:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno->altname[j++] = '.';
 5802              		.loc 1 2493 4 is_stmt 1 view .LVU1943
2493:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno->altname[j++] = '.';
 5803              		.loc 1 2493 7 is_stmt 0 view .LVU1944
 5804 005c 15B9     		cbnz	r5, .L454
2493:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno->altname[j++] = '.';
 5805              		.loc 1 2493 14 is_stmt 1 discriminator 1 view .LVU1945
2493:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno->altname[j++] = '.';
 5806              		.loc 1 2493 28 is_stmt 0 discriminator 1 view .LVU1946
 5807 005e A018     		adds	r0, r4, r2
 5808 0060 2E27     		movs	r7, #46
 5809 0062 8775     		strb	r7, [r0, #22]
 5810              	.L454:
2494:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5811              		.loc 1 2494 4 is_stmt 1 view .LVU1947
 5812              	.LVL677:
2494:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5813              		.loc 1 2494 22 is_stmt 0 view .LVU1948
 5814 0064 A018     		adds	r0, r4, r2
 5815 0066 2E27     		movs	r7, #46
 5816 0068 4772     		strb	r7, [r0, #9]
ARM GAS  /tmp/ccBfkcjf.s 			page 234


2494:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5817              		.loc 1 2494 18 view .LVU1949
 5818 006a 0132     		adds	r2, r2, #1
 5819              	.LVL678:
2494:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5820              		.loc 1 2494 18 view .LVU1950
 5821 006c 10E0     		b	.L453
 5822              	.L470:
2505:Middlewares/Third_Party/FatFs/src/ff.c **** 				c += 0x20;			/* To lower */
 5823              		.loc 1 2505 63 view .LVU1951
 5824 006e 1020     		movs	r0, #16
 5825 0070 1CE0     		b	.L457
 5826              	.L456:
2508:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5827              		.loc 1 2508 4 is_stmt 1 view .LVU1952
2508:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5828              		.loc 1 2508 18 is_stmt 0 view .LVU1953
 5829 0072 A018     		adds	r0, r4, r2
 5830 0074 8375     		strb	r3, [r0, #22]
 5831              	.L455:
2510:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5832              		.loc 1 2510 3 is_stmt 1 view .LVU1954
2510:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5833              		.loc 1 2510 4 is_stmt 0 view .LVU1955
 5834 0076 0132     		adds	r2, r2, #1
 5835              	.LVL679:
 5836              	.L451:
2505:Middlewares/Third_Party/FatFs/src/ff.c **** 				c += 0x20;			/* To lower */
 5837              		.loc 1 2505 63 view .LVU1956
 5838 0078 0B46     		mov	r3, r1
 5839              	.LVL680:
 5840              	.L450:
2488:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (TCHAR)dp->dir[i++];
 5841              		.loc 1 2488 8 is_stmt 1 view .LVU1957
 5842 007a 0A2B     		cmp	r3, #10
 5843 007c 1BD8     		bhi	.L467
2489:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == ' ') continue;				/* Skip padding spaces */
 5844              		.loc 1 2489 3 view .LVU1958
2489:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == ' ') continue;				/* Skip padding spaces */
 5845              		.loc 1 2489 16 is_stmt 0 view .LVU1959
 5846 007e 306A     		ldr	r0, [r6, #32]
2489:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == ' ') continue;				/* Skip padding spaces */
 5847              		.loc 1 2489 23 view .LVU1960
 5848 0080 591C     		adds	r1, r3, #1
 5849              	.LVL681:
2489:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == ' ') continue;				/* Skip padding spaces */
 5850              		.loc 1 2489 5 view .LVU1961
 5851 0082 C35C     		ldrb	r3, [r0, r3]	@ zero_extendqisi2
 5852              	.LVL682:
2490:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == RDDEM) c = (TCHAR)DDEM;	/* Restore replaced DDEM character */
 5853              		.loc 1 2490 3 is_stmt 1 view .LVU1962
2490:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == RDDEM) c = (TCHAR)DDEM;	/* Restore replaced DDEM character */
 5854              		.loc 1 2490 6 is_stmt 0 view .LVU1963
 5855 0084 202B     		cmp	r3, #32
 5856 0086 F7D0     		beq	.L451
2491:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 9) {						/* Insert a . if extension is exist */
 5857              		.loc 1 2491 3 is_stmt 1 view .LVU1964
ARM GAS  /tmp/ccBfkcjf.s 			page 235


2491:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 9) {						/* Insert a . if extension is exist */
 5858              		.loc 1 2491 6 is_stmt 0 view .LVU1965
 5859 0088 052B     		cmp	r3, #5
 5860 008a E5D0     		beq	.L468
 5861              	.LVL683:
 5862              	.L452:
2492:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!lfv) fno->fname[j] = '.';
 5863              		.loc 1 2492 3 is_stmt 1 view .LVU1966
2492:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!lfv) fno->fname[j] = '.';
 5864              		.loc 1 2492 6 is_stmt 0 view .LVU1967
 5865 008c 0929     		cmp	r1, #9
 5866 008e E5D0     		beq	.L469
 5867              	.L453:
2503:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!lfv) {
 5868              		.loc 1 2503 3 is_stmt 1 view .LVU1968
2503:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!lfv) {
 5869              		.loc 1 2503 19 is_stmt 0 view .LVU1969
 5870 0090 A018     		adds	r0, r4, r2
 5871 0092 4372     		strb	r3, [r0, #9]
2504:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsUpper(c) && (dp->dir[DIR_NTres] & ((i >= 9) ? NS_EXT : NS_BODY))) {
 5872              		.loc 1 2504 3 is_stmt 1 view .LVU1970
2504:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsUpper(c) && (dp->dir[DIR_NTres] & ((i >= 9) ? NS_EXT : NS_BODY))) {
 5873              		.loc 1 2504 6 is_stmt 0 view .LVU1971
 5874 0094 002D     		cmp	r5, #0
 5875 0096 EED1     		bne	.L455
2505:Middlewares/Third_Party/FatFs/src/ff.c **** 				c += 0x20;			/* To lower */
 5876              		.loc 1 2505 4 is_stmt 1 view .LVU1972
2505:Middlewares/Third_Party/FatFs/src/ff.c **** 				c += 0x20;			/* To lower */
 5877              		.loc 1 2505 8 is_stmt 0 view .LVU1973
 5878 0098 A3F14100 		sub	r0, r3, #65
 5879 009c C0B2     		uxtb	r0, r0
2505:Middlewares/Third_Party/FatFs/src/ff.c **** 				c += 0x20;			/* To lower */
 5880              		.loc 1 2505 7 view .LVU1974
 5881 009e 1928     		cmp	r0, #25
 5882 00a0 E7D8     		bhi	.L456
2505:Middlewares/Third_Party/FatFs/src/ff.c **** 				c += 0x20;			/* To lower */
 5883              		.loc 1 2505 25 discriminator 1 view .LVU1975
 5884 00a2 306A     		ldr	r0, [r6, #32]
2505:Middlewares/Third_Party/FatFs/src/ff.c **** 				c += 0x20;			/* To lower */
 5885              		.loc 1 2505 30 discriminator 1 view .LVU1976
 5886 00a4 077B     		ldrb	r7, [r0, #12]	@ zero_extendqisi2
2505:Middlewares/Third_Party/FatFs/src/ff.c **** 				c += 0x20;			/* To lower */
 5887              		.loc 1 2505 63 discriminator 1 view .LVU1977
 5888 00a6 0829     		cmp	r1, #8
 5889 00a8 E1D8     		bhi	.L470
2505:Middlewares/Third_Party/FatFs/src/ff.c **** 				c += 0x20;			/* To lower */
 5890              		.loc 1 2505 63 view .LVU1978
 5891 00aa 0820     		movs	r0, #8
 5892              	.L457:
2505:Middlewares/Third_Party/FatFs/src/ff.c **** 				c += 0x20;			/* To lower */
 5893              		.loc 1 2505 19 discriminator 5 view .LVU1979
 5894 00ac 0742     		tst	r7, r0
 5895 00ae E0D0     		beq	.L456
2506:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5896              		.loc 1 2506 5 is_stmt 1 view .LVU1980
2506:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5897              		.loc 1 2506 7 is_stmt 0 view .LVU1981
ARM GAS  /tmp/ccBfkcjf.s 			page 236


 5898 00b0 2033     		adds	r3, r3, #32
 5899              	.LVL684:
2506:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5900              		.loc 1 2506 7 view .LVU1982
 5901 00b2 DBB2     		uxtb	r3, r3
 5902              	.LVL685:
2506:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5903              		.loc 1 2506 7 view .LVU1983
 5904 00b4 DDE7     		b	.L456
 5905              	.LVL686:
 5906              	.L467:
2512:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fname[j] = 0;
 5907              		.loc 1 2512 2 is_stmt 1 view .LVU1984
2512:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fname[j] = 0;
 5908              		.loc 1 2512 5 is_stmt 0 view .LVU1985
 5909 00b6 35B9     		cbnz	r5, .L459
2513:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!dp->dir[DIR_NTres]) j = 0;	/* Altname is no longer needed if neither LFN nor case info is ex
 5910              		.loc 1 2513 3 is_stmt 1 view .LVU1986
2513:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!dp->dir[DIR_NTres]) j = 0;	/* Altname is no longer needed if neither LFN nor case info is ex
 5911              		.loc 1 2513 17 is_stmt 0 view .LVU1987
 5912 00b8 A318     		adds	r3, r4, r2
 5913              	.LVL687:
2513:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!dp->dir[DIR_NTres]) j = 0;	/* Altname is no longer needed if neither LFN nor case info is ex
 5914              		.loc 1 2513 17 view .LVU1988
 5915 00ba 0021     		movs	r1, #0
 5916 00bc 9975     		strb	r1, [r3, #22]
2514:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5917              		.loc 1 2514 3 is_stmt 1 view .LVU1989
2514:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5918              		.loc 1 2514 10 is_stmt 0 view .LVU1990
 5919 00be 336A     		ldr	r3, [r6, #32]
2514:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5920              		.loc 1 2514 15 view .LVU1991
 5921 00c0 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
2514:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5922              		.loc 1 2514 6 view .LVU1992
 5923 00c2 03B9     		cbnz	r3, .L459
2514:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5924              		.loc 1 2514 30 view .LVU1993
 5925 00c4 0A46     		mov	r2, r1
 5926              	.LVL688:
 5927              	.L459:
2516:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5928              		.loc 1 2516 2 is_stmt 1 view .LVU1994
2516:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5929              		.loc 1 2516 18 is_stmt 0 view .LVU1995
 5930 00c6 2244     		add	r2, r2, r4
 5931              	.LVL689:
2516:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5932              		.loc 1 2516 18 view .LVU1996
 5933 00c8 0023     		movs	r3, #0
 5934 00ca 5372     		strb	r3, [r2, #9]
2530:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fsize = ld_dword(dp->dir + DIR_FileSize);	/* Size */
 5935              		.loc 1 2530 2 is_stmt 1 view .LVU1997
2530:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fsize = ld_dword(dp->dir + DIR_FileSize);	/* Size */
 5936              		.loc 1 2530 19 is_stmt 0 view .LVU1998
 5937 00cc 336A     		ldr	r3, [r6, #32]
ARM GAS  /tmp/ccBfkcjf.s 			page 237


2530:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fsize = ld_dword(dp->dir + DIR_FileSize);	/* Size */
 5938              		.loc 1 2530 15 view .LVU1999
 5939 00ce DB7A     		ldrb	r3, [r3, #11]	@ zero_extendqisi2
 5940 00d0 2372     		strb	r3, [r4, #8]
2531:Middlewares/Third_Party/FatFs/src/ff.c **** 	tm = ld_dword(dp->dir + DIR_ModTime);			/* Timestamp */
 5941              		.loc 1 2531 2 is_stmt 1 view .LVU2000
2531:Middlewares/Third_Party/FatFs/src/ff.c **** 	tm = ld_dword(dp->dir + DIR_ModTime);			/* Timestamp */
 5942              		.loc 1 2531 26 is_stmt 0 view .LVU2001
 5943 00d2 306A     		ldr	r0, [r6, #32]
2531:Middlewares/Third_Party/FatFs/src/ff.c **** 	tm = ld_dword(dp->dir + DIR_ModTime);			/* Timestamp */
 5944              		.loc 1 2531 15 view .LVU2002
 5945 00d4 1C30     		adds	r0, r0, #28
 5946 00d6 FFF7FEFF 		bl	ld_dword
 5947              	.LVL690:
2531:Middlewares/Third_Party/FatFs/src/ff.c **** 	tm = ld_dword(dp->dir + DIR_ModTime);			/* Timestamp */
 5948              		.loc 1 2531 13 view .LVU2003
 5949 00da 2060     		str	r0, [r4]
2532:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->ftime = (WORD)tm; fno->fdate = (WORD)(tm >> 16);
 5950              		.loc 1 2532 2 is_stmt 1 view .LVU2004
2532:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->ftime = (WORD)tm; fno->fdate = (WORD)(tm >> 16);
 5951              		.loc 1 2532 18 is_stmt 0 view .LVU2005
 5952 00dc 306A     		ldr	r0, [r6, #32]
2532:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->ftime = (WORD)tm; fno->fdate = (WORD)(tm >> 16);
 5953              		.loc 1 2532 7 view .LVU2006
 5954 00de 1630     		adds	r0, r0, #22
 5955 00e0 FFF7FEFF 		bl	ld_dword
 5956              	.LVL691:
2533:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5957              		.loc 1 2533 2 is_stmt 1 view .LVU2007
2533:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5958              		.loc 1 2533 13 is_stmt 0 view .LVU2008
 5959 00e4 E080     		strh	r0, [r4, #6]	@ movhi
2533:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5960              		.loc 1 2533 25 is_stmt 1 view .LVU2009
2533:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5961              		.loc 1 2533 38 is_stmt 0 view .LVU2010
 5962 00e6 000C     		lsrs	r0, r0, #16
 5963              	.LVL692:
2533:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5964              		.loc 1 2533 36 view .LVU2011
 5965 00e8 A080     		strh	r0, [r4, #4]	@ movhi
 5966              	.LVL693:
 5967              	.L444:
2534:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5968              		.loc 1 2534 1 view .LVU2012
 5969 00ea BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
2534:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5970              		.loc 1 2534 1 view .LVU2013
 5971              		.cfi_endproc
 5972              	.LFE386:
 5974              		.section	.text.cmp_lfn,"ax",%progbits
 5975              		.align	1
 5976              		.syntax unified
 5977              		.thumb
 5978              		.thumb_func
 5979              		.fpu fpv5-d16
 5981              	cmp_lfn:
ARM GAS  /tmp/ccBfkcjf.s 			page 238


 5982              	.LVL694:
 5983              	.LFB377:
1681:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, s;
 5984              		.loc 1 1681 1 is_stmt 1 view -0
 5985              		.cfi_startproc
 5986              		@ args = 0, pretend = 0, frame = 0
 5987              		@ frame_needed = 0, uses_anonymous_args = 0
1681:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, s;
 5988              		.loc 1 1681 1 is_stmt 0 view .LVU2015
 5989 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 5990              	.LCFI40:
 5991              		.cfi_def_cfa_offset 32
 5992              		.cfi_offset 4, -32
 5993              		.cfi_offset 5, -28
 5994              		.cfi_offset 6, -24
 5995              		.cfi_offset 7, -20
 5996              		.cfi_offset 8, -16
 5997              		.cfi_offset 9, -12
 5998              		.cfi_offset 10, -8
 5999              		.cfi_offset 14, -4
 6000 0004 8146     		mov	r9, r0
 6001 0006 0F46     		mov	r7, r1
1682:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc, uc;
 6002              		.loc 1 1682 2 is_stmt 1 view .LVU2016
1683:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6003              		.loc 1 1683 2 view .LVU2017
1686:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6004              		.loc 1 1686 2 view .LVU2018
1686:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6005              		.loc 1 1686 6 is_stmt 0 view .LVU2019
 6006 0008 01F11A00 		add	r0, r1, #26
 6007              	.LVL695:
1686:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6008              		.loc 1 1686 6 view .LVU2020
 6009 000c FFF7FEFF 		bl	ld_word
 6010              	.LVL696:
1686:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6011              		.loc 1 1686 5 view .LVU2021
 6012 0010 C8BB     		cbnz	r0, .L478
1688:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6013              		.loc 1 1688 2 is_stmt 1 view .LVU2022
1688:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6014              		.loc 1 1688 11 is_stmt 0 view .LVU2023
 6015 0012 3E78     		ldrb	r6, [r7]	@ zero_extendqisi2
1688:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6016              		.loc 1 1688 22 view .LVU2024
 6017 0014 06F03F06 		and	r6, r6, #63
1688:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6018              		.loc 1 1688 30 view .LVU2025
 6019 0018 013E     		subs	r6, r6, #1
1688:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6020              		.loc 1 1688 35 view .LVU2026
 6021 001a 06EB4603 		add	r3, r6, r6, lsl #1
1688:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6022              		.loc 1 1688 4 view .LVU2027
 6023 001e 06EB8306 		add	r6, r6, r3, lsl #2
 6024              	.LVL697:
ARM GAS  /tmp/ccBfkcjf.s 			page 239


1690:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
 6025              		.loc 1 1690 2 is_stmt 1 view .LVU2028
1690:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
 6026              		.loc 1 1690 10 is_stmt 0 view .LVU2029
 6027 0022 4FF00108 		mov	r8, #1
1690:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
 6028              		.loc 1 1690 17 view .LVU2030
 6029 0026 0025     		movs	r5, #0
1690:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
 6030              		.loc 1 1690 2 view .LVU2031
 6031 0028 06E0     		b	.L473
 6032              	.LVL698:
 6033              	.L475:
1694:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6034              		.loc 1 1694 5 is_stmt 1 view .LVU2032
1694:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6035              		.loc 1 1694 12 is_stmt 0 view .LVU2033
 6036 002a 0020     		movs	r0, #0
 6037 002c 2CE0     		b	.L471
 6038              	.LVL699:
 6039              	.L474:
1698:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6040              		.loc 1 1698 4 is_stmt 1 view .LVU2034
1698:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6041              		.loc 1 1698 7 is_stmt 0 view .LVU2035
 6042 002e 4FF6FF73 		movw	r3, #65535
 6043 0032 9842     		cmp	r0, r3
 6044 0034 2AD1     		bne	.L485
 6045              	.LVL700:
 6046              	.L476:
1690:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
 6047              		.loc 1 1690 30 is_stmt 1 discriminator 2 view .LVU2036
1690:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
 6048              		.loc 1 1690 31 is_stmt 0 discriminator 2 view .LVU2037
 6049 0036 0135     		adds	r5, r5, #1
 6050              	.LVL701:
 6051              	.L473:
1690:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
 6052              		.loc 1 1690 22 is_stmt 1 discriminator 1 view .LVU2038
1690:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
 6053              		.loc 1 1690 2 is_stmt 0 discriminator 1 view .LVU2039
 6054 0038 0C2D     		cmp	r5, #12
 6055 003a 18D8     		bhi	.L486
1691:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc) {
 6056              		.loc 1 1691 3 is_stmt 1 view .LVU2040
1691:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc) {
 6057              		.loc 1 1691 28 is_stmt 0 view .LVU2041
 6058 003c 174B     		ldr	r3, .L487
 6059 003e 585D     		ldrb	r0, [r3, r5]	@ zero_extendqisi2
1691:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc) {
 6060              		.loc 1 1691 8 view .LVU2042
 6061 0040 3844     		add	r0, r0, r7
 6062 0042 FFF7FEFF 		bl	ld_word
 6063              	.LVL702:
 6064 0046 0446     		mov	r4, r0
 6065              	.LVL703:
1692:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= _MAX_LFN || ff_wtoupper(uc) != ff_wtoupper(lfnbuf[i++])) {	/* Compare it */
ARM GAS  /tmp/ccBfkcjf.s 			page 240


 6066              		.loc 1 1692 3 is_stmt 1 view .LVU2043
1692:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= _MAX_LFN || ff_wtoupper(uc) != ff_wtoupper(lfnbuf[i++])) {	/* Compare it */
 6067              		.loc 1 1692 6 is_stmt 0 view .LVU2044
 6068 0048 B8F1000F 		cmp	r8, #0
 6069 004c EFD0     		beq	.L474
1693:Middlewares/Third_Party/FatFs/src/ff.c **** 				return 0;					/* Not matched */
 6070              		.loc 1 1693 4 is_stmt 1 view .LVU2045
1693:Middlewares/Third_Party/FatFs/src/ff.c **** 				return 0;					/* Not matched */
 6071              		.loc 1 1693 7 is_stmt 0 view .LVU2046
 6072 004e FE2E     		cmp	r6, #254
 6073 0050 EBD8     		bhi	.L475
1693:Middlewares/Third_Party/FatFs/src/ff.c **** 				return 0;					/* Not matched */
 6074              		.loc 1 1693 25 discriminator 1 view .LVU2047
 6075 0052 FFF7FEFF 		bl	ff_wtoupper
 6076              	.LVL704:
1693:Middlewares/Third_Party/FatFs/src/ff.c **** 				return 0;					/* Not matched */
 6077              		.loc 1 1693 25 discriminator 1 view .LVU2048
 6078 0056 8046     		mov	r8, r0
 6079              	.LVL705:
1693:Middlewares/Third_Party/FatFs/src/ff.c **** 				return 0;					/* Not matched */
 6080              		.loc 1 1693 64 discriminator 1 view .LVU2049
 6081 0058 06F1010A 		add	r10, r6, #1
 6082              	.LVL706:
1693:Middlewares/Third_Party/FatFs/src/ff.c **** 				return 0;					/* Not matched */
 6083              		.loc 1 1693 44 discriminator 1 view .LVU2050
 6084 005c 39F81600 		ldrh	r0, [r9, r6, lsl #1]
 6085 0060 FFF7FEFF 		bl	ff_wtoupper
 6086              	.LVL707:
1693:Middlewares/Third_Party/FatFs/src/ff.c **** 				return 0;					/* Not matched */
 6087              		.loc 1 1693 22 discriminator 1 view .LVU2051
 6088 0064 8045     		cmp	r8, r0
 6089 0066 E0D1     		bne	.L475
1696:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 6090              		.loc 1 1696 7 view .LVU2052
 6091 0068 A046     		mov	r8, r4
1693:Middlewares/Third_Party/FatFs/src/ff.c **** 				return 0;					/* Not matched */
 6092              		.loc 1 1693 64 view .LVU2053
 6093 006a 5646     		mov	r6, r10
 6094 006c E3E7     		b	.L476
 6095              	.LVL708:
 6096              	.L486:
1702:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6097              		.loc 1 1702 2 is_stmt 1 view .LVU2054
1702:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6098              		.loc 1 1702 10 is_stmt 0 view .LVU2055
 6099 006e 3B78     		ldrb	r3, [r7]	@ zero_extendqisi2
1702:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6100              		.loc 1 1702 5 view .LVU2056
 6101 0070 13F0400F 		tst	r3, #64
 6102 0074 0CD0     		beq	.L481
1702:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6103              		.loc 1 1702 29 discriminator 1 view .LVU2057
 6104 0076 B8F1000F 		cmp	r8, #0
 6105 007a 0BD0     		beq	.L482
1702:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6106              		.loc 1 1702 44 discriminator 2 view .LVU2058
 6107 007c 39F81630 		ldrh	r3, [r9, r6, lsl #1]
ARM GAS  /tmp/ccBfkcjf.s 			page 241


1702:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6108              		.loc 1 1702 35 discriminator 2 view .LVU2059
 6109 0080 53B9     		cbnz	r3, .L483
1704:Middlewares/Third_Party/FatFs/src/ff.c **** }
 6110              		.loc 1 1704 9 view .LVU2060
 6111 0082 0120     		movs	r0, #1
 6112 0084 00E0     		b	.L471
 6113              	.LVL709:
 6114              	.L478:
1686:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6115              		.loc 1 1686 49 view .LVU2061
 6116 0086 0020     		movs	r0, #0
 6117              	.L471:
1705:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6118              		.loc 1 1705 1 view .LVU2062
 6119 0088 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 6120              	.LVL710:
 6121              	.L485:
1698:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6122              		.loc 1 1698 29 view .LVU2063
 6123 008c 0020     		movs	r0, #0
 6124              	.LVL711:
1698:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6125              		.loc 1 1698 29 view .LVU2064
 6126 008e FBE7     		b	.L471
 6127              	.L481:
1704:Middlewares/Third_Party/FatFs/src/ff.c **** }
 6128              		.loc 1 1704 9 view .LVU2065
 6129 0090 0120     		movs	r0, #1
 6130 0092 F9E7     		b	.L471
 6131              	.L482:
 6132 0094 0120     		movs	r0, #1
 6133 0096 F7E7     		b	.L471
 6134              	.L483:
1702:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6135              		.loc 1 1702 56 view .LVU2066
 6136 0098 0020     		movs	r0, #0
 6137 009a F5E7     		b	.L471
 6138              	.L488:
 6139              		.align	2
 6140              	.L487:
 6141 009c 00000000 		.word	.LANCHOR1
 6142              		.cfi_endproc
 6143              	.LFE377:
 6145              		.section	.text.dir_find,"ax",%progbits
 6146              		.align	1
 6147              		.syntax unified
 6148              		.thumb
 6149              		.thumb_func
 6150              		.fpu fpv5-d16
 6152              	dir_find:
 6153              	.LVL712:
 6154              	.LFB383:
2213:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6155              		.loc 1 2213 1 is_stmt 1 view -0
 6156              		.cfi_startproc
 6157              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccBfkcjf.s 			page 242


 6158              		@ frame_needed = 0, uses_anonymous_args = 0
2213:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6159              		.loc 1 2213 1 is_stmt 0 view .LVU2068
 6160 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 6161              	.LCFI41:
 6162              		.cfi_def_cfa_offset 32
 6163              		.cfi_offset 3, -32
 6164              		.cfi_offset 4, -28
 6165              		.cfi_offset 5, -24
 6166              		.cfi_offset 6, -20
 6167              		.cfi_offset 7, -16
 6168              		.cfi_offset 8, -12
 6169              		.cfi_offset 9, -8
 6170              		.cfi_offset 14, -4
 6171 0004 0446     		mov	r4, r0
2214:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 6172              		.loc 1 2214 2 is_stmt 1 view .LVU2069
2215:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE c;
 6173              		.loc 1 2215 2 view .LVU2070
2215:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE c;
 6174              		.loc 1 2215 9 is_stmt 0 view .LVU2071
 6175 0006 D0F80080 		ldr	r8, [r0]
 6176              	.LVL713:
2216:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
 6177              		.loc 1 2216 2 is_stmt 1 view .LVU2072
2218:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6178              		.loc 1 2218 2 view .LVU2073
2221:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
 6179              		.loc 1 2221 2 view .LVU2074
2221:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
 6180              		.loc 1 2221 8 is_stmt 0 view .LVU2075
 6181 000a 0021     		movs	r1, #0
 6182 000c FFF7FEFF 		bl	dir_sdi
 6183              	.LVL714:
2222:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 6184              		.loc 1 2222 2 is_stmt 1 view .LVU2076
2222:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 6185              		.loc 1 2222 5 is_stmt 0 view .LVU2077
 6186 0010 0646     		mov	r6, r0
 6187 0012 0028     		cmp	r0, #0
 6188 0014 64D1     		bne	.L490
2245:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6189              		.loc 1 2245 2 is_stmt 1 view .LVU2078
 6190              	.LVL715:
2245:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6191              		.loc 1 2245 20 view .LVU2079
2245:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6192              		.loc 1 2245 32 is_stmt 0 view .LVU2080
 6193 0016 4FF0FF33 		mov	r3, #-1
 6194 001a 2363     		str	r3, [r4, #48]
2245:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6195              		.loc 1 2245 12 view .LVU2081
 6196 001c 4FF0FF09 		mov	r9, #255
2245:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6197              		.loc 1 2245 6 view .LVU2082
 6198 0020 4F46     		mov	r7, r9
 6199 0022 0AE0     		b	.L498
ARM GAS  /tmp/ccBfkcjf.s 			page 243


 6200              	.LVL716:
 6201              	.L491:
2255:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 6202              		.loc 1 2255 4 is_stmt 1 view .LVU2083
2255:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 6203              		.loc 1 2255 16 view .LVU2084
2255:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 6204              		.loc 1 2255 28 is_stmt 0 view .LVU2085
 6205 0024 4FF0FF33 		mov	r3, #-1
 6206              	.LVL717:
2255:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 6207              		.loc 1 2255 28 view .LVU2086
 6208 0028 2363     		str	r3, [r4, #48]
2255:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 6209              		.loc 1 2255 8 view .LVU2087
 6210 002a FF27     		movs	r7, #255
 6211              	.LVL718:
 6212              	.L493:
2277:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (res == FR_OK);
 6213              		.loc 1 2277 3 is_stmt 1 view .LVU2088
2277:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (res == FR_OK);
 6214              		.loc 1 2277 9 is_stmt 0 view .LVU2089
 6215 002c 0021     		movs	r1, #0
 6216 002e 2046     		mov	r0, r4
 6217 0030 FFF7FEFF 		bl	dir_next
 6218              	.LVL719:
2278:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6219              		.loc 1 2278 10 is_stmt 1 view .LVU2090
2278:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6220              		.loc 1 2278 2 is_stmt 0 view .LVU2091
 6221 0034 0646     		mov	r6, r0
 6222 0036 0028     		cmp	r0, #0
 6223 0038 52D1     		bne	.L490
 6224              	.LVL720:
 6225              	.L498:
2247:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 6226              		.loc 1 2247 2 is_stmt 1 view .LVU2092
2248:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 6227              		.loc 1 2248 3 view .LVU2093
2248:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 6228              		.loc 1 2248 9 is_stmt 0 view .LVU2094
 6229 003a E169     		ldr	r1, [r4, #28]
 6230 003c 4046     		mov	r0, r8
 6231              	.LVL721:
2248:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 6232              		.loc 1 2248 9 view .LVU2095
 6233 003e FFF7FEFF 		bl	move_window
 6234              	.LVL722:
2249:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dp->dir[DIR_Name];
 6235              		.loc 1 2249 3 is_stmt 1 view .LVU2096
2249:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dp->dir[DIR_Name];
 6236              		.loc 1 2249 6 is_stmt 0 view .LVU2097
 6237 0042 0646     		mov	r6, r0
 6238 0044 0028     		cmp	r0, #0
 6239 0046 4BD1     		bne	.L490
2250:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
 6240              		.loc 1 2250 3 is_stmt 1 view .LVU2098
ARM GAS  /tmp/ccBfkcjf.s 			page 244


2250:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
 6241              		.loc 1 2250 9 is_stmt 0 view .LVU2099
 6242 0048 256A     		ldr	r5, [r4, #32]
2250:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
 6243              		.loc 1 2250 5 view .LVU2100
 6244 004a 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 6245              	.LVL723:
2251:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 6246              		.loc 1 2251 3 is_stmt 1 view .LVU2101
2251:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 6247              		.loc 1 2251 6 is_stmt 0 view .LVU2102
 6248 004c 002B     		cmp	r3, #0
 6249 004e 46D0     		beq	.L499
2253:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == DDEM || ((a & AM_VOL) && a != AM_LFN)) {	/* An entry without valid data */
 6250              		.loc 1 2253 3 is_stmt 1 view .LVU2103
2253:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == DDEM || ((a & AM_VOL) && a != AM_LFN)) {	/* An entry without valid data */
 6251              		.loc 1 2253 29 is_stmt 0 view .LVU2104
 6252 0050 E97A     		ldrb	r1, [r5, #11]	@ zero_extendqisi2
2253:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == DDEM || ((a & AM_VOL) && a != AM_LFN)) {	/* An entry without valid data */
 6253              		.loc 1 2253 20 view .LVU2105
 6254 0052 01F03F02 		and	r2, r1, #63
 6255              	.LVL724:
2253:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == DDEM || ((a & AM_VOL) && a != AM_LFN)) {	/* An entry without valid data */
 6256              		.loc 1 2253 16 view .LVU2106
 6257 0056 A271     		strb	r2, [r4, #6]
2254:Middlewares/Third_Party/FatFs/src/ff.c **** 			ord = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
 6258              		.loc 1 2254 3 is_stmt 1 view .LVU2107
2254:Middlewares/Third_Party/FatFs/src/ff.c **** 			ord = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
 6259              		.loc 1 2254 6 is_stmt 0 view .LVU2108
 6260 0058 E52B     		cmp	r3, #229
 6261 005a E3D0     		beq	.L491
2254:Middlewares/Third_Party/FatFs/src/ff.c **** 			ord = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
 6262              		.loc 1 2254 17 discriminator 1 view .LVU2109
 6263 005c 11F0080F 		tst	r1, #8
 6264 0060 01D0     		beq	.L492
2254:Middlewares/Third_Party/FatFs/src/ff.c **** 			ord = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
 6265              		.loc 1 2254 34 discriminator 2 view .LVU2110
 6266 0062 0F2A     		cmp	r2, #15
 6267 0064 DED1     		bne	.L491
 6268              	.L492:
2257:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!(dp->fn[NSFLAG] & NS_NOLFN)) {
 6269              		.loc 1 2257 4 is_stmt 1 view .LVU2111
2257:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!(dp->fn[NSFLAG] & NS_NOLFN)) {
 6270              		.loc 1 2257 7 is_stmt 0 view .LVU2112
 6271 0066 0F2A     		cmp	r2, #15
 6272 0068 16D0     		beq	.L504
2268:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!(dp->fn[NSFLAG] & NS_LOSS) && !mem_cmp(dp->dir, dp->fn, 11)) break;	/* SFN matched? */
 6273              		.loc 1 2268 5 is_stmt 1 view .LVU2113
2268:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!(dp->fn[NSFLAG] & NS_LOSS) && !mem_cmp(dp->dir, dp->fn, 11)) break;	/* SFN matched? */
 6274              		.loc 1 2268 8 is_stmt 0 view .LVU2114
 6275 006a 27B9     		cbnz	r7, .L496
2268:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!(dp->fn[NSFLAG] & NS_LOSS) && !mem_cmp(dp->dir, dp->fn, 11)) break;	/* SFN matched? */
 6276              		.loc 1 2268 24 discriminator 1 view .LVU2115
 6277 006c 2846     		mov	r0, r5
 6278              	.LVL725:
2268:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!(dp->fn[NSFLAG] & NS_LOSS) && !mem_cmp(dp->dir, dp->fn, 11)) break;	/* SFN matched? */
 6279              		.loc 1 2268 24 discriminator 1 view .LVU2116
ARM GAS  /tmp/ccBfkcjf.s 			page 245


 6280 006e FFF7FEFF 		bl	sum_sfn
 6281              	.LVL726:
2268:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!(dp->fn[NSFLAG] & NS_LOSS) && !mem_cmp(dp->dir, dp->fn, 11)) break;	/* SFN matched? */
 6282              		.loc 1 2268 14 discriminator 1 view .LVU2117
 6283 0072 4845     		cmp	r0, r9
 6284 0074 34D0     		beq	.L490
 6285              	.L496:
2269:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
 6286              		.loc 1 2269 5 is_stmt 1 view .LVU2118
2269:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
 6287              		.loc 1 2269 17 is_stmt 0 view .LVU2119
 6288 0076 94F82F30 		ldrb	r3, [r4, #47]	@ zero_extendqisi2
2269:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
 6289              		.loc 1 2269 8 view .LVU2120
 6290 007a 13F0010F 		tst	r3, #1
 6291 007e 06D1     		bne	.L497
2269:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
 6292              		.loc 1 2269 41 discriminator 1 view .LVU2121
 6293 0080 0B22     		movs	r2, #11
 6294 0082 04F12401 		add	r1, r4, #36
 6295 0086 2846     		mov	r0, r5
 6296 0088 FFF7FEFF 		bl	mem_cmp
 6297              	.LVL727:
2269:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
 6298              		.loc 1 2269 37 discriminator 1 view .LVU2122
 6299 008c 40B3     		cbz	r0, .L490
 6300              	.L497:
2270:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6301              		.loc 1 2270 5 is_stmt 1 view .LVU2123
 6302              	.LVL728:
2270:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6303              		.loc 1 2270 17 view .LVU2124
2270:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6304              		.loc 1 2270 29 is_stmt 0 view .LVU2125
 6305 008e 4FF0FF33 		mov	r3, #-1
 6306 0092 2363     		str	r3, [r4, #48]
2270:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6307              		.loc 1 2270 9 view .LVU2126
 6308 0094 FF27     		movs	r7, #255
 6309 0096 C9E7     		b	.L493
 6310              	.LVL729:
 6311              	.L504:
2258:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c & LLEF) {		/* Is it start of LFN sequence? */
 6312              		.loc 1 2258 5 is_stmt 1 view .LVU2127
2258:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c & LLEF) {		/* Is it start of LFN sequence? */
 6313              		.loc 1 2258 17 is_stmt 0 view .LVU2128
 6314 0098 94F82F20 		ldrb	r2, [r4, #47]	@ zero_extendqisi2
 6315              	.LVL730:
2258:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c & LLEF) {		/* Is it start of LFN sequence? */
 6316              		.loc 1 2258 8 view .LVU2129
 6317 009c 12F0400F 		tst	r2, #64
 6318 00a0 C4D1     		bne	.L493
2259:Middlewares/Third_Party/FatFs/src/ff.c **** 						sum = dp->dir[LDIR_Chksum];
 6319              		.loc 1 2259 6 is_stmt 1 view .LVU2130
2259:Middlewares/Third_Party/FatFs/src/ff.c **** 						sum = dp->dir[LDIR_Chksum];
 6320              		.loc 1 2259 9 is_stmt 0 view .LVU2131
 6321 00a2 13F0400F 		tst	r3, #64
ARM GAS  /tmp/ccBfkcjf.s 			page 246


 6322 00a6 06D0     		beq	.L495
2260:Middlewares/Third_Party/FatFs/src/ff.c **** 						c &= (BYTE)~LLEF; ord = c;	/* LFN start order */
 6323              		.loc 1 2260 7 is_stmt 1 view .LVU2132
2260:Middlewares/Third_Party/FatFs/src/ff.c **** 						c &= (BYTE)~LLEF; ord = c;	/* LFN start order */
 6324              		.loc 1 2260 11 is_stmt 0 view .LVU2133
 6325 00a8 95F80D90 		ldrb	r9, [r5, #13]	@ zero_extendqisi2
 6326              	.LVL731:
2261:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = dp->dptr;	/* Start offset of LFN */
 6327              		.loc 1 2261 7 is_stmt 1 view .LVU2134
2261:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = dp->dptr;	/* Start offset of LFN */
 6328              		.loc 1 2261 9 is_stmt 0 view .LVU2135
 6329 00ac 03F0BF03 		and	r3, r3, #191
 6330              	.LVL732:
2261:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = dp->dptr;	/* Start offset of LFN */
 6331              		.loc 1 2261 25 is_stmt 1 view .LVU2136
2262:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6332              		.loc 1 2262 7 view .LVU2137
2262:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6333              		.loc 1 2262 23 is_stmt 0 view .LVU2138
 6334 00b0 6269     		ldr	r2, [r4, #20]
2262:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6335              		.loc 1 2262 19 view .LVU2139
 6336 00b2 2263     		str	r2, [r4, #48]
2261:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = dp->dptr;	/* Start offset of LFN */
 6337              		.loc 1 2261 29 view .LVU2140
 6338 00b4 1F46     		mov	r7, r3
 6339              	.LVL733:
 6340              	.L495:
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6341              		.loc 1 2265 6 is_stmt 1 view .LVU2141
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6342              		.loc 1 2265 10 is_stmt 0 view .LVU2142
 6343 00b6 BB42     		cmp	r3, r7
 6344 00b8 01D0     		beq	.L505
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6345              		.loc 1 2265 10 view .LVU2143
 6346 00ba FF27     		movs	r7, #255
 6347              	.LVL734:
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6348              		.loc 1 2265 10 view .LVU2144
 6349 00bc B6E7     		b	.L493
 6350              	.LVL735:
 6351              	.L505:
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6352              		.loc 1 2265 39 discriminator 1 view .LVU2145
 6353 00be 6B7B     		ldrb	r3, [r5, #13]	@ zero_extendqisi2
 6354              	.LVL736:
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6355              		.loc 1 2265 22 discriminator 1 view .LVU2146
 6356 00c0 4B45     		cmp	r3, r9
 6357 00c2 01D0     		beq	.L506
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6358              		.loc 1 2265 10 view .LVU2147
 6359 00c4 FF27     		movs	r7, #255
 6360              	.LVL737:
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6361              		.loc 1 2265 10 view .LVU2148
ARM GAS  /tmp/ccBfkcjf.s 			page 247


 6362 00c6 B1E7     		b	.L493
 6363              	.LVL738:
 6364              	.L506:
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6365              		.loc 1 2265 56 discriminator 3 view .LVU2149
 6366 00c8 2946     		mov	r1, r5
 6367 00ca D8F81000 		ldr	r0, [r8, #16]
 6368              	.LVL739:
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6369              		.loc 1 2265 56 discriminator 3 view .LVU2150
 6370 00ce FFF7FEFF 		bl	cmp_lfn
 6371              	.LVL740:
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6372              		.loc 1 2265 53 discriminator 3 view .LVU2151
 6373 00d2 10B1     		cbz	r0, .L502
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6374              		.loc 1 2265 10 discriminator 5 view .LVU2152
 6375 00d4 013F     		subs	r7, r7, #1
 6376              	.LVL741:
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6377              		.loc 1 2265 10 discriminator 5 view .LVU2153
 6378 00d6 FFB2     		uxtb	r7, r7
 6379 00d8 A8E7     		b	.L493
 6380              	.LVL742:
 6381              	.L502:
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6382              		.loc 1 2265 10 view .LVU2154
 6383 00da FF27     		movs	r7, #255
 6384              	.LVL743:
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6385              		.loc 1 2265 10 view .LVU2155
 6386 00dc A6E7     		b	.L493
 6387              	.LVL744:
 6388              	.L499:
2251:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 6389              		.loc 1 2251 21 view .LVU2156
 6390 00de 0426     		movs	r6, #4
 6391              	.LVL745:
 6392              	.L490:
2281:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6393              		.loc 1 2281 1 view .LVU2157
 6394 00e0 3046     		mov	r0, r6
 6395 00e2 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
2281:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6396              		.loc 1 2281 1 view .LVU2158
 6397              		.cfi_endproc
 6398              	.LFE383:
 6400              		.section	.text.follow_path,"ax",%progbits
 6401              		.align	1
 6402              		.syntax unified
 6403              		.thumb
 6404              		.thumb_func
 6405              		.fpu fpv5-d16
 6407              	follow_path:
 6408              	.LVL746:
 6409              	.LFB388:
2817:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
ARM GAS  /tmp/ccBfkcjf.s 			page 248


 6410              		.loc 1 2817 1 is_stmt 1 view -0
 6411              		.cfi_startproc
 6412              		@ args = 0, pretend = 0, frame = 8
 6413              		@ frame_needed = 0, uses_anonymous_args = 0
2817:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6414              		.loc 1 2817 1 is_stmt 0 view .LVU2160
 6415 0000 30B5     		push	{r4, r5, lr}
 6416              	.LCFI42:
 6417              		.cfi_def_cfa_offset 12
 6418              		.cfi_offset 4, -12
 6419              		.cfi_offset 5, -8
 6420              		.cfi_offset 14, -4
 6421 0002 83B0     		sub	sp, sp, #12
 6422              	.LCFI43:
 6423              		.cfi_def_cfa_offset 24
 6424 0004 0446     		mov	r4, r0
 6425 0006 0191     		str	r1, [sp, #4]
2818:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ns;
 6426              		.loc 1 2818 2 is_stmt 1 view .LVU2161
2819:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID *obj = &dp->obj;
 6427              		.loc 1 2819 2 view .LVU2162
2820:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
 6428              		.loc 1 2820 2 view .LVU2163
 6429              	.LVL747:
2821:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6430              		.loc 1 2821 2 view .LVU2164
2821:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6431              		.loc 1 2821 9 is_stmt 0 view .LVU2165
 6432 0008 0568     		ldr	r5, [r0]
 6433              	.LVL748:
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = 0;					/* Start from root directory */
 6434              		.loc 1 2830 3 is_stmt 1 view .LVU2166
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = 0;					/* Start from root directory */
 6435              		.loc 1 2830 9 is_stmt 0 view .LVU2167
 6436 000a 01E0     		b	.L508
 6437              	.L509:
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = 0;					/* Start from root directory */
 6438              		.loc 1 2830 41 is_stmt 1 discriminator 2 view .LVU2168
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = 0;					/* Start from root directory */
 6439              		.loc 1 2830 45 is_stmt 0 discriminator 2 view .LVU2169
 6440 000c 0133     		adds	r3, r3, #1
 6441 000e 0193     		str	r3, [sp, #4]
 6442              	.L508:
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = 0;					/* Start from root directory */
 6443              		.loc 1 2830 9 is_stmt 1 discriminator 1 view .LVU2170
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = 0;					/* Start from root directory */
 6444              		.loc 1 2830 10 is_stmt 0 discriminator 1 view .LVU2171
 6445 0010 019B     		ldr	r3, [sp, #4]
 6446 0012 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = 0;					/* Start from root directory */
 6447              		.loc 1 2830 9 discriminator 1 view .LVU2172
 6448 0014 5C2A     		cmp	r2, #92
 6449 0016 18BF     		it	ne
 6450 0018 2F2A     		cmpne	r2, #47
 6451 001a F7D0     		beq	.L509
2831:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6452              		.loc 1 2831 3 is_stmt 1 view .LVU2173
ARM GAS  /tmp/ccBfkcjf.s 			page 249


2831:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6453              		.loc 1 2831 15 is_stmt 0 view .LVU2174
 6454 001c 0022     		movs	r2, #0
 6455 001e A260     		str	r2, [r4, #8]
2850:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = NS_NONAME;
 6456              		.loc 1 2850 2 is_stmt 1 view .LVU2175
2850:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = NS_NONAME;
 6457              		.loc 1 2850 12 is_stmt 0 view .LVU2176
 6458 0020 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
2850:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = NS_NONAME;
 6459              		.loc 1 2850 5 view .LVU2177
 6460 0022 1F2B     		cmp	r3, #31
 6461 0024 21D9     		bls	.L516
 6462              	.LVL749:
 6463              	.L510:
2855:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = create_name(dp, &path);	/* Get a segment name of the path */
 6464              		.loc 1 2855 3 is_stmt 1 view .LVU2178
2856:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 6465              		.loc 1 2856 4 view .LVU2179
2856:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 6466              		.loc 1 2856 10 is_stmt 0 view .LVU2180
 6467 0026 01A9     		add	r1, sp, #4
 6468 0028 2046     		mov	r0, r4
 6469 002a FFF7FEFF 		bl	create_name
 6470              	.LVL750:
2857:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Find an object with the segment name */
 6471              		.loc 1 2857 4 is_stmt 1 view .LVU2181
2857:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Find an object with the segment name */
 6472              		.loc 1 2857 7 is_stmt 0 view .LVU2182
 6473 002e 0346     		mov	r3, r0
 6474 0030 18BB     		cbnz	r0, .L511
2858:Middlewares/Third_Party/FatFs/src/ff.c **** 			ns = dp->fn[NSFLAG];
 6475              		.loc 1 2858 4 is_stmt 1 view .LVU2183
2858:Middlewares/Third_Party/FatFs/src/ff.c **** 			ns = dp->fn[NSFLAG];
 6476              		.loc 1 2858 10 is_stmt 0 view .LVU2184
 6477 0032 2046     		mov	r0, r4
 6478              	.LVL751:
2858:Middlewares/Third_Party/FatFs/src/ff.c **** 			ns = dp->fn[NSFLAG];
 6479              		.loc 1 2858 10 view .LVU2185
 6480 0034 FFF7FEFF 		bl	dir_find
 6481              	.LVL752:
2859:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {				/* Failed to find the object */
 6482              		.loc 1 2859 4 is_stmt 1 view .LVU2186
2859:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {				/* Failed to find the object */
 6483              		.loc 1 2859 7 is_stmt 0 view .LVU2187
 6484 0038 94F82F20 		ldrb	r2, [r4, #47]	@ zero_extendqisi2
 6485              	.LVL753:
2860:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {	/* Object is not found */
 6486              		.loc 1 2860 4 is_stmt 1 view .LVU2188
2860:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {	/* Object is not found */
 6487              		.loc 1 2860 7 is_stmt 0 view .LVU2189
 6488 003c 0346     		mov	r3, r0
 6489 003e F8B9     		cbnz	r0, .L517
2872:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Get into the sub-directory */
 6490              		.loc 1 2872 4 is_stmt 1 view .LVU2190
2872:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Get into the sub-directory */
 6491              		.loc 1 2872 7 is_stmt 0 view .LVU2191
ARM GAS  /tmp/ccBfkcjf.s 			page 250


 6492 0040 12F0040F 		tst	r2, #4
 6493 0044 19D1     		bne	.L511
2874:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_PATH; break;
 6494              		.loc 1 2874 4 is_stmt 1 view .LVU2192
2874:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_PATH; break;
 6495              		.loc 1 2874 13 is_stmt 0 view .LVU2193
 6496 0046 A379     		ldrb	r3, [r4, #6]	@ zero_extendqisi2
2874:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_PATH; break;
 6497              		.loc 1 2874 7 view .LVU2194
 6498 0048 13F0100F 		tst	r3, #16
 6499 004c 1FD0     		beq	.L514
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6500              		.loc 1 2888 5 is_stmt 1 view .LVU2195
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6501              		.loc 1 2888 32 is_stmt 0 view .LVU2196
 6502 004e 05F13803 		add	r3, r5, #56
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6503              		.loc 1 2888 44 view .LVU2197
 6504 0052 6169     		ldr	r1, [r4, #20]
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6505              		.loc 1 2888 53 view .LVU2198
 6506 0054 AA89     		ldrh	r2, [r5, #12]
 6507              	.LVL754:
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6508              		.loc 1 2888 51 view .LVU2199
 6509 0056 B1FBF2F0 		udiv	r0, r1, r2
 6510              	.LVL755:
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6511              		.loc 1 2888 51 view .LVU2200
 6512 005a 02FB1011 		mls	r1, r2, r0, r1
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6513              		.loc 1 2888 19 view .LVU2201
 6514 005e 1944     		add	r1, r1, r3
 6515 0060 2846     		mov	r0, r5
 6516 0062 FFF7FEFF 		bl	ld_clust
 6517              	.LVL756:
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6518              		.loc 1 2888 17 view .LVU2202
 6519 0066 A060     		str	r0, [r4, #8]
2855:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = create_name(dp, &path);	/* Get a segment name of the path */
 6520              		.loc 1 2855 9 is_stmt 1 view .LVU2203
2856:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 6521              		.loc 1 2856 8 is_stmt 0 view .LVU2204
 6522 0068 DDE7     		b	.L510
 6523              	.LVL757:
 6524              	.L516:
2851:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, 0);
 6525              		.loc 1 2851 3 is_stmt 1 view .LVU2205
2851:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, 0);
 6526              		.loc 1 2851 18 is_stmt 0 view .LVU2206
 6527 006a 8023     		movs	r3, #128
 6528 006c 84F82F30 		strb	r3, [r4, #47]
2852:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6529              		.loc 1 2852 3 is_stmt 1 view .LVU2207
2852:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6530              		.loc 1 2852 9 is_stmt 0 view .LVU2208
 6531 0070 1146     		mov	r1, r2
ARM GAS  /tmp/ccBfkcjf.s 			page 251


 6532              	.LVL758:
2852:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6533              		.loc 1 2852 9 view .LVU2209
 6534 0072 2046     		mov	r0, r4
 6535              	.LVL759:
2852:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6536              		.loc 1 2852 9 view .LVU2210
 6537 0074 FFF7FEFF 		bl	dir_sdi
 6538              	.LVL760:
 6539 0078 0346     		mov	r3, r0
 6540              	.LVL761:
 6541              	.L511:
2893:Middlewares/Third_Party/FatFs/src/ff.c **** }
 6542              		.loc 1 2893 2 is_stmt 1 view .LVU2211
2894:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6543              		.loc 1 2894 1 is_stmt 0 view .LVU2212
 6544 007a 1846     		mov	r0, r3
 6545 007c 03B0     		add	sp, sp, #12
 6546              	.LCFI44:
 6547              		.cfi_remember_state
 6548              		.cfi_def_cfa_offset 12
 6549              		@ sp needed
 6550 007e 30BD     		pop	{r4, r5, pc}
 6551              	.LVL762:
 6552              	.L517:
 6553              	.LCFI45:
 6554              		.cfi_restore_state
2861:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (_FS_RPATH && (ns & NS_DOT)) {	/* If dot entry is not exist, stay there */
 6555              		.loc 1 2861 5 is_stmt 1 view .LVU2213
2861:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (_FS_RPATH && (ns & NS_DOT)) {	/* If dot entry is not exist, stay there */
 6556              		.loc 1 2861 8 is_stmt 0 view .LVU2214
 6557 0080 0428     		cmp	r0, #4
 6558 0082 FAD1     		bne	.L511
2862:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!(ns & NS_LAST)) continue;	/* Continue to follow if not last segment */
 6559              		.loc 1 2862 6 is_stmt 1 view .LVU2215
2867:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6560              		.loc 1 2867 7 view .LVU2216
2867:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6561              		.loc 1 2867 10 is_stmt 0 view .LVU2217
 6562 0084 12F0040F 		tst	r2, #4
 6563 0088 F7D1     		bne	.L511
2867:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6564              		.loc 1 2867 32 view .LVU2218
 6565 008a 0523     		movs	r3, #5
 6566 008c F5E7     		b	.L511
 6567              	.L514:
2875:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6568              		.loc 1 2875 9 view .LVU2219
 6569 008e 0523     		movs	r3, #5
 6570 0090 F3E7     		b	.L511
 6571              		.cfi_endproc
 6572              	.LFE388:
 6574              		.section	.text.dir_register,"ax",%progbits
 6575              		.align	1
 6576              		.syntax unified
 6577              		.thumb
 6578              		.thumb_func
ARM GAS  /tmp/ccBfkcjf.s 			page 252


 6579              		.fpu fpv5-d16
 6581              	dir_register:
 6582              	.LVL763:
 6583              	.LFB384:
2295:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6584              		.loc 1 2295 1 is_stmt 1 view -0
 6585              		.cfi_startproc
 6586              		@ args = 0, pretend = 0, frame = 16
 6587              		@ frame_needed = 0, uses_anonymous_args = 0
2295:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6588              		.loc 1 2295 1 is_stmt 0 view .LVU2221
 6589 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 6590              	.LCFI46:
 6591              		.cfi_def_cfa_offset 28
 6592              		.cfi_offset 4, -28
 6593              		.cfi_offset 5, -24
 6594              		.cfi_offset 6, -20
 6595              		.cfi_offset 7, -16
 6596              		.cfi_offset 8, -12
 6597              		.cfi_offset 9, -8
 6598              		.cfi_offset 14, -4
 6599 0004 85B0     		sub	sp, sp, #20
 6600              	.LCFI47:
 6601              		.cfi_def_cfa_offset 48
2296:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 6602              		.loc 1 2296 2 is_stmt 1 view .LVU2222
2297:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 6603              		.loc 1 2297 2 view .LVU2223
2297:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 6604              		.loc 1 2297 9 is_stmt 0 view .LVU2224
 6605 0006 0668     		ldr	r6, [r0]
 6606              	.LVL764:
2299:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sn[12], sum;
 6607              		.loc 1 2299 2 is_stmt 1 view .LVU2225
2300:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6608              		.loc 1 2300 2 view .LVU2226
2303:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (nlen = 0; fs->lfnbuf[nlen]; nlen++) ;	/* Get lfn length */
 6609              		.loc 1 2303 2 view .LVU2227
2303:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (nlen = 0; fs->lfnbuf[nlen]; nlen++) ;	/* Get lfn length */
 6610              		.loc 1 2303 12 is_stmt 0 view .LVU2228
 6611 0008 90F82F30 		ldrb	r3, [r0, #47]	@ zero_extendqisi2
2303:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (nlen = 0; fs->lfnbuf[nlen]; nlen++) ;	/* Get lfn length */
 6612              		.loc 1 2303 5 view .LVU2229
 6613 000c 13F0A00F 		tst	r3, #160
 6614 0010 40F08E80 		bne	.L529
 6615 0014 0746     		mov	r7, r0
2304:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6616              		.loc 1 2304 12 view .LVU2230
 6617 0016 0024     		movs	r4, #0
 6618 0018 00E0     		b	.L520
 6619              	.LVL765:
 6620              	.L521:
2304:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6621              		.loc 1 2304 43 is_stmt 1 discriminator 3 view .LVU2231
2304:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6622              		.loc 1 2304 35 discriminator 3 view .LVU2232
2304:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccBfkcjf.s 			page 253


 6623              		.loc 1 2304 39 is_stmt 0 discriminator 3 view .LVU2233
 6624 001a 0134     		adds	r4, r4, #1
 6625              	.LVL766:
 6626              	.L520:
2304:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6627              		.loc 1 2304 17 is_stmt 1 discriminator 1 view .LVU2234
2304:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6628              		.loc 1 2304 19 is_stmt 0 discriminator 1 view .LVU2235
 6629 001c 3369     		ldr	r3, [r6, #16]
2304:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6630              		.loc 1 2304 27 discriminator 1 view .LVU2236
 6631 001e 33F81430 		ldrh	r3, [r3, r4, lsl #1]
2304:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6632              		.loc 1 2304 2 discriminator 1 view .LVU2237
 6633 0022 002B     		cmp	r3, #0
 6634 0024 F9D1     		bne	.L521
2335:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sn[NSFLAG] & NS_LOSS) {			/* When LFN is out of 8.3 format, generate a numbered name */
 6635              		.loc 1 2335 2 is_stmt 1 view .LVU2238
2335:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sn[NSFLAG] & NS_LOSS) {			/* When LFN is out of 8.3 format, generate a numbered name */
 6636              		.loc 1 2335 16 is_stmt 0 view .LVU2239
 6637 0026 07F12408 		add	r8, r7, #36
2335:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sn[NSFLAG] & NS_LOSS) {			/* When LFN is out of 8.3 format, generate a numbered name */
 6638              		.loc 1 2335 2 view .LVU2240
 6639 002a 0C22     		movs	r2, #12
 6640 002c 4146     		mov	r1, r8
 6641 002e 01A8     		add	r0, sp, #4
 6642              	.LVL767:
2335:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sn[NSFLAG] & NS_LOSS) {			/* When LFN is out of 8.3 format, generate a numbered name */
 6643              		.loc 1 2335 2 view .LVU2241
 6644 0030 FFF7FEFF 		bl	mem_cpy
 6645              	.LVL768:
2336:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = NS_NOLFN;		/* Find only SFN */
 6646              		.loc 1 2336 2 is_stmt 1 view .LVU2242
2336:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = NS_NOLFN;		/* Find only SFN */
 6647              		.loc 1 2336 8 is_stmt 0 view .LVU2243
 6648 0034 9DF80F30 		ldrb	r3, [sp, #15]	@ zero_extendqisi2
2336:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = NS_NOLFN;		/* Find only SFN */
 6649              		.loc 1 2336 5 view .LVU2244
 6650 0038 13F0010F 		tst	r3, #1
 6651 003c 1CD0     		beq	.L522
2337:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (n = 1; n < 100; n++) {
 6652              		.loc 1 2337 3 is_stmt 1 view .LVU2245
2337:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (n = 1; n < 100; n++) {
 6653              		.loc 1 2337 18 is_stmt 0 view .LVU2246
 6654 003e 4023     		movs	r3, #64
 6655 0040 87F82F30 		strb	r3, [r7, #47]
2338:Middlewares/Third_Party/FatFs/src/ff.c **** 			gen_numname(dp->fn, sn, fs->lfnbuf, n);	/* Generate a numbered name */
 6656              		.loc 1 2338 3 is_stmt 1 view .LVU2247
 6657              	.LVL769:
2338:Middlewares/Third_Party/FatFs/src/ff.c **** 			gen_numname(dp->fn, sn, fs->lfnbuf, n);	/* Generate a numbered name */
 6658              		.loc 1 2338 10 is_stmt 0 view .LVU2248
 6659 0044 0125     		movs	r5, #1
2338:Middlewares/Third_Party/FatFs/src/ff.c **** 			gen_numname(dp->fn, sn, fs->lfnbuf, n);	/* Generate a numbered name */
 6660              		.loc 1 2338 3 view .LVU2249
 6661 0046 00E0     		b	.L523
 6662              	.LVL770:
 6663              	.L533:
ARM GAS  /tmp/ccBfkcjf.s 			page 254


2338:Middlewares/Third_Party/FatFs/src/ff.c **** 			gen_numname(dp->fn, sn, fs->lfnbuf, n);	/* Generate a numbered name */
 6664              		.loc 1 2338 24 is_stmt 1 discriminator 2 view .LVU2250
2338:Middlewares/Third_Party/FatFs/src/ff.c **** 			gen_numname(dp->fn, sn, fs->lfnbuf, n);	/* Generate a numbered name */
 6665              		.loc 1 2338 25 is_stmt 0 discriminator 2 view .LVU2251
 6666 0048 0135     		adds	r5, r5, #1
 6667              	.LVL771:
 6668              	.L523:
2338:Middlewares/Third_Party/FatFs/src/ff.c **** 			gen_numname(dp->fn, sn, fs->lfnbuf, n);	/* Generate a numbered name */
 6669              		.loc 1 2338 15 is_stmt 1 discriminator 1 view .LVU2252
2338:Middlewares/Third_Party/FatFs/src/ff.c **** 			gen_numname(dp->fn, sn, fs->lfnbuf, n);	/* Generate a numbered name */
 6670              		.loc 1 2338 3 is_stmt 0 discriminator 1 view .LVU2253
 6671 004a 632D     		cmp	r5, #99
 6672 004c 0BD8     		bhi	.L524
2339:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Check if the name collides with existing SFN */
 6673              		.loc 1 2339 4 is_stmt 1 view .LVU2254
 6674 004e 2B46     		mov	r3, r5
 6675 0050 3269     		ldr	r2, [r6, #16]
 6676 0052 01A9     		add	r1, sp, #4
 6677 0054 4046     		mov	r0, r8
 6678 0056 FFF7FEFF 		bl	gen_numname
 6679              	.LVL772:
2340:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 6680              		.loc 1 2340 4 view .LVU2255
2340:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 6681              		.loc 1 2340 10 is_stmt 0 view .LVU2256
 6682 005a 3846     		mov	r0, r7
 6683 005c FFF7FEFF 		bl	dir_find
 6684              	.LVL773:
2341:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6685              		.loc 1 2341 4 is_stmt 1 view .LVU2257
2341:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6686              		.loc 1 2341 7 is_stmt 0 view .LVU2258
 6687 0060 8146     		mov	r9, r0
 6688 0062 0028     		cmp	r0, #0
 6689 0064 F0D0     		beq	.L533
 6690              	.LVL774:
 6691              	.L524:
2343:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_NO_FILE) return res;	/* Abort if the result is other than 'not collided' */
 6692              		.loc 1 2343 3 is_stmt 1 view .LVU2259
2343:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_NO_FILE) return res;	/* Abort if the result is other than 'not collided' */
 6693              		.loc 1 2343 6 is_stmt 0 view .LVU2260
 6694 0066 642D     		cmp	r5, #100
 6695 0068 65D0     		beq	.L530
2344:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = sn[NSFLAG];
 6696              		.loc 1 2344 3 is_stmt 1 view .LVU2261
2344:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = sn[NSFLAG];
 6697              		.loc 1 2344 6 is_stmt 0 view .LVU2262
 6698 006a B9F1040F 		cmp	r9, #4
 6699 006e 1BD1     		bne	.L519
2345:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6700              		.loc 1 2345 3 is_stmt 1 view .LVU2263
2345:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6701              		.loc 1 2345 22 is_stmt 0 view .LVU2264
 6702 0070 9DF80F30 		ldrb	r3, [sp, #15]	@ zero_extendqisi2
2345:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6703              		.loc 1 2345 18 view .LVU2265
 6704 0074 87F82F30 		strb	r3, [r7, #47]
ARM GAS  /tmp/ccBfkcjf.s 			page 255


 6705              	.LVL775:
 6706              	.L522:
2349:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, nent);		/* Allocate entries */
 6707              		.loc 1 2349 2 is_stmt 1 view .LVU2266
2349:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, nent);		/* Allocate entries */
 6708              		.loc 1 2349 12 is_stmt 0 view .LVU2267
 6709 0078 9DF80F30 		ldrb	r3, [sp, #15]	@ zero_extendqisi2
2349:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, nent);		/* Allocate entries */
 6710              		.loc 1 2349 54 view .LVU2268
 6711 007c 13F0020F 		tst	r3, #2
 6712 0080 06D0     		beq	.L531
2349:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, nent);		/* Allocate entries */
 6713              		.loc 1 2349 39 discriminator 1 view .LVU2269
 6714 0082 0C34     		adds	r4, r4, #12
 6715              	.LVL776:
2349:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, nent);		/* Allocate entries */
 6716              		.loc 1 2349 45 discriminator 1 view .LVU2270
 6717 0084 2D4B     		ldr	r3, .L536
 6718 0086 A3FB0434 		umull	r3, r4, r3, r4
 6719              	.LVL777:
2349:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, nent);		/* Allocate entries */
 6720              		.loc 1 2349 45 discriminator 1 view .LVU2271
 6721 008a A408     		lsrs	r4, r4, #2
2349:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, nent);		/* Allocate entries */
 6722              		.loc 1 2349 54 discriminator 1 view .LVU2272
 6723 008c 0134     		adds	r4, r4, #1
 6724 008e 00E0     		b	.L526
 6725              	.LVL778:
 6726              	.L531:
2349:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, nent);		/* Allocate entries */
 6727              		.loc 1 2349 54 view .LVU2273
 6728 0090 0124     		movs	r4, #1
 6729              	.LVL779:
 6730              	.L526:
2350:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && --nent) {	/* Set LFN entry if needed */
 6731              		.loc 1 2350 2 is_stmt 1 discriminator 4 view .LVU2274
2350:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && --nent) {	/* Set LFN entry if needed */
 6732              		.loc 1 2350 8 is_stmt 0 discriminator 4 view .LVU2275
 6733 0092 2146     		mov	r1, r4
 6734 0094 3846     		mov	r0, r7
 6735 0096 FFF7FEFF 		bl	dir_alloc
 6736              	.LVL780:
2351:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, dp->dptr - nent * SZDIRE);
 6737              		.loc 1 2351 2 is_stmt 1 discriminator 4 view .LVU2276
2351:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, dp->dptr - nent * SZDIRE);
 6738              		.loc 1 2351 5 is_stmt 0 discriminator 4 view .LVU2277
 6739 009a 8146     		mov	r9, r0
 6740 009c 08B9     		cbnz	r0, .L527
 6741              	.LVL781:
2351:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, dp->dptr - nent * SZDIRE);
 6742              		.loc 1 2351 19 discriminator 1 view .LVU2278
 6743 009e 013C     		subs	r4, r4, #1
 6744              	.LVL782:
2351:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, dp->dptr - nent * SZDIRE);
 6745              		.loc 1 2351 19 discriminator 1 view .LVU2279
 6746 00a0 06D1     		bne	.L534
 6747              	.L527:
ARM GAS  /tmp/ccBfkcjf.s 			page 256


 6748              	.LVL783:
2371:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 6749              		.loc 1 2371 2 is_stmt 1 view .LVU2280
2371:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 6750              		.loc 1 2371 5 is_stmt 0 view .LVU2281
 6751 00a2 B9F1000F 		cmp	r9, #0
 6752 00a6 29D0     		beq	.L535
 6753              	.LVL784:
 6754              	.L519:
2384:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6755              		.loc 1 2384 1 view .LVU2282
 6756 00a8 4846     		mov	r0, r9
 6757 00aa 05B0     		add	sp, sp, #20
 6758              	.LCFI48:
 6759              		.cfi_remember_state
 6760              		.cfi_def_cfa_offset 28
 6761              		@ sp needed
 6762 00ac BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 6763              	.LVL785:
 6764              	.L534:
 6765              	.LCFI49:
 6766              		.cfi_restore_state
2352:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 6767              		.loc 1 2352 3 is_stmt 1 view .LVU2283
2352:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 6768              		.loc 1 2352 23 is_stmt 0 view .LVU2284
 6769 00b0 7969     		ldr	r1, [r7, #20]
2352:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 6770              		.loc 1 2352 9 view .LVU2285
 6771 00b2 A1EB4411 		sub	r1, r1, r4, lsl #5
 6772 00b6 3846     		mov	r0, r7
 6773              	.LVL786:
2352:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 6774              		.loc 1 2352 9 view .LVU2286
 6775 00b8 FFF7FEFF 		bl	dir_sdi
 6776              	.LVL787:
2353:Middlewares/Third_Party/FatFs/src/ff.c **** 			sum = sum_sfn(dp->fn);	/* Checksum value of the SFN tied to the LFN */
 6777              		.loc 1 2353 3 is_stmt 1 view .LVU2287
2353:Middlewares/Third_Party/FatFs/src/ff.c **** 			sum = sum_sfn(dp->fn);	/* Checksum value of the SFN tied to the LFN */
 6778              		.loc 1 2353 6 is_stmt 0 view .LVU2288
 6779 00bc 8146     		mov	r9, r0
 6780 00be 0028     		cmp	r0, #0
 6781 00c0 EFD1     		bne	.L527
2354:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {					/* Store LFN entries in bottom first */
 6782              		.loc 1 2354 4 is_stmt 1 view .LVU2289
2354:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {					/* Store LFN entries in bottom first */
 6783              		.loc 1 2354 10 is_stmt 0 view .LVU2290
 6784 00c2 4046     		mov	r0, r8
 6785              	.LVL788:
2354:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {					/* Store LFN entries in bottom first */
 6786              		.loc 1 2354 10 view .LVU2291
 6787 00c4 FFF7FEFF 		bl	sum_sfn
 6788              	.LVL789:
 6789 00c8 0546     		mov	r5, r0
 6790              	.LVL790:
 6791              	.L528:
2355:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = move_window(fs, dp->sect);
ARM GAS  /tmp/ccBfkcjf.s 			page 257


 6792              		.loc 1 2355 4 is_stmt 1 view .LVU2292
2356:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
 6793              		.loc 1 2356 5 view .LVU2293
2356:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
 6794              		.loc 1 2356 11 is_stmt 0 view .LVU2294
 6795 00ca F969     		ldr	r1, [r7, #28]
 6796 00cc 3046     		mov	r0, r6
 6797 00ce FFF7FEFF 		bl	move_window
 6798              	.LVL791:
2357:Middlewares/Third_Party/FatFs/src/ff.c **** 				put_lfn(fs->lfnbuf, dp->dir, (BYTE)nent, sum);
 6799              		.loc 1 2357 5 is_stmt 1 view .LVU2295
2357:Middlewares/Third_Party/FatFs/src/ff.c **** 				put_lfn(fs->lfnbuf, dp->dir, (BYTE)nent, sum);
 6800              		.loc 1 2357 8 is_stmt 0 view .LVU2296
 6801 00d2 8146     		mov	r9, r0
 6802 00d4 0028     		cmp	r0, #0
 6803 00d6 E4D1     		bne	.L527
2358:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->wflag = 1;
 6804              		.loc 1 2358 5 is_stmt 1 view .LVU2297
 6805 00d8 2B46     		mov	r3, r5
 6806 00da E2B2     		uxtb	r2, r4
 6807 00dc 396A     		ldr	r1, [r7, #32]
 6808 00de 3069     		ldr	r0, [r6, #16]
 6809              	.LVL792:
2358:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->wflag = 1;
 6810              		.loc 1 2358 5 is_stmt 0 view .LVU2298
 6811 00e0 FFF7FEFF 		bl	put_lfn
 6812              	.LVL793:
2359:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_next(dp, 0);	/* Next entry */
 6813              		.loc 1 2359 5 is_stmt 1 view .LVU2299
2359:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_next(dp, 0);	/* Next entry */
 6814              		.loc 1 2359 15 is_stmt 0 view .LVU2300
 6815 00e4 0123     		movs	r3, #1
 6816 00e6 F370     		strb	r3, [r6, #3]
2360:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (res == FR_OK && --nent);
 6817              		.loc 1 2360 5 is_stmt 1 view .LVU2301
2360:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (res == FR_OK && --nent);
 6818              		.loc 1 2360 11 is_stmt 0 view .LVU2302
 6819 00e8 0021     		movs	r1, #0
 6820 00ea 3846     		mov	r0, r7
 6821 00ec FFF7FEFF 		bl	dir_next
 6822              	.LVL794:
2361:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6823              		.loc 1 2361 12 is_stmt 1 view .LVU2303
2361:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6824              		.loc 1 2361 4 is_stmt 0 view .LVU2304
 6825 00f0 8146     		mov	r9, r0
 6826 00f2 0028     		cmp	r0, #0
 6827 00f4 D5D1     		bne	.L527
 6828              	.LVL795:
2361:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6829              		.loc 1 2361 26 discriminator 1 view .LVU2305
 6830 00f6 013C     		subs	r4, r4, #1
 6831              	.LVL796:
2361:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6832              		.loc 1 2361 26 discriminator 1 view .LVU2306
 6833 00f8 E7D1     		bne	.L528
 6834 00fa D2E7     		b	.L527
ARM GAS  /tmp/ccBfkcjf.s 			page 258


 6835              	.LVL797:
 6836              	.L535:
2372:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 6837              		.loc 1 2372 3 is_stmt 1 view .LVU2307
2372:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 6838              		.loc 1 2372 9 is_stmt 0 view .LVU2308
 6839 00fc F969     		ldr	r1, [r7, #28]
 6840 00fe 3046     		mov	r0, r6
 6841 0100 FFF7FEFF 		bl	move_window
 6842              	.LVL798:
2373:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZDIRE);	/* Clean the entry */
 6843              		.loc 1 2373 3 is_stmt 1 view .LVU2309
2373:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZDIRE);	/* Clean the entry */
 6844              		.loc 1 2373 6 is_stmt 0 view .LVU2310
 6845 0104 8146     		mov	r9, r0
 6846 0106 0028     		cmp	r0, #0
 6847 0108 CED1     		bne	.L519
2374:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(dp->dir + DIR_Name, dp->fn, 11);	/* Put SFN */
 6848              		.loc 1 2374 4 is_stmt 1 view .LVU2311
 6849 010a 2022     		movs	r2, #32
 6850 010c 0021     		movs	r1, #0
 6851 010e 386A     		ldr	r0, [r7, #32]
 6852              	.LVL799:
2374:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(dp->dir + DIR_Name, dp->fn, 11);	/* Put SFN */
 6853              		.loc 1 2374 4 is_stmt 0 view .LVU2312
 6854 0110 FFF7FEFF 		bl	mem_set
 6855              	.LVL800:
2375:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
 6856              		.loc 1 2375 4 is_stmt 1 view .LVU2313
 6857 0114 0B22     		movs	r2, #11
 6858 0116 4146     		mov	r1, r8
 6859 0118 386A     		ldr	r0, [r7, #32]
 6860 011a FFF7FEFF 		bl	mem_cpy
 6861              	.LVL801:
2377:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6862              		.loc 1 2377 4 view .LVU2314
2377:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6863              		.loc 1 2377 31 is_stmt 0 view .LVU2315
 6864 011e 97F82F30 		ldrb	r3, [r7, #47]	@ zero_extendqisi2
2377:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6865              		.loc 1 2377 6 view .LVU2316
 6866 0122 3A6A     		ldr	r2, [r7, #32]
2377:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6867              		.loc 1 2377 40 view .LVU2317
 6868 0124 03F01803 		and	r3, r3, #24
2377:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6869              		.loc 1 2377 23 view .LVU2318
 6870 0128 1373     		strb	r3, [r2, #12]
2379:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6871              		.loc 1 2379 4 is_stmt 1 view .LVU2319
2379:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6872              		.loc 1 2379 14 is_stmt 0 view .LVU2320
 6873 012a 0123     		movs	r3, #1
 6874 012c F370     		strb	r3, [r6, #3]
 6875 012e BBE7     		b	.L519
 6876              	.LVL802:
 6877              	.L529:
ARM GAS  /tmp/ccBfkcjf.s 			page 259


2303:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (nlen = 0; fs->lfnbuf[nlen]; nlen++) ;	/* Get lfn length */
 6878              		.loc 1 2303 52 view .LVU2321
 6879 0130 4FF00609 		mov	r9, #6
 6880 0134 B8E7     		b	.L519
 6881              	.LVL803:
 6882              	.L530:
2343:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_NO_FILE) return res;	/* Abort if the result is other than 'not collided' */
 6883              		.loc 1 2343 24 view .LVU2322
 6884 0136 4FF00709 		mov	r9, #7
 6885              	.LVL804:
2343:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_NO_FILE) return res;	/* Abort if the result is other than 'not collided' */
 6886              		.loc 1 2343 24 view .LVU2323
 6887 013a B5E7     		b	.L519
 6888              	.L537:
 6889              		.align	2
 6890              	.L536:
 6891 013c 4FECC44E 		.word	1321528399
 6892              		.cfi_endproc
 6893              	.LFE384:
 6895              		.section	.text.f_mount,"ax",%progbits
 6896              		.align	1
 6897              		.global	f_mount
 6898              		.syntax unified
 6899              		.thumb
 6900              		.thumb_func
 6901              		.fpu fpv5-d16
 6903              	f_mount:
 6904              	.LVL805:
 6905              	.LFB393:
3265:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *cfs;
 6906              		.loc 1 3265 1 is_stmt 1 view -0
 6907              		.cfi_startproc
 6908              		@ args = 0, pretend = 0, frame = 16
 6909              		@ frame_needed = 0, uses_anonymous_args = 0
3265:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *cfs;
 6910              		.loc 1 3265 1 is_stmt 0 view .LVU2325
 6911 0000 70B5     		push	{r4, r5, r6, lr}
 6912              	.LCFI50:
 6913              		.cfi_def_cfa_offset 16
 6914              		.cfi_offset 4, -16
 6915              		.cfi_offset 5, -12
 6916              		.cfi_offset 6, -8
 6917              		.cfi_offset 14, -4
 6918 0002 84B0     		sub	sp, sp, #16
 6919              	.LCFI51:
 6920              		.cfi_def_cfa_offset 32
 6921 0004 0190     		str	r0, [sp, #4]
 6922 0006 0091     		str	r1, [sp]
 6923 0008 1646     		mov	r6, r2
3266:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
 6924              		.loc 1 3266 2 is_stmt 1 view .LVU2326
3267:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6925              		.loc 1 3267 2 view .LVU2327
3268:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *rp = path;
 6926              		.loc 1 3268 2 view .LVU2328
3269:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6927              		.loc 1 3269 2 view .LVU2329
ARM GAS  /tmp/ccBfkcjf.s 			page 260


3269:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6928              		.loc 1 3269 15 is_stmt 0 view .LVU2330
 6929 000a 0391     		str	r1, [sp, #12]
3273:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 6930              		.loc 1 3273 2 is_stmt 1 view .LVU2331
3273:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 6931              		.loc 1 3273 8 is_stmt 0 view .LVU2332
 6932 000c 03A8     		add	r0, sp, #12
 6933              	.LVL806:
3273:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 6934              		.loc 1 3273 8 view .LVU2333
 6935 000e FFF7FEFF 		bl	get_ldnumber
 6936              	.LVL807:
3274:Middlewares/Third_Party/FatFs/src/ff.c **** 	cfs = FatFs[vol];					/* Pointer to fs object */
 6937              		.loc 1 3274 2 is_stmt 1 view .LVU2334
3274:Middlewares/Third_Party/FatFs/src/ff.c **** 	cfs = FatFs[vol];					/* Pointer to fs object */
 6938              		.loc 1 3274 5 is_stmt 0 view .LVU2335
 6939 0012 041E     		subs	r4, r0, #0
 6940 0014 20DB     		blt	.L542
3275:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6941              		.loc 1 3275 2 is_stmt 1 view .LVU2336
3275:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6942              		.loc 1 3275 6 is_stmt 0 view .LVU2337
 6943 0016 114B     		ldr	r3, .L546
 6944 0018 53F82450 		ldr	r5, [r3, r4, lsl #2]
 6945              	.LVL808:
3277:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 6946              		.loc 1 3277 2 is_stmt 1 view .LVU2338
3277:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 6947              		.loc 1 3277 5 is_stmt 0 view .LVU2339
 6948 001c 25B1     		cbz	r5, .L540
3279:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6949              		.loc 1 3279 3 is_stmt 1 view .LVU2340
 6950 001e 2846     		mov	r0, r5
 6951              	.LVL809:
3279:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6952              		.loc 1 3279 3 is_stmt 0 view .LVU2341
 6953 0020 FFF7FEFF 		bl	clear_lock
 6954              	.LVL810:
3284:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6955              		.loc 1 3284 3 is_stmt 1 view .LVU2342
3284:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6956              		.loc 1 3284 16 is_stmt 0 view .LVU2343
 6957 0024 0023     		movs	r3, #0
 6958 0026 2B70     		strb	r3, [r5]
 6959              	.L540:
3287:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fs_type = 0;				/* Clear new fs object */
 6960              		.loc 1 3287 2 is_stmt 1 view .LVU2344
3287:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fs_type = 0;				/* Clear new fs object */
 6961              		.loc 1 3287 6 is_stmt 0 view .LVU2345
 6962 0028 019B     		ldr	r3, [sp, #4]
3287:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fs_type = 0;				/* Clear new fs object */
 6963              		.loc 1 3287 5 view .LVU2346
 6964 002a 0BB1     		cbz	r3, .L541
3288:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT						/* Create sync object for the new volume */
 6965              		.loc 1 3288 3 is_stmt 1 view .LVU2347
3288:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT						/* Create sync object for the new volume */
ARM GAS  /tmp/ccBfkcjf.s 			page 261


 6966              		.loc 1 3288 15 is_stmt 0 view .LVU2348
 6967 002c 0022     		movs	r2, #0
 6968 002e 1A70     		strb	r2, [r3]
 6969              	.L541:
3293:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6970              		.loc 1 3293 2 is_stmt 1 view .LVU2349
3293:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6971              		.loc 1 3293 13 is_stmt 0 view .LVU2350
 6972 0030 019B     		ldr	r3, [sp, #4]
 6973 0032 0A4A     		ldr	r2, .L546
 6974 0034 42F82430 		str	r3, [r2, r4, lsl #2]
3295:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6975              		.loc 1 3295 2 is_stmt 1 view .LVU2351
3295:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6976              		.loc 1 3295 17 is_stmt 0 view .LVU2352
 6977 0038 721E     		subs	r2, r6, #1
 6978 003a 18BF     		it	ne
 6979 003c 0122     		movne	r2, #1
3295:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6980              		.loc 1 3295 10 view .LVU2353
 6981 003e 002B     		cmp	r3, #0
 6982 0040 08BF     		it	eq
 6983 0042 42F00102 		orreq	r2, r2, #1
3295:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6984              		.loc 1 3295 5 view .LVU2354
 6985 0046 12B1     		cbz	r2, .L545
3295:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6986              		.loc 1 3295 30 view .LVU2355
 6987 0048 0020     		movs	r0, #0
 6988              	.LVL811:
 6989              	.L539:
3299:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6990              		.loc 1 3299 1 view .LVU2356
 6991 004a 04B0     		add	sp, sp, #16
 6992              	.LCFI52:
 6993              		.cfi_remember_state
 6994              		.cfi_def_cfa_offset 16
 6995              		@ sp needed
 6996 004c 70BD     		pop	{r4, r5, r6, pc}
 6997              	.LVL812:
 6998              	.L545:
 6999              	.LCFI53:
 7000              		.cfi_restore_state
3297:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
 7001              		.loc 1 3297 2 is_stmt 1 view .LVU2357
3297:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
 7002              		.loc 1 3297 8 is_stmt 0 view .LVU2358
 7003 004e 01A9     		add	r1, sp, #4
 7004 0050 6846     		mov	r0, sp
 7005 0052 FFF7FEFF 		bl	find_volume
 7006              	.LVL813:
3298:Middlewares/Third_Party/FatFs/src/ff.c **** }
 7007              		.loc 1 3298 2 is_stmt 1 view .LVU2359
 7008 0056 F8E7     		b	.L539
 7009              	.LVL814:
 7010              	.L542:
3274:Middlewares/Third_Party/FatFs/src/ff.c **** 	cfs = FatFs[vol];					/* Pointer to fs object */
ARM GAS  /tmp/ccBfkcjf.s 			page 262


 7011              		.loc 1 3274 22 is_stmt 0 view .LVU2360
 7012 0058 0B20     		movs	r0, #11
 7013              	.LVL815:
3274:Middlewares/Third_Party/FatFs/src/ff.c **** 	cfs = FatFs[vol];					/* Pointer to fs object */
 7014              		.loc 1 3274 22 view .LVU2361
 7015 005a F6E7     		b	.L539
 7016              	.L547:
 7017              		.align	2
 7018              	.L546:
 7019 005c 00000000 		.word	.LANCHOR2
 7020              		.cfi_endproc
 7021              	.LFE393:
 7023              		.section	.text.f_open,"ax",%progbits
 7024              		.align	1
 7025              		.global	f_open
 7026              		.syntax unified
 7027              		.thumb
 7028              		.thumb_func
 7029              		.fpu fpv5-d16
 7031              	f_open:
 7032              	.LVL816:
 7033              	.LFB394:
3313:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7034              		.loc 1 3313 1 is_stmt 1 view -0
 7035              		.cfi_startproc
 7036              		@ args = 0, pretend = 0, frame = 64
 7037              		@ frame_needed = 0, uses_anonymous_args = 0
3313:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7038              		.loc 1 3313 1 is_stmt 0 view .LVU2363
 7039 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 7040              	.LCFI54:
 7041              		.cfi_def_cfa_offset 28
 7042              		.cfi_offset 4, -28
 7043              		.cfi_offset 5, -24
 7044              		.cfi_offset 6, -20
 7045              		.cfi_offset 7, -16
 7046              		.cfi_offset 8, -12
 7047              		.cfi_offset 9, -8
 7048              		.cfi_offset 14, -4
 7049 0004 91B0     		sub	sp, sp, #68
 7050              	.LCFI55:
 7051              		.cfi_def_cfa_offset 96
 7052 0006 0191     		str	r1, [sp, #4]
3314:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
 7053              		.loc 1 3314 2 is_stmt 1 view .LVU2364
3315:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 7054              		.loc 1 3315 2 view .LVU2365
3316:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 7055              		.loc 1 3316 2 view .LVU2366
3318:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t ofs;
 7056              		.loc 1 3318 2 view .LVU2367
3319:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7057              		.loc 1 3319 2 view .LVU2368
3324:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7058              		.loc 1 3324 2 view .LVU2369
3324:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7059              		.loc 1 3324 5 is_stmt 0 view .LVU2370
ARM GAS  /tmp/ccBfkcjf.s 			page 263


 7060 0008 0028     		cmp	r0, #0
 7061 000a 00F01581 		beq	.L564
 7062 000e 1546     		mov	r5, r2
 7063 0010 0646     		mov	r6, r0
3327:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, mode);
 7064              		.loc 1 3327 2 is_stmt 1 view .LVU2371
3327:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, mode);
 7065              		.loc 1 3327 7 is_stmt 0 view .LVU2372
 7066 0012 02F03F07 		and	r7, r2, #63
 7067              	.LVL817:
3328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7068              		.loc 1 3328 2 is_stmt 1 view .LVU2373
3328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7069              		.loc 1 3328 8 is_stmt 0 view .LVU2374
 7070 0016 3A46     		mov	r2, r7
 7071 0018 02A9     		add	r1, sp, #8
 7072              	.LVL818:
3328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7073              		.loc 1 3328 8 view .LVU2375
 7074 001a 01A8     		add	r0, sp, #4
 7075              	.LVL819:
3328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7076              		.loc 1 3328 8 view .LVU2376
 7077 001c FFF7FEFF 		bl	find_volume
 7078              	.LVL820:
3329:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.obj.fs = fs;
 7079              		.loc 1 3329 2 is_stmt 1 view .LVU2377
3329:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.obj.fs = fs;
 7080              		.loc 1 3329 5 is_stmt 0 view .LVU2378
 7081 0020 0446     		mov	r4, r0
 7082 0022 30B1     		cbz	r0, .L577
 7083              	.LVL821:
 7084              	.L550:
3496:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 7085              		.loc 1 3496 16 is_stmt 1 view .LVU2379
3499:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7086              		.loc 1 3499 2 view .LVU2380
3499:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7087              		.loc 1 3499 5 is_stmt 0 view .LVU2381
 7088 0024 0CB1     		cbz	r4, .L549
 7089              	.LVL822:
 7090              	.L563:
3499:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7091              		.loc 1 3499 20 is_stmt 1 discriminator 1 view .LVU2382
3499:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7092              		.loc 1 3499 31 is_stmt 0 discriminator 1 view .LVU2383
 7093 0026 0023     		movs	r3, #0
 7094 0028 3360     		str	r3, [r6]
 7095              	.LVL823:
 7096              	.L549:
3502:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7097              		.loc 1 3502 1 view .LVU2384
 7098 002a 2046     		mov	r0, r4
 7099 002c 11B0     		add	sp, sp, #68
 7100              	.LCFI56:
 7101              		.cfi_remember_state
 7102              		.cfi_def_cfa_offset 28
ARM GAS  /tmp/ccBfkcjf.s 			page 264


 7103              		@ sp needed
 7104 002e BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 7105              	.LVL824:
 7106              	.L577:
 7107              	.LCFI57:
 7108              		.cfi_restore_state
3330:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 7109              		.loc 1 3330 3 is_stmt 1 view .LVU2385
3330:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 7110              		.loc 1 3330 13 is_stmt 0 view .LVU2386
 7111 0032 029B     		ldr	r3, [sp, #8]
 7112 0034 0393     		str	r3, [sp, #12]
3331:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
 7113              		.loc 1 3331 18 is_stmt 1 view .LVU2387
3332:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY	/* R/W configuration */
 7114              		.loc 1 3332 3 view .LVU2388
3332:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY	/* R/W configuration */
 7115              		.loc 1 3332 9 is_stmt 0 view .LVU2389
 7116 0036 0199     		ldr	r1, [sp, #4]
 7117 0038 03A8     		add	r0, sp, #12
 7118              	.LVL825:
3332:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY	/* R/W configuration */
 7119              		.loc 1 3332 9 view .LVU2390
 7120 003a FFF7FEFF 		bl	follow_path
 7121              	.LVL826:
3334:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* Origin directory itself? */
 7122              		.loc 1 3334 3 is_stmt 1 view .LVU2391
3334:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* Origin directory itself? */
 7123              		.loc 1 3334 6 is_stmt 0 view .LVU2392
 7124 003e 0446     		mov	r4, r0
 7125 0040 60B9     		cbnz	r0, .L551
3335:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 7126              		.loc 1 3335 4 is_stmt 1 view .LVU2393
3335:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 7127              		.loc 1 3335 8 is_stmt 0 view .LVU2394
 7128 0042 9DF93B30 		ldrsb	r3, [sp, #59]
3335:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 7129              		.loc 1 3335 7 view .LVU2395
 7130 0046 002B     		cmp	r3, #0
 7131 0048 50DB     		blt	.L565
3340:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7132              		.loc 1 3340 5 is_stmt 1 view .LVU2396
3340:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7133              		.loc 1 3340 11 is_stmt 0 view .LVU2397
 7134 004a 37F00103 		bics	r3, r7, #1
 7135 004e 14BF     		ite	ne
 7136 0050 0121     		movne	r1, #1
 7137 0052 0021     		moveq	r1, #0
 7138 0054 03A8     		add	r0, sp, #12
 7139              	.LVL827:
3340:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7140              		.loc 1 3340 11 view .LVU2398
 7141 0056 FFF7FEFF 		bl	chk_lock
 7142              	.LVL828:
 7143 005a 0446     		mov	r4, r0
 7144              	.LVL829:
 7145              	.L551:
ARM GAS  /tmp/ccBfkcjf.s 			page 265


3345:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {					/* No file, create new */
 7146              		.loc 1 3345 3 is_stmt 1 view .LVU2399
3345:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {					/* No file, create new */
 7147              		.loc 1 3345 6 is_stmt 0 view .LVU2400
 7148 005c 15F01C0F 		tst	r5, #28
 7149 0060 5AD0     		beq	.L552
3346:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {		/* There is no file to open, create a new entry */
 7150              		.loc 1 3346 4 is_stmt 1 view .LVU2401
3346:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {		/* There is no file to open, create a new entry */
 7151              		.loc 1 3346 7 is_stmt 0 view .LVU2402
 7152 0062 002C     		cmp	r4, #0
 7153 0064 4ED0     		beq	.L553
3347:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 7154              		.loc 1 3347 5 is_stmt 1 view .LVU2403
3347:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 7155              		.loc 1 3347 8 is_stmt 0 view .LVU2404
 7156 0066 042C     		cmp	r4, #4
 7157 0068 42D0     		beq	.L578
 7158              	.LVL830:
 7159              	.L554:
3354:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7160              		.loc 1 3354 5 is_stmt 1 view .LVU2405
3354:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7161              		.loc 1 3354 10 is_stmt 0 view .LVU2406
 7162 006a 47F00807 		orr	r7, r7, #8
 7163              	.LVL831:
 7164              	.L555:
3363:Middlewares/Third_Party/FatFs/src/ff.c **** 				dw = GET_FATTIME();
 7165              		.loc 1 3363 4 is_stmt 1 view .LVU2407
3363:Middlewares/Third_Party/FatFs/src/ff.c **** 				dw = GET_FATTIME();
 7166              		.loc 1 3363 7 is_stmt 0 view .LVU2408
 7167 006e 002C     		cmp	r4, #0
 7168 0070 61D1     		bne	.L556
3363:Middlewares/Third_Party/FatFs/src/ff.c **** 				dw = GET_FATTIME();
 7169              		.loc 1 3363 21 discriminator 1 view .LVU2409
 7170 0072 17F0080F 		tst	r7, #8
 7171 0076 5ED0     		beq	.L556
3364:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 7172              		.loc 1 3364 5 is_stmt 1 view .LVU2410
3364:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 7173              		.loc 1 3364 10 is_stmt 0 view .LVU2411
 7174 0078 FFF7FEFF 		bl	get_fattime
 7175              	.LVL832:
 7176 007c 0546     		mov	r5, r0
 7177              	.LVL833:
3392:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dj.dir + DIR_ModTime, dw);	/* Set modified time */
 7178              		.loc 1 3392 6 is_stmt 1 view .LVU2412
 7179 007e 0146     		mov	r1, r0
 7180 0080 0B98     		ldr	r0, [sp, #44]
 7181              	.LVL834:
3392:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dj.dir + DIR_ModTime, dw);	/* Set modified time */
 7182              		.loc 1 3392 6 is_stmt 0 view .LVU2413
 7183 0082 0E30     		adds	r0, r0, #14
 7184 0084 FFF7FEFF 		bl	st_dword
 7185              	.LVL835:
3393:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.dir[DIR_Attr] = AM_ARC;			/* Reset attribute */
 7186              		.loc 1 3393 6 is_stmt 1 view .LVU2414
ARM GAS  /tmp/ccBfkcjf.s 			page 266


 7187 0088 2946     		mov	r1, r5
 7188 008a 0B98     		ldr	r0, [sp, #44]
 7189 008c 1630     		adds	r0, r0, #22
 7190 008e FFF7FEFF 		bl	st_dword
 7191              	.LVL836:
3394:Middlewares/Third_Party/FatFs/src/ff.c **** 					cl = ld_clust(fs, dj.dir);			/* Get cluster chain */
 7192              		.loc 1 3394 6 view .LVU2415
3394:Middlewares/Third_Party/FatFs/src/ff.c **** 					cl = ld_clust(fs, dj.dir);			/* Get cluster chain */
 7193              		.loc 1 3394 23 is_stmt 0 view .LVU2416
 7194 0092 0B9B     		ldr	r3, [sp, #44]
 7195 0094 2022     		movs	r2, #32
 7196 0096 DA72     		strb	r2, [r3, #11]
3395:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dj.dir, 0);			/* Reset file allocation info */
 7197              		.loc 1 3395 6 is_stmt 1 view .LVU2417
3395:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dj.dir, 0);			/* Reset file allocation info */
 7198              		.loc 1 3395 11 is_stmt 0 view .LVU2418
 7199 0098 DDF80880 		ldr	r8, [sp, #8]
3395:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dj.dir, 0);			/* Reset file allocation info */
 7200              		.loc 1 3395 26 view .LVU2419
 7201 009c DDF82C90 		ldr	r9, [sp, #44]
3395:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dj.dir, 0);			/* Reset file allocation info */
 7202              		.loc 1 3395 11 view .LVU2420
 7203 00a0 4946     		mov	r1, r9
 7204 00a2 4046     		mov	r0, r8
 7205 00a4 FFF7FEFF 		bl	ld_clust
 7206              	.LVL837:
 7207 00a8 0546     		mov	r5, r0
 7208              	.LVL838:
3396:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dj.dir + DIR_FileSize, 0);
 7209              		.loc 1 3396 6 is_stmt 1 view .LVU2421
 7210 00aa 0022     		movs	r2, #0
 7211 00ac 4946     		mov	r1, r9
 7212 00ae 4046     		mov	r0, r8
 7213              	.LVL839:
3396:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dj.dir + DIR_FileSize, 0);
 7214              		.loc 1 3396 6 is_stmt 0 view .LVU2422
 7215 00b0 FFF7FEFF 		bl	st_clust
 7216              	.LVL840:
3397:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 7217              		.loc 1 3397 6 is_stmt 1 view .LVU2423
 7218 00b4 0021     		movs	r1, #0
 7219 00b6 0B98     		ldr	r0, [sp, #44]
 7220 00b8 1C30     		adds	r0, r0, #28
 7221 00ba FFF7FEFF 		bl	st_dword
 7222              	.LVL841:
3398:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7223              		.loc 1 3398 6 view .LVU2424
3398:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7224              		.loc 1 3398 16 is_stmt 0 view .LVU2425
 7225 00be 029B     		ldr	r3, [sp, #8]
 7226 00c0 0122     		movs	r2, #1
 7227 00c2 DA70     		strb	r2, [r3, #3]
3400:Middlewares/Third_Party/FatFs/src/ff.c **** 						dw = fs->winsect;
 7228              		.loc 1 3400 6 is_stmt 1 view .LVU2426
3400:Middlewares/Third_Party/FatFs/src/ff.c **** 						dw = fs->winsect;
 7229              		.loc 1 3400 9 is_stmt 0 view .LVU2427
 7230 00c4 BDB3     		cbz	r5, .L556
ARM GAS  /tmp/ccBfkcjf.s 			page 267


3401:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = remove_chain(&dj.obj, cl, 0);
 7231              		.loc 1 3401 7 is_stmt 1 view .LVU2428
3401:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = remove_chain(&dj.obj, cl, 0);
 7232              		.loc 1 3401 14 is_stmt 0 view .LVU2429
 7233 00c6 029B     		ldr	r3, [sp, #8]
3401:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = remove_chain(&dj.obj, cl, 0);
 7234              		.loc 1 3401 10 view .LVU2430
 7235 00c8 D3F83480 		ldr	r8, [r3, #52]
 7236              	.LVL842:
3402:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
 7237              		.loc 1 3402 7 is_stmt 1 view .LVU2431
3402:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
 7238              		.loc 1 3402 13 is_stmt 0 view .LVU2432
 7239 00cc 0022     		movs	r2, #0
 7240 00ce 2946     		mov	r1, r5
 7241 00d0 03A8     		add	r0, sp, #12
 7242 00d2 FFF7FEFF 		bl	remove_chain
 7243              	.LVL843:
3403:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = move_window(fs, dw);
 7244              		.loc 1 3403 7 is_stmt 1 view .LVU2433
3403:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = move_window(fs, dw);
 7245              		.loc 1 3403 10 is_stmt 0 view .LVU2434
 7246 00d6 0446     		mov	r4, r0
 7247 00d8 68BB     		cbnz	r0, .L556
3404:Middlewares/Third_Party/FatFs/src/ff.c **** 							fs->last_clst = cl - 1;		/* Reuse the cluster hole */
 7248              		.loc 1 3404 8 is_stmt 1 view .LVU2435
3404:Middlewares/Third_Party/FatFs/src/ff.c **** 							fs->last_clst = cl - 1;		/* Reuse the cluster hole */
 7249              		.loc 1 3404 14 is_stmt 0 view .LVU2436
 7250 00da 4146     		mov	r1, r8
 7251 00dc 0298     		ldr	r0, [sp, #8]
 7252              	.LVL844:
3404:Middlewares/Third_Party/FatFs/src/ff.c **** 							fs->last_clst = cl - 1;		/* Reuse the cluster hole */
 7253              		.loc 1 3404 14 view .LVU2437
 7254 00de FFF7FEFF 		bl	move_window
 7255              	.LVL845:
 7256 00e2 0446     		mov	r4, r0
 7257              	.LVL846:
3405:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 7258              		.loc 1 3405 8 is_stmt 1 view .LVU2438
3405:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 7259              		.loc 1 3405 27 is_stmt 0 view .LVU2439
 7260 00e4 013D     		subs	r5, r5, #1
 7261              	.LVL847:
3405:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 7262              		.loc 1 3405 22 view .LVU2440
 7263 00e6 029B     		ldr	r3, [sp, #8]
 7264 00e8 5D61     		str	r5, [r3, #20]
 7265 00ea 24E0     		b	.L556
 7266              	.LVL848:
 7267              	.L565:
3336:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7268              		.loc 1 3336 9 view .LVU2441
 7269 00ec 0624     		movs	r4, #6
 7270 00ee B5E7     		b	.L551
 7271              	.LVL849:
 7272              	.L578:
3349:Middlewares/Third_Party/FatFs/src/ff.c **** #else
ARM GAS  /tmp/ccBfkcjf.s 			page 268


 7273              		.loc 1 3349 6 is_stmt 1 view .LVU2442
3349:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 7274              		.loc 1 3349 12 is_stmt 0 view .LVU2443
 7275 00f0 FFF7FEFF 		bl	enq_lock
 7276              	.LVL850:
3349:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 7277              		.loc 1 3349 43 view .LVU2444
 7278 00f4 08B9     		cbnz	r0, .L579
 7279 00f6 1224     		movs	r4, #18
 7280              	.LVL851:
3349:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 7281              		.loc 1 3349 43 view .LVU2445
 7282 00f8 B7E7     		b	.L554
 7283              	.LVL852:
 7284              	.L579:
3349:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 7285              		.loc 1 3349 25 discriminator 1 view .LVU2446
 7286 00fa 03A8     		add	r0, sp, #12
 7287 00fc FFF7FEFF 		bl	dir_register
 7288              	.LVL853:
 7289 0100 0446     		mov	r4, r0
 7290              	.LVL854:
3349:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 7291              		.loc 1 3349 25 discriminator 1 view .LVU2447
 7292 0102 B2E7     		b	.L554
 7293              	.LVL855:
 7294              	.L553:
3357:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;
 7295              		.loc 1 3357 5 is_stmt 1 view .LVU2448
3357:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;
 7296              		.loc 1 3357 15 is_stmt 0 view .LVU2449
 7297 0104 9DF81230 		ldrb	r3, [sp, #18]	@ zero_extendqisi2
3357:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;
 7298              		.loc 1 3357 8 view .LVU2450
 7299 0108 13F0110F 		tst	r3, #17
 7300 010c 12D1     		bne	.L567
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7301              		.loc 1 3360 6 is_stmt 1 view .LVU2451
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7302              		.loc 1 3360 9 is_stmt 0 view .LVU2452
 7303 010e 15F0040F 		tst	r5, #4
 7304 0112 ACD0     		beq	.L555
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7305              		.loc 1 3360 36 view .LVU2453
 7306 0114 0824     		movs	r4, #8
 7307              	.LVL856:
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7308              		.loc 1 3360 36 view .LVU2454
 7309 0116 0EE0     		b	.L556
 7310              	.LVL857:
 7311              	.L552:
3412:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_DIR) {		/* It is a directory */
 7312              		.loc 1 3412 4 is_stmt 1 view .LVU2455
3412:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_DIR) {		/* It is a directory */
 7313              		.loc 1 3412 7 is_stmt 0 view .LVU2456
 7314 0118 6CB9     		cbnz	r4, .L556
3413:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
ARM GAS  /tmp/ccBfkcjf.s 			page 269


 7315              		.loc 1 3413 5 is_stmt 1 view .LVU2457
3413:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
 7316              		.loc 1 3413 15 is_stmt 0 view .LVU2458
 7317 011a 9DF81230 		ldrb	r3, [sp, #18]	@ zero_extendqisi2
3413:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
 7318              		.loc 1 3413 8 view .LVU2459
 7319 011e 13F0100F 		tst	r3, #16
 7320 0122 4ED1     		bne	.L569
3416:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
 7321              		.loc 1 3416 6 is_stmt 1 view .LVU2460
3416:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
 7322              		.loc 1 3416 9 is_stmt 0 view .LVU2461
 7323 0124 15F0020F 		tst	r5, #2
 7324 0128 05D0     		beq	.L556
3416:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
 7325              		.loc 1 3416 28 discriminator 1 view .LVU2462
 7326 012a 13F0010F 		tst	r3, #1
 7327 012e 02D0     		beq	.L556
3417:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7328              		.loc 1 3417 11 view .LVU2463
 7329 0130 0724     		movs	r4, #7
 7330              	.LVL858:
3417:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7331              		.loc 1 3417 11 view .LVU2464
 7332 0132 16E0     		b	.L557
 7333              	.LVL859:
 7334              	.L567:
3358:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 7335              		.loc 1 3358 10 view .LVU2465
 7336 0134 0724     		movs	r4, #7
 7337              	.LVL860:
 7338              	.L556:
3422:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (mode & FA_CREATE_ALWAYS)		/* Set file change flag if created or overwritten */
 7339              		.loc 1 3422 3 is_stmt 1 view .LVU2466
3422:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (mode & FA_CREATE_ALWAYS)		/* Set file change flag if created or overwritten */
 7340              		.loc 1 3422 6 is_stmt 0 view .LVU2467
 7341 0136 A4B9     		cbnz	r4, .L557
3423:Middlewares/Third_Party/FatFs/src/ff.c **** 				mode |= FA_MODIFIED;
 7342              		.loc 1 3423 4 is_stmt 1 view .LVU2468
3423:Middlewares/Third_Party/FatFs/src/ff.c **** 				mode |= FA_MODIFIED;
 7343              		.loc 1 3423 7 is_stmt 0 view .LVU2469
 7344 0138 17F0080F 		tst	r7, #8
 7345 013c 01D0     		beq	.L558
3424:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_sect = fs->winsect;			/* Pointer to the directory entry */
 7346              		.loc 1 3424 5 is_stmt 1 view .LVU2470
3424:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_sect = fs->winsect;			/* Pointer to the directory entry */
 7347              		.loc 1 3424 10 is_stmt 0 view .LVU2471
 7348 013e 47F04007 		orr	r7, r7, #64
 7349              	.LVL861:
 7350              	.L558:
3425:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_ptr = dj.dir;
 7351              		.loc 1 3425 4 is_stmt 1 view .LVU2472
3425:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_ptr = dj.dir;
 7352              		.loc 1 3425 21 is_stmt 0 view .LVU2473
 7353 0142 029B     		ldr	r3, [sp, #8]
 7354 0144 5B6B     		ldr	r3, [r3, #52]
3425:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_ptr = dj.dir;
ARM GAS  /tmp/ccBfkcjf.s 			page 270


 7355              		.loc 1 3425 17 view .LVU2474
 7356 0146 7362     		str	r3, [r6, #36]
3426:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 7357              		.loc 1 3426 4 is_stmt 1 view .LVU2475
3426:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 7358              		.loc 1 3426 20 is_stmt 0 view .LVU2476
 7359 0148 0B9B     		ldr	r3, [sp, #44]
3426:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 7360              		.loc 1 3426 16 view .LVU2477
 7361 014a B362     		str	r3, [r6, #40]
3428:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!fp->obj.lockid) res = FR_INT_ERR;
 7362              		.loc 1 3428 4 is_stmt 1 view .LVU2478
3428:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!fp->obj.lockid) res = FR_INT_ERR;
 7363              		.loc 1 3428 21 is_stmt 0 view .LVU2479
 7364 014c 37F00103 		bics	r3, r7, #1
 7365 0150 14BF     		ite	ne
 7366 0152 0121     		movne	r1, #1
 7367 0154 0021     		moveq	r1, #0
 7368 0156 03A8     		add	r0, sp, #12
 7369 0158 FFF7FEFF 		bl	inc_lock
 7370              	.LVL862:
3428:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!fp->obj.lockid) res = FR_INT_ERR;
 7371              		.loc 1 3428 19 view .LVU2480
 7372 015c 3061     		str	r0, [r6, #16]
3429:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7373              		.loc 1 3429 4 is_stmt 1 view .LVU2481
3429:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7374              		.loc 1 3429 7 is_stmt 0 view .LVU2482
 7375 015e 0028     		cmp	r0, #0
 7376 0160 68D0     		beq	.L571
 7377              	.LVL863:
 7378              	.L557:
3444:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 7379              		.loc 1 3444 3 is_stmt 1 view .LVU2483
3444:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 7380              		.loc 1 3444 6 is_stmt 0 view .LVU2484
 7381 0162 002C     		cmp	r4, #0
 7382 0164 7FF45EAF 		bne	.L550
3456:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.objsize = ld_dword(dj.dir + DIR_FileSize);
 7383              		.loc 1 3456 5 is_stmt 1 view .LVU2485
3456:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.objsize = ld_dword(dj.dir + DIR_FileSize);
 7384              		.loc 1 3456 22 is_stmt 0 view .LVU2486
 7385 0168 029D     		ldr	r5, [sp, #8]
3456:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.objsize = ld_dword(dj.dir + DIR_FileSize);
 7386              		.loc 1 3456 37 view .LVU2487
 7387 016a DDF82C80 		ldr	r8, [sp, #44]
3456:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.objsize = ld_dword(dj.dir + DIR_FileSize);
 7388              		.loc 1 3456 22 view .LVU2488
 7389 016e 4146     		mov	r1, r8
 7390 0170 2846     		mov	r0, r5
 7391 0172 FFF7FEFF 		bl	ld_clust
 7392              	.LVL864:
3456:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.objsize = ld_dword(dj.dir + DIR_FileSize);
 7393              		.loc 1 3456 20 view .LVU2489
 7394 0176 B060     		str	r0, [r6, #8]
3457:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7395              		.loc 1 3457 5 is_stmt 1 view .LVU2490
ARM GAS  /tmp/ccBfkcjf.s 			page 271


3457:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7396              		.loc 1 3457 23 is_stmt 0 view .LVU2491
 7397 0178 08F11C00 		add	r0, r8, #28
 7398 017c FFF7FEFF 		bl	ld_dword
 7399              	.LVL865:
3457:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7400              		.loc 1 3457 21 view .LVU2492
 7401 0180 F060     		str	r0, [r6, #12]
3460:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7402              		.loc 1 3460 4 is_stmt 1 view .LVU2493
3460:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7403              		.loc 1 3460 14 is_stmt 0 view .LVU2494
 7404 0182 0021     		movs	r1, #0
 7405 0184 F162     		str	r1, [r6, #44]
3462:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.id = fs->id;
 7406              		.loc 1 3462 4 is_stmt 1 view .LVU2495
3462:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.id = fs->id;
 7407              		.loc 1 3462 15 is_stmt 0 view .LVU2496
 7408 0186 3560     		str	r5, [r6]
3463:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag = mode;		/* Set file access mode */
 7409              		.loc 1 3463 4 is_stmt 1 view .LVU2497
3463:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag = mode;		/* Set file access mode */
 7410              		.loc 1 3463 19 is_stmt 0 view .LVU2498
 7411 0188 EB88     		ldrh	r3, [r5, #6]
3463:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag = mode;		/* Set file access mode */
 7412              		.loc 1 3463 15 view .LVU2499
 7413 018a B380     		strh	r3, [r6, #4]	@ movhi
3464:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->err = 0;			/* Clear error flag */
 7414              		.loc 1 3464 4 is_stmt 1 view .LVU2500
3464:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->err = 0;			/* Clear error flag */
 7415              		.loc 1 3464 13 is_stmt 0 view .LVU2501
 7416 018c 3775     		strb	r7, [r6, #20]
3465:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sect = 0;			/* Invalidate current data sector */
 7417              		.loc 1 3465 4 is_stmt 1 view .LVU2502
3465:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sect = 0;			/* Invalidate current data sector */
 7418              		.loc 1 3465 12 is_stmt 0 view .LVU2503
 7419 018e 7175     		strb	r1, [r6, #21]
3466:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = 0;			/* Set file pointer top of the file */
 7420              		.loc 1 3466 4 is_stmt 1 view .LVU2504
3466:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = 0;			/* Set file pointer top of the file */
 7421              		.loc 1 3466 13 is_stmt 0 view .LVU2505
 7422 0190 3162     		str	r1, [r6, #32]
3467:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 7423              		.loc 1 3467 4 is_stmt 1 view .LVU2506
3467:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 7424              		.loc 1 3467 13 is_stmt 0 view .LVU2507
 7425 0192 B161     		str	r1, [r6, #24]
3470:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7426              		.loc 1 3470 4 is_stmt 1 view .LVU2508
3470:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7427              		.loc 1 3470 14 is_stmt 0 view .LVU2509
 7428 0194 06F13008 		add	r8, r6, #48
3470:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7429              		.loc 1 3470 4 view .LVU2510
 7430 0198 4FF48052 		mov	r2, #4096
 7431 019c 4046     		mov	r0, r8
 7432 019e FFF7FEFF 		bl	mem_set
ARM GAS  /tmp/ccBfkcjf.s 			page 272


 7433              	.LVL866:
3472:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = fp->obj.objsize;			/* Offset to seek */
 7434              		.loc 1 3472 4 is_stmt 1 view .LVU2511
3472:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = fp->obj.objsize;			/* Offset to seek */
 7435              		.loc 1 3472 7 is_stmt 0 view .LVU2512
 7436 01a2 17F0200F 		tst	r7, #32
 7437 01a6 3FF43DAF 		beq	.L550
3472:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = fp->obj.objsize;			/* Offset to seek */
 7438              		.loc 1 3472 38 discriminator 1 view .LVU2513
 7439 01aa F568     		ldr	r5, [r6, #12]
3472:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = fp->obj.objsize;			/* Offset to seek */
 7440              		.loc 1 3472 28 discriminator 1 view .LVU2514
 7441 01ac 002D     		cmp	r5, #0
 7442 01ae 3FF439AF 		beq	.L550
3473:Middlewares/Third_Party/FatFs/src/ff.c **** 				bcs = (DWORD)fs->csize * SS(fs);	/* Cluster size in byte */
 7443              		.loc 1 3473 5 is_stmt 1 view .LVU2515
3473:Middlewares/Third_Party/FatFs/src/ff.c **** 				bcs = (DWORD)fs->csize * SS(fs);	/* Cluster size in byte */
 7444              		.loc 1 3473 14 is_stmt 0 view .LVU2516
 7445 01b2 B561     		str	r5, [r6, #24]
3474:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->obj.sclust;				/* Follow the cluster chain */
 7446              		.loc 1 3474 5 is_stmt 1 view .LVU2517
3474:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->obj.sclust;				/* Follow the cluster chain */
 7447              		.loc 1 3474 20 is_stmt 0 view .LVU2518
 7448 01b4 029B     		ldr	r3, [sp, #8]
 7449 01b6 5F89     		ldrh	r7, [r3, #10]
 7450              	.LVL867:
3474:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->obj.sclust;				/* Follow the cluster chain */
 7451              		.loc 1 3474 30 view .LVU2519
 7452 01b8 9B89     		ldrh	r3, [r3, #12]
3474:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->obj.sclust;				/* Follow the cluster chain */
 7453              		.loc 1 3474 9 view .LVU2520
 7454 01ba 03FB07F7 		mul	r7, r3, r7
 7455              	.LVL868:
3475:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (ofs = fp->obj.objsize; res == FR_OK && ofs > bcs; ofs -= bcs) {
 7456              		.loc 1 3475 5 is_stmt 1 view .LVU2521
3475:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (ofs = fp->obj.objsize; res == FR_OK && ofs > bcs; ofs -= bcs) {
 7457              		.loc 1 3475 10 is_stmt 0 view .LVU2522
 7458 01be B168     		ldr	r1, [r6, #8]
 7459              	.LVL869:
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
 7460              		.loc 1 3476 5 is_stmt 1 view .LVU2523
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
 7461              		.loc 1 3476 5 is_stmt 0 view .LVU2524
 7462 01c0 05E0     		b	.L559
 7463              	.LVL870:
 7464              	.L569:
3414:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 7465              		.loc 1 3414 10 view .LVU2525
 7466 01c2 0424     		movs	r4, #4
 7467              	.LVL871:
3414:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 7468              		.loc 1 3414 10 view .LVU2526
 7469 01c4 CDE7     		b	.L557
 7470              	.LVL872:
 7471              	.L560:
3479:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7472              		.loc 1 3479 6 is_stmt 1 view .LVU2527
ARM GAS  /tmp/ccBfkcjf.s 			page 273


3479:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7473              		.loc 1 3479 9 is_stmt 0 view .LVU2528
 7474 01c6 B1F1FF3F 		cmp	r1, #-1
 7475 01ca 0FD0     		beq	.L580
 7476              	.LVL873:
 7477              	.L561:
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
 7478              		.loc 1 3476 60 is_stmt 1 discriminator 2 view .LVU2529
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
 7479              		.loc 1 3476 64 is_stmt 0 discriminator 2 view .LVU2530
 7480 01cc ED1B     		subs	r5, r5, r7
 7481              	.LVL874:
 7482              	.L559:
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
 7483              		.loc 1 3476 33 is_stmt 1 discriminator 1 view .LVU2531
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
 7484              		.loc 1 3476 46 is_stmt 0 discriminator 1 view .LVU2532
 7485 01ce B4FA84F3 		clz	r3, r4
 7486 01d2 5B09     		lsrs	r3, r3, #5
 7487 01d4 BD42     		cmp	r5, r7
 7488 01d6 98BF     		it	ls
 7489 01d8 0023     		movls	r3, #0
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
 7490              		.loc 1 3476 5 discriminator 1 view .LVU2533
 7491 01da 4BB1     		cbz	r3, .L581
3477:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1) res = FR_INT_ERR;
 7492              		.loc 1 3477 6 is_stmt 1 view .LVU2534
3477:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1) res = FR_INT_ERR;
 7493              		.loc 1 3477 13 is_stmt 0 view .LVU2535
 7494 01dc 3046     		mov	r0, r6
 7495 01de FFF7FEFF 		bl	get_fat
 7496              	.LVL875:
3477:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1) res = FR_INT_ERR;
 7497              		.loc 1 3477 13 view .LVU2536
 7498 01e2 0146     		mov	r1, r0
 7499              	.LVL876:
3478:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) res = FR_DISK_ERR;
 7500              		.loc 1 3478 6 is_stmt 1 view .LVU2537
3478:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) res = FR_DISK_ERR;
 7501              		.loc 1 3478 9 is_stmt 0 view .LVU2538
 7502 01e4 0128     		cmp	r0, #1
 7503 01e6 EED8     		bhi	.L560
3478:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) res = FR_DISK_ERR;
 7504              		.loc 1 3478 25 view .LVU2539
 7505 01e8 0224     		movs	r4, #2
 7506              	.LVL877:
3478:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) res = FR_DISK_ERR;
 7507              		.loc 1 3478 25 view .LVU2540
 7508 01ea ECE7     		b	.L560
 7509              	.LVL878:
 7510              	.L580:
3479:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7511              		.loc 1 3479 34 view .LVU2541
 7512 01ec 0124     		movs	r4, #1
 7513              	.LVL879:
3479:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7514              		.loc 1 3479 34 view .LVU2542
ARM GAS  /tmp/ccBfkcjf.s 			page 274


 7515 01ee EDE7     		b	.L561
 7516              	.LVL880:
 7517              	.L581:
3481:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && ofs % SS(fs)) {	/* Fill sector buffer if not on the sector boundary */
 7518              		.loc 1 3481 5 is_stmt 1 view .LVU2543
3481:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && ofs % SS(fs)) {	/* Fill sector buffer if not on the sector boundary */
 7519              		.loc 1 3481 15 is_stmt 0 view .LVU2544
 7520 01f0 F161     		str	r1, [r6, #28]
3482:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((sc = clust2sect(fs, clst)) == 0) {
 7521              		.loc 1 3482 5 is_stmt 1 view .LVU2545
3482:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((sc = clust2sect(fs, clst)) == 0) {
 7522              		.loc 1 3482 8 is_stmt 0 view .LVU2546
 7523 01f2 002C     		cmp	r4, #0
 7524 01f4 7FF416AF 		bne	.L550
3482:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((sc = clust2sect(fs, clst)) == 0) {
 7525              		.loc 1 3482 31 discriminator 1 view .LVU2547
 7526 01f8 029F     		ldr	r7, [sp, #8]
 7527              	.LVL881:
3482:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((sc = clust2sect(fs, clst)) == 0) {
 7528              		.loc 1 3482 31 discriminator 1 view .LVU2548
 7529 01fa B7F80C90 		ldrh	r9, [r7, #12]
3482:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((sc = clust2sect(fs, clst)) == 0) {
 7530              		.loc 1 3482 29 discriminator 1 view .LVU2549
 7531 01fe B5FBF9F3 		udiv	r3, r5, r9
 7532 0202 09FB1353 		mls	r3, r9, r3, r5
3482:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((sc = clust2sect(fs, clst)) == 0) {
 7533              		.loc 1 3482 22 discriminator 1 view .LVU2550
 7534 0206 002B     		cmp	r3, #0
 7535 0208 3FF40CAF 		beq	.L550
3483:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_INT_ERR;
 7536              		.loc 1 3483 6 is_stmt 1 view .LVU2551
3483:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_INT_ERR;
 7537              		.loc 1 3483 16 is_stmt 0 view .LVU2552
 7538 020c 3846     		mov	r0, r7
 7539 020e FFF7FEFF 		bl	clust2sect
 7540              	.LVL882:
3483:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_INT_ERR;
 7541              		.loc 1 3483 9 view .LVU2553
 7542 0212 08B9     		cbnz	r0, .L582
3484:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 7543              		.loc 1 3484 11 view .LVU2554
 7544 0214 0224     		movs	r4, #2
 7545              	.LVL883:
3484:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 7546              		.loc 1 3484 11 view .LVU2555
 7547 0216 06E7     		b	.L563
 7548              	.LVL884:
 7549              	.L582:
3486:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7550              		.loc 1 3486 7 is_stmt 1 view .LVU2556
3486:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7551              		.loc 1 3486 23 is_stmt 0 view .LVU2557
 7552 0218 B5FBF9F2 		udiv	r2, r5, r9
3486:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7553              		.loc 1 3486 21 view .LVU2558
 7554 021c 0244     		add	r2, r2, r0
3486:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
ARM GAS  /tmp/ccBfkcjf.s 			page 275


 7555              		.loc 1 3486 16 view .LVU2559
 7556 021e 3262     		str	r2, [r6, #32]
3488:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7557              		.loc 1 3488 7 is_stmt 1 view .LVU2560
3488:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7558              		.loc 1 3488 11 is_stmt 0 view .LVU2561
 7559 0220 0123     		movs	r3, #1
 7560 0222 4146     		mov	r1, r8
 7561 0224 7878     		ldrb	r0, [r7, #1]	@ zero_extendqisi2
 7562              	.LVL885:
3488:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7563              		.loc 1 3488 11 view .LVU2562
 7564 0226 FFF7FEFF 		bl	disk_read
 7565              	.LVL886:
3488:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7566              		.loc 1 3488 10 view .LVU2563
 7567 022a 0028     		cmp	r0, #0
 7568 022c 3FF4FAAE 		beq	.L550
3488:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7569              		.loc 1 3488 67 view .LVU2564
 7570 0230 0124     		movs	r4, #1
 7571              	.LVL887:
3488:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7572              		.loc 1 3488 67 view .LVU2565
 7573 0232 F8E6     		b	.L563
 7574              	.LVL888:
 7575              	.L571:
3429:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7576              		.loc 1 3429 29 view .LVU2566
 7577 0234 0224     		movs	r4, #2
 7578              	.LVL889:
3429:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7579              		.loc 1 3429 29 view .LVU2567
 7580 0236 F5E6     		b	.L550
 7581              	.LVL890:
 7582              	.L564:
3324:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7583              		.loc 1 3324 18 view .LVU2568
 7584 0238 0924     		movs	r4, #9
 7585 023a F6E6     		b	.L549
 7586              		.cfi_endproc
 7587              	.LFE394:
 7589              		.section	.text.f_read,"ax",%progbits
 7590              		.align	1
 7591              		.global	f_read
 7592              		.syntax unified
 7593              		.thumb
 7594              		.thumb_func
 7595              		.fpu fpv5-d16
 7597              	f_read:
 7598              	.LVL891:
 7599              	.LFB395:
3517:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7600              		.loc 1 3517 1 is_stmt 1 view -0
 7601              		.cfi_startproc
 7602              		@ args = 0, pretend = 0, frame = 16
 7603              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccBfkcjf.s 			page 276


3517:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7604              		.loc 1 3517 1 is_stmt 0 view .LVU2570
 7605 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 7606              	.LCFI58:
 7607              		.cfi_def_cfa_offset 36
 7608              		.cfi_offset 4, -36
 7609              		.cfi_offset 5, -32
 7610              		.cfi_offset 6, -28
 7611              		.cfi_offset 7, -24
 7612              		.cfi_offset 8, -20
 7613              		.cfi_offset 9, -16
 7614              		.cfi_offset 10, -12
 7615              		.cfi_offset 11, -8
 7616              		.cfi_offset 14, -4
 7617 0004 85B0     		sub	sp, sp, #20
 7618              	.LCFI59:
 7619              		.cfi_def_cfa_offset 56
 7620 0006 0446     		mov	r4, r0
 7621 0008 0F46     		mov	r7, r1
 7622 000a 1546     		mov	r5, r2
 7623 000c 9846     		mov	r8, r3
3518:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 7624              		.loc 1 3518 2 is_stmt 1 view .LVU2571
3519:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
 7625              		.loc 1 3519 2 view .LVU2572
3520:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t remain;
 7626              		.loc 1 3520 2 view .LVU2573
3521:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rcnt, cc, csect;
 7627              		.loc 1 3521 2 view .LVU2574
3522:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *rbuff = (BYTE*)buff;
 7628              		.loc 1 3522 2 view .LVU2575
3523:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7629              		.loc 1 3523 2 view .LVU2576
 7630              	.LVL892:
3526:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);				/* Check validity of the file object */
 7631              		.loc 1 3526 2 view .LVU2577
3526:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);				/* Check validity of the file object */
 7632              		.loc 1 3526 6 is_stmt 0 view .LVU2578
 7633 000e 0023     		movs	r3, #0
 7634              	.LVL893:
3526:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);				/* Check validity of the file object */
 7635              		.loc 1 3526 6 view .LVU2579
 7636 0010 C8F80030 		str	r3, [r8]
3527:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
 7637              		.loc 1 3527 2 is_stmt 1 view .LVU2580
3527:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
 7638              		.loc 1 3527 8 is_stmt 0 view .LVU2581
 7639 0014 03A9     		add	r1, sp, #12
 7640              	.LVL894:
3527:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
 7641              		.loc 1 3527 8 view .LVU2582
 7642 0016 FFF7FEFF 		bl	validate
 7643              	.LVL895:
3528:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_READ)) LEAVE_FF(fs, FR_DENIED); /* Check access mode */
 7644              		.loc 1 3528 2 is_stmt 1 view .LVU2583
3528:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_READ)) LEAVE_FF(fs, FR_DENIED); /* Check access mode */
 7645              		.loc 1 3528 5 is_stmt 0 view .LVU2584
ARM GAS  /tmp/ccBfkcjf.s 			page 277


 7646 001a 0190     		str	r0, [sp, #4]
 7647 001c 0028     		cmp	r0, #0
 7648 001e 40F0B980 		bne	.L586
3528:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_READ)) LEAVE_FF(fs, FR_DENIED); /* Check access mode */
 7649              		.loc 1 3528 27 discriminator 2 view .LVU2585
 7650 0022 637D     		ldrb	r3, [r4, #21]	@ zero_extendqisi2
 7651 0024 0193     		str	r3, [sp, #4]
 7652              	.LVL896:
3528:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_READ)) LEAVE_FF(fs, FR_DENIED); /* Check access mode */
 7653              		.loc 1 3528 19 discriminator 2 view .LVU2586
 7654 0026 002B     		cmp	r3, #0
 7655 0028 40F0B480 		bne	.L586
3529:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
 7656              		.loc 1 3529 2 is_stmt 1 view .LVU2587
3529:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
 7657              		.loc 1 3529 10 is_stmt 0 view .LVU2588
 7658 002c 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 7659              	.LVL897:
3529:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
 7660              		.loc 1 3529 5 view .LVU2589
 7661 002e 13F0010F 		tst	r3, #1
 7662 0032 00F0CE80 		beq	.L608
3530:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (btr > remain) btr = (UINT)remain;		/* Truncate btr by remaining bytes */
 7663              		.loc 1 3530 2 is_stmt 1 view .LVU2590
3530:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (btr > remain) btr = (UINT)remain;		/* Truncate btr by remaining bytes */
 7664              		.loc 1 3530 18 is_stmt 0 view .LVU2591
 7665 0036 E668     		ldr	r6, [r4, #12]
3530:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (btr > remain) btr = (UINT)remain;		/* Truncate btr by remaining bytes */
 7666              		.loc 1 3530 31 view .LVU2592
 7667 0038 A369     		ldr	r3, [r4, #24]
3530:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (btr > remain) btr = (UINT)remain;		/* Truncate btr by remaining bytes */
 7668              		.loc 1 3530 9 view .LVU2593
 7669 003a F61A     		subs	r6, r6, r3
 7670              	.LVL898:
3531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7671              		.loc 1 3531 2 is_stmt 1 view .LVU2594
3531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7672              		.loc 1 3531 5 is_stmt 0 view .LVU2595
 7673 003c AE42     		cmp	r6, r5
 7674 003e 67D3     		bcc	.L606
 7675 0040 2E46     		mov	r6, r5
 7676              	.LVL899:
3531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7677              		.loc 1 3531 5 view .LVU2596
 7678 0042 65E0     		b	.L606
 7679              	.LVL900:
 7680              	.L591:
3542:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
 7681              		.loc 1 3542 6 is_stmt 1 view .LVU2597
3542:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
 7682              		.loc 1 3542 12 is_stmt 0 view .LVU2598
 7683 0044 E36A     		ldr	r3, [r4, #44]
3542:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
 7684              		.loc 1 3542 9 view .LVU2599
 7685 0046 1BB1     		cbz	r3, .L593
3543:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
 7686              		.loc 1 3543 7 is_stmt 1 view .LVU2600
ARM GAS  /tmp/ccBfkcjf.s 			page 278


3543:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
 7687              		.loc 1 3543 14 is_stmt 0 view .LVU2601
 7688 0048 2046     		mov	r0, r4
 7689 004a FFF7FEFF 		bl	clmt_clust
 7690              	.LVL901:
3543:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
 7691              		.loc 1 3543 14 view .LVU2602
 7692 004e 73E0     		b	.L592
 7693              	.LVL902:
 7694              	.L593:
3547:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7695              		.loc 1 3547 7 is_stmt 1 view .LVU2603
3547:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7696              		.loc 1 3547 14 is_stmt 0 view .LVU2604
 7697 0050 E169     		ldr	r1, [r4, #28]
 7698 0052 2046     		mov	r0, r4
 7699 0054 FFF7FEFF 		bl	get_fat
 7700              	.LVL903:
3547:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7701              		.loc 1 3547 14 view .LVU2605
 7702 0058 6EE0     		b	.L592
 7703              	.L615:
3550:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7704              		.loc 1 3550 19 is_stmt 1 discriminator 1 view .LVU2606
 7705 005a 4FF0020A 		mov	r10, #2
 7706 005e 84F815A0 		strb	r10, [r4, #21]
3550:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7707              		.loc 1 3550 19 discriminator 1 view .LVU2607
 7708 0062 CDF804A0 		str	r10, [sp, #4]
 7709              	.LVL904:
3550:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7710              		.loc 1 3550 19 is_stmt 0 discriminator 1 view .LVU2608
 7711 0066 95E0     		b	.L586
 7712              	.LVL905:
 7713              	.L616:
3551:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 7714              		.loc 1 3551 29 is_stmt 1 discriminator 1 view .LVU2609
 7715 0068 4FF0010A 		mov	r10, #1
 7716 006c 84F815A0 		strb	r10, [r4, #21]
3551:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 7717              		.loc 1 3551 29 discriminator 1 view .LVU2610
 7718 0070 CDF804A0 		str	r10, [sp, #4]
 7719              	.LVL906:
3551:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 7720              		.loc 1 3551 29 is_stmt 0 discriminator 1 view .LVU2611
 7721 0074 8EE0     		b	.L586
 7722              	.LVL907:
 7723              	.L617:
3555:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 7724              		.loc 1 3555 15 is_stmt 1 discriminator 1 view .LVU2612
 7725 0076 4FF0020A 		mov	r10, #2
 7726 007a 84F815A0 		strb	r10, [r4, #21]
3555:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 7727              		.loc 1 3555 15 discriminator 1 view .LVU2613
 7728 007e CDF804A0 		str	r10, [sp, #4]
 7729              	.LVL908:
3555:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
ARM GAS  /tmp/ccBfkcjf.s 			page 279


 7730              		.loc 1 3555 15 is_stmt 0 discriminator 1 view .LVU2614
 7731 0082 87E0     		b	.L586
 7732              	.LVL909:
 7733              	.L599:
3562:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 7734              		.loc 1 3562 78 is_stmt 1 discriminator 2 view .LVU2615
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->sect - sect) * SS(fs)), fp->buf, SS(fs));
 7735              		.loc 1 3569 5 discriminator 2 view .LVU2616
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->sect - sect) * SS(fs)), fp->buf, SS(fs));
 7736              		.loc 1 3569 9 is_stmt 0 discriminator 2 view .LVU2617
 7737 0084 94F91430 		ldrsb	r3, [r4, #20]
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->sect - sect) * SS(fs)), fp->buf, SS(fs));
 7738              		.loc 1 3569 8 discriminator 2 view .LVU2618
 7739 0088 002B     		cmp	r3, #0
 7740 008a 04DB     		blt	.L612
 7741              	.L600:
3574:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
 7742              		.loc 1 3574 5 is_stmt 1 view .LVU2619
3574:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
 7743              		.loc 1 3574 12 is_stmt 0 view .LVU2620
 7744 008c 039B     		ldr	r3, [sp, #12]
 7745 008e 9D89     		ldrh	r5, [r3, #12]
 7746              	.LVL910:
3574:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
 7747              		.loc 1 3574 10 view .LVU2621
 7748 0090 0AFB05F5 		mul	r5, r10, r5
 7749              	.LVL911:
3575:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7750              		.loc 1 3575 5 is_stmt 1 view .LVU2622
 7751 0094 32E0     		b	.L601
 7752              	.LVL912:
 7753              	.L612:
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->sect - sect) * SS(fs)), fp->buf, SS(fs));
 7754              		.loc 1 3569 36 is_stmt 0 discriminator 1 view .LVU2623
 7755 0096 206A     		ldr	r0, [r4, #32]
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->sect - sect) * SS(fs)), fp->buf, SS(fs));
 7756              		.loc 1 3569 43 discriminator 1 view .LVU2624
 7757 0098 A0EB0900 		sub	r0, r0, r9
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->sect - sect) * SS(fs)), fp->buf, SS(fs));
 7758              		.loc 1 3569 31 discriminator 1 view .LVU2625
 7759 009c 5045     		cmp	r0, r10
 7760 009e F5D2     		bcs	.L600
3570:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7761              		.loc 1 3570 6 is_stmt 1 view .LVU2626
3570:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7762              		.loc 1 3570 43 is_stmt 0 view .LVU2627
 7763 00a0 039B     		ldr	r3, [sp, #12]
 7764 00a2 9A89     		ldrh	r2, [r3, #12]
3570:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7765              		.loc 1 3570 6 view .LVU2628
 7766 00a4 04F13001 		add	r1, r4, #48
 7767 00a8 02FB0070 		mla	r0, r2, r0, r7
 7768 00ac FFF7FEFF 		bl	mem_cpy
 7769              	.LVL913:
 7770 00b0 ECE7     		b	.L600
 7771              	.L597:
3578:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
ARM GAS  /tmp/ccBfkcjf.s 			page 280


 7772              		.loc 1 3578 4 is_stmt 1 view .LVU2629
3578:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 7773              		.loc 1 3578 10 is_stmt 0 view .LVU2630
 7774 00b2 226A     		ldr	r2, [r4, #32]
3578:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 7775              		.loc 1 3578 7 view .LVU2631
 7776 00b4 4A45     		cmp	r2, r9
 7777 00b6 0DD0     		beq	.L602
3580:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 7778              		.loc 1 3580 5 is_stmt 1 view .LVU2632
3580:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 7779              		.loc 1 3580 9 is_stmt 0 view .LVU2633
 7780 00b8 94F91430 		ldrsb	r3, [r4, #20]
3580:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 7781              		.loc 1 3580 8 view .LVU2634
 7782 00bc 002B     		cmp	r3, #0
 7783 00be 6DDB     		blt	.L613
 7784              	.L603:
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7785              		.loc 1 3585 5 is_stmt 1 view .LVU2635
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7786              		.loc 1 3585 9 is_stmt 0 view .LVU2636
 7787 00c0 0123     		movs	r3, #1
 7788 00c2 4A46     		mov	r2, r9
 7789 00c4 04F13001 		add	r1, r4, #48
 7790 00c8 0398     		ldr	r0, [sp, #12]
 7791 00ca 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 7792 00cc FFF7FEFF 		bl	disk_read
 7793              	.LVL914:
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7794              		.loc 1 3585 8 view .LVU2637
 7795 00d0 0028     		cmp	r0, #0
 7796 00d2 77D1     		bne	.L614
 7797              	.L602:
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7798              		.loc 1 3585 79 is_stmt 1 discriminator 2 view .LVU2638
3588:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 7799              		.loc 1 3588 4 discriminator 2 view .LVU2639
3588:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 7800              		.loc 1 3588 13 is_stmt 0 discriminator 2 view .LVU2640
 7801 00d4 C4F82090 		str	r9, [r4, #32]
 7802              	.LVL915:
 7803              	.L589:
3590:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btr) rcnt = btr;					/* Clip it by btr if needed */
 7804              		.loc 1 3590 3 is_stmt 1 view .LVU2641
3590:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btr) rcnt = btr;					/* Clip it by btr if needed */
 7805              		.loc 1 3590 10 is_stmt 0 view .LVU2642
 7806 00d8 039B     		ldr	r3, [sp, #12]
 7807 00da 9D89     		ldrh	r5, [r3, #12]
3590:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btr) rcnt = btr;					/* Clip it by btr if needed */
 7808              		.loc 1 3590 27 view .LVU2643
 7809 00dc A369     		ldr	r3, [r4, #24]
3590:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btr) rcnt = btr;					/* Clip it by btr if needed */
 7810              		.loc 1 3590 34 view .LVU2644
 7811 00de B3FBF5F1 		udiv	r1, r3, r5
 7812 00e2 05FB1133 		mls	r3, r5, r1, r3
3590:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btr) rcnt = btr;					/* Clip it by btr if needed */
ARM GAS  /tmp/ccBfkcjf.s 			page 281


 7813              		.loc 1 3590 8 view .LVU2645
 7814 00e6 ED1A     		subs	r5, r5, r3
 7815              	.LVL916:
3591:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
 7816              		.loc 1 3591 3 is_stmt 1 view .LVU2646
3591:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
 7817              		.loc 1 3591 6 is_stmt 0 view .LVU2647
 7818 00e8 AE42     		cmp	r6, r5
 7819 00ea 00D2     		bcs	.L605
3591:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
 7820              		.loc 1 3591 24 view .LVU2648
 7821 00ec 3546     		mov	r5, r6
 7822              	.LVL917:
 7823              	.L605:
3596:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7824              		.loc 1 3596 3 is_stmt 1 view .LVU2649
3596:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7825              		.loc 1 3596 18 is_stmt 0 view .LVU2650
 7826 00ee 04F13001 		add	r1, r4, #48
3596:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7827              		.loc 1 3596 3 view .LVU2651
 7828 00f2 2A46     		mov	r2, r5
 7829 00f4 1944     		add	r1, r1, r3
 7830 00f6 3846     		mov	r0, r7
 7831 00f8 FFF7FEFF 		bl	mem_cpy
 7832              	.LVL918:
 7833              	.L601:
3534:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 7834              		.loc 1 3534 3 is_stmt 1 view .LVU2652
3534:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 7835              		.loc 1 3534 9 is_stmt 0 view .LVU2653
 7836 00fc 2F44     		add	r7, r7, r5
 7837              	.LVL919:
3534:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 7838              		.loc 1 3534 27 view .LVU2654
 7839 00fe A369     		ldr	r3, [r4, #24]
 7840 0100 2B44     		add	r3, r3, r5
 7841 0102 A361     		str	r3, [r4, #24]
3534:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 7842              		.loc 1 3534 40 view .LVU2655
 7843 0104 D8F80030 		ldr	r3, [r8]
 7844 0108 2B44     		add	r3, r3, r5
 7845 010a C8F80030 		str	r3, [r8]
3534:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 7846              		.loc 1 3534 53 view .LVU2656
 7847 010e 761B     		subs	r6, r6, r5
 7848              	.LVL920:
 7849              	.L606:
3533:Middlewares/Third_Party/FatFs/src/ff.c **** 		rbuff += rcnt, fp->fptr += rcnt, *br += rcnt, btr -= rcnt) {
 7850              		.loc 1 3533 11 is_stmt 1 view .LVU2657
3533:Middlewares/Third_Party/FatFs/src/ff.c **** 		rbuff += rcnt, fp->fptr += rcnt, *br += rcnt, btr -= rcnt) {
 7851              		.loc 1 3533 2 is_stmt 0 view .LVU2658
 7852 0110 002E     		cmp	r6, #0
 7853 0112 3FD0     		beq	.L586
3535:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs) & (fs->csize - 1));	/* Sector offset in the cluster */
 7854              		.loc 1 3535 3 is_stmt 1 view .LVU2659
3535:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs) & (fs->csize - 1));	/* Sector offset in the cluster */
ARM GAS  /tmp/ccBfkcjf.s 			page 282


 7855              		.loc 1 3535 9 is_stmt 0 view .LVU2660
 7856 0114 A169     		ldr	r1, [r4, #24]
3535:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs) & (fs->csize - 1));	/* Sector offset in the cluster */
 7857              		.loc 1 3535 18 view .LVU2661
 7858 0116 039A     		ldr	r2, [sp, #12]
 7859 0118 9589     		ldrh	r5, [r2, #12]
3535:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs) & (fs->csize - 1));	/* Sector offset in the cluster */
 7860              		.loc 1 3535 16 view .LVU2662
 7861 011a B1FBF5F3 		udiv	r3, r1, r5
 7862 011e 05FB1313 		mls	r3, r5, r3, r1
3535:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs) & (fs->csize - 1));	/* Sector offset in the cluster */
 7863              		.loc 1 3535 6 view .LVU2663
 7864 0122 002B     		cmp	r3, #0
 7865 0124 D8D1     		bne	.L589
3536:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {					/* On the cluster boundary? */
 7866              		.loc 1 3536 4 is_stmt 1 view .LVU2664
3536:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {					/* On the cluster boundary? */
 7867              		.loc 1 3536 28 is_stmt 0 view .LVU2665
 7868 0126 B1FBF5F5 		udiv	r5, r1, r5
3536:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {					/* On the cluster boundary? */
 7869              		.loc 1 3536 42 view .LVU2666
 7870 012a 5389     		ldrh	r3, [r2, #10]
3536:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {					/* On the cluster boundary? */
 7871              		.loc 1 3536 50 view .LVU2667
 7872 012c 013B     		subs	r3, r3, #1
 7873              	.LVL921:
3537:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {			/* On the top of the file? */
 7874              		.loc 1 3537 4 is_stmt 1 view .LVU2668
3537:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {			/* On the top of the file? */
 7875              		.loc 1 3537 7 is_stmt 0 view .LVU2669
 7876 012e 1D40     		ands	r5, r5, r3
 7877              	.LVL922:
3537:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {			/* On the top of the file? */
 7878              		.loc 1 3537 7 view .LVU2670
 7879 0130 08D1     		bne	.L590
3538:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->obj.sclust;		/* Follow cluster chain from the origin */
 7880              		.loc 1 3538 5 is_stmt 1 view .LVU2671
3538:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->obj.sclust;		/* Follow cluster chain from the origin */
 7881              		.loc 1 3538 8 is_stmt 0 view .LVU2672
 7882 0132 0029     		cmp	r1, #0
 7883 0134 86D1     		bne	.L591
3539:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {						/* Middle or end of the file */
 7884              		.loc 1 3539 6 is_stmt 1 view .LVU2673
3539:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {						/* Middle or end of the file */
 7885              		.loc 1 3539 11 is_stmt 0 view .LVU2674
 7886 0136 A068     		ldr	r0, [r4, #8]
 7887              	.LVL923:
 7888              	.L592:
3550:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7889              		.loc 1 3550 5 is_stmt 1 view .LVU2675
3550:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7890              		.loc 1 3550 8 is_stmt 0 view .LVU2676
 7891 0138 0128     		cmp	r0, #1
 7892 013a 8ED9     		bls	.L615
3550:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7893              		.loc 1 3550 40 is_stmt 1 discriminator 2 view .LVU2677
3551:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
ARM GAS  /tmp/ccBfkcjf.s 			page 283


 7894              		.loc 1 3551 5 discriminator 2 view .LVU2678
3551:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 7895              		.loc 1 3551 8 is_stmt 0 discriminator 2 view .LVU2679
 7896 013c B0F1FF3F 		cmp	r0, #-1
 7897 0140 92D0     		beq	.L616
3551:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 7898              		.loc 1 3551 51 is_stmt 1 discriminator 2 view .LVU2680
3552:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7899              		.loc 1 3552 5 discriminator 2 view .LVU2681
3552:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7900              		.loc 1 3552 15 is_stmt 0 discriminator 2 view .LVU2682
 7901 0142 E061     		str	r0, [r4, #28]
 7902              	.LVL924:
 7903              	.L590:
3554:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fs, FR_INT_ERR);
 7904              		.loc 1 3554 4 is_stmt 1 view .LVU2683
3554:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fs, FR_INT_ERR);
 7905              		.loc 1 3554 11 is_stmt 0 view .LVU2684
 7906 0144 DDF80CB0 		ldr	fp, [sp, #12]
 7907 0148 E169     		ldr	r1, [r4, #28]
 7908 014a 5846     		mov	r0, fp
 7909 014c FFF7FEFF 		bl	clust2sect
 7910              	.LVL925:
3555:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 7911              		.loc 1 3555 4 is_stmt 1 view .LVU2685
3555:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 7912              		.loc 1 3555 7 is_stmt 0 view .LVU2686
 7913 0150 8146     		mov	r9, r0
 7914 0152 0028     		cmp	r0, #0
 7915 0154 8FD0     		beq	.L617
3555:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 7916              		.loc 1 3555 36 is_stmt 1 discriminator 2 view .LVU2687
3556:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btr / SS(fs);					/* When remaining bytes >= sector size, */
 7917              		.loc 1 3556 4 discriminator 2 view .LVU2688
3556:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btr / SS(fs);					/* When remaining bytes >= sector size, */
 7918              		.loc 1 3556 9 is_stmt 0 discriminator 2 view .LVU2689
 7919 0156 A944     		add	r9, r9, r5
 7920              	.LVL926:
3557:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {							/* Read maximum contiguous sectors directly */
 7921              		.loc 1 3557 4 is_stmt 1 discriminator 2 view .LVU2690
3557:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {							/* Read maximum contiguous sectors directly */
 7922              		.loc 1 3557 15 is_stmt 0 discriminator 2 view .LVU2691
 7923 0158 BBF80C30 		ldrh	r3, [fp, #12]
3557:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {							/* Read maximum contiguous sectors directly */
 7924              		.loc 1 3557 7 discriminator 2 view .LVU2692
 7925 015c B6FBF3FA 		udiv	r10, r6, r3
 7926              	.LVL927:
3558:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fs->csize) {	/* Clip at cluster boundary */
 7927              		.loc 1 3558 4 is_stmt 1 discriminator 2 view .LVU2693
3558:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fs->csize) {	/* Clip at cluster boundary */
 7928              		.loc 1 3558 7 is_stmt 0 discriminator 2 view .LVU2694
 7929 0160 B342     		cmp	r3, r6
 7930 0162 A6D8     		bhi	.L597
3559:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
 7931              		.loc 1 3559 5 is_stmt 1 view .LVU2695
3559:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
 7932              		.loc 1 3559 15 is_stmt 0 view .LVU2696
ARM GAS  /tmp/ccBfkcjf.s 			page 284


 7933 0164 05EB0A03 		add	r3, r5, r10
3559:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
 7934              		.loc 1 3559 24 view .LVU2697
 7935 0168 BBF80A20 		ldrh	r2, [fp, #10]
3559:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
 7936              		.loc 1 3559 8 view .LVU2698
 7937 016c 9342     		cmp	r3, r2
 7938 016e 01D9     		bls	.L598
3560:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7939              		.loc 1 3560 6 is_stmt 1 view .LVU2699
3560:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7940              		.loc 1 3560 9 is_stmt 0 view .LVU2700
 7941 0170 A2EB050A 		sub	r10, r2, r5
 7942              	.LVL928:
 7943              	.L598:
3562:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 7944              		.loc 1 3562 5 is_stmt 1 view .LVU2701
3562:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 7945              		.loc 1 3562 9 is_stmt 0 view .LVU2702
 7946 0174 5346     		mov	r3, r10
 7947 0176 4A46     		mov	r2, r9
 7948 0178 3946     		mov	r1, r7
 7949 017a 9BF80100 		ldrb	r0, [fp, #1]	@ zero_extendqisi2
 7950 017e FFF7FEFF 		bl	disk_read
 7951              	.LVL929:
3562:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 7952              		.loc 1 3562 8 view .LVU2703
 7953 0182 0028     		cmp	r0, #0
 7954 0184 3FF47EAF 		beq	.L599
3562:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 7955              		.loc 1 3562 56 is_stmt 1 discriminator 1 view .LVU2704
 7956 0188 4FF0010A 		mov	r10, #1
 7957              	.LVL930:
3562:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 7958              		.loc 1 3562 56 is_stmt 0 discriminator 1 view .LVU2705
 7959 018c 84F815A0 		strb	r10, [r4, #21]
3562:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 7960              		.loc 1 3562 56 is_stmt 1 discriminator 1 view .LVU2706
 7961 0190 CDF804A0 		str	r10, [sp, #4]
 7962              	.LVL931:
 7963              	.L586:
3601:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7964              		.loc 1 3601 1 is_stmt 0 view .LVU2707
 7965 0194 0198     		ldr	r0, [sp, #4]
 7966 0196 05B0     		add	sp, sp, #20
 7967              	.LCFI60:
 7968              		.cfi_remember_state
 7969              		.cfi_def_cfa_offset 36
 7970              		@ sp needed
 7971 0198 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 7972              	.LVL932:
 7973              	.L613:
 7974              	.LCFI61:
 7975              		.cfi_restore_state
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 7976              		.loc 1 3581 6 is_stmt 1 view .LVU2708
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
ARM GAS  /tmp/ccBfkcjf.s 			page 285


 7977              		.loc 1 3581 10 is_stmt 0 view .LVU2709
 7978 019c 0123     		movs	r3, #1
 7979 019e 04F13001 		add	r1, r4, #48
 7980 01a2 9BF80100 		ldrb	r0, [fp, #1]	@ zero_extendqisi2
 7981 01a6 FFF7FEFF 		bl	disk_write
 7982              	.LVL933:
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 7983              		.loc 1 3581 9 view .LVU2710
 7984 01aa 20B9     		cbnz	r0, .L618
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 7985              		.loc 1 3581 85 is_stmt 1 discriminator 2 view .LVU2711
3582:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7986              		.loc 1 3582 6 discriminator 2 view .LVU2712
3582:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7987              		.loc 1 3582 15 is_stmt 0 discriminator 2 view .LVU2713
 7988 01ac 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 7989 01ae 03F07F03 		and	r3, r3, #127
 7990 01b2 2375     		strb	r3, [r4, #20]
 7991 01b4 84E7     		b	.L603
 7992              	.L618:
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 7993              		.loc 1 3581 63 is_stmt 1 discriminator 1 view .LVU2714
 7994 01b6 4FF0010A 		mov	r10, #1
 7995              	.LVL934:
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 7996              		.loc 1 3581 63 is_stmt 0 discriminator 1 view .LVU2715
 7997 01ba 84F815A0 		strb	r10, [r4, #21]
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 7998              		.loc 1 3581 63 is_stmt 1 discriminator 1 view .LVU2716
 7999 01be CDF804A0 		str	r10, [sp, #4]
 8000              	.LVL935:
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 8001              		.loc 1 3581 63 is_stmt 0 discriminator 1 view .LVU2717
 8002 01c2 E7E7     		b	.L586
 8003              	.LVL936:
 8004              	.L614:
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8005              		.loc 1 3585 57 is_stmt 1 discriminator 1 view .LVU2718
 8006 01c4 4FF0010A 		mov	r10, #1
 8007              	.LVL937:
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8008              		.loc 1 3585 57 is_stmt 0 discriminator 1 view .LVU2719
 8009 01c8 84F815A0 		strb	r10, [r4, #21]
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8010              		.loc 1 3585 57 is_stmt 1 discriminator 1 view .LVU2720
 8011 01cc CDF804A0 		str	r10, [sp, #4]
 8012              	.LVL938:
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8013              		.loc 1 3585 57 is_stmt 0 discriminator 1 view .LVU2721
 8014 01d0 E0E7     		b	.L586
 8015              	.LVL939:
 8016              	.L608:
3529:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
 8017              		.loc 1 3529 29 view .LVU2722
 8018 01d2 0723     		movs	r3, #7
 8019 01d4 0193     		str	r3, [sp, #4]
 8020              	.LVL940:
ARM GAS  /tmp/ccBfkcjf.s 			page 286


3529:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
 8021              		.loc 1 3529 29 view .LVU2723
 8022 01d6 DDE7     		b	.L586
 8023              		.cfi_endproc
 8024              	.LFE395:
 8026              		.section	.text.f_write,"ax",%progbits
 8027              		.align	1
 8028              		.global	f_write
 8029              		.syntax unified
 8030              		.thumb
 8031              		.thumb_func
 8032              		.fpu fpv5-d16
 8034              	f_write:
 8035              	.LVL941:
 8036              	.LFB396:
3617:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8037              		.loc 1 3617 1 is_stmt 1 view -0
 8038              		.cfi_startproc
 8039              		@ args = 0, pretend = 0, frame = 16
 8040              		@ frame_needed = 0, uses_anonymous_args = 0
3617:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8041              		.loc 1 3617 1 is_stmt 0 view .LVU2725
 8042 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 8043              	.LCFI62:
 8044              		.cfi_def_cfa_offset 36
 8045              		.cfi_offset 4, -36
 8046              		.cfi_offset 5, -32
 8047              		.cfi_offset 6, -28
 8048              		.cfi_offset 7, -24
 8049              		.cfi_offset 8, -20
 8050              		.cfi_offset 9, -16
 8051              		.cfi_offset 10, -12
 8052              		.cfi_offset 11, -8
 8053              		.cfi_offset 14, -4
 8054 0004 85B0     		sub	sp, sp, #20
 8055              	.LCFI63:
 8056              		.cfi_def_cfa_offset 56
 8057 0006 0446     		mov	r4, r0
 8058 0008 0F46     		mov	r7, r1
 8059 000a 1546     		mov	r5, r2
 8060 000c 9846     		mov	r8, r3
3618:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 8061              		.loc 1 3618 2 is_stmt 1 view .LVU2726
3619:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
 8062              		.loc 1 3619 2 view .LVU2727
3620:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wcnt, cc, csect;
 8063              		.loc 1 3620 2 view .LVU2728
3621:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE *wbuff = (const BYTE*)buff;
 8064              		.loc 1 3621 2 view .LVU2729
3622:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8065              		.loc 1 3622 2 view .LVU2730
 8066              	.LVL942:
3625:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);			/* Check validity of the file object */
 8067              		.loc 1 3625 2 view .LVU2731
3625:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);			/* Check validity of the file object */
 8068              		.loc 1 3625 6 is_stmt 0 view .LVU2732
 8069 000e 0023     		movs	r3, #0
ARM GAS  /tmp/ccBfkcjf.s 			page 287


 8070              	.LVL943:
3625:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);			/* Check validity of the file object */
 8071              		.loc 1 3625 6 view .LVU2733
 8072 0010 C8F80030 		str	r3, [r8]
3626:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
 8073              		.loc 1 3626 2 is_stmt 1 view .LVU2734
3626:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
 8074              		.loc 1 3626 8 is_stmt 0 view .LVU2735
 8075 0014 03A9     		add	r1, sp, #12
 8076              	.LVL944:
3626:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
 8077              		.loc 1 3626 8 view .LVU2736
 8078 0016 FFF7FEFF 		bl	validate
 8079              	.LVL945:
3627:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 8080              		.loc 1 3627 2 is_stmt 1 view .LVU2737
3627:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 8081              		.loc 1 3627 5 is_stmt 0 view .LVU2738
 8082 001a 0190     		str	r0, [sp, #4]
 8083 001c 0028     		cmp	r0, #0
 8084 001e 4AD1     		bne	.L622
3627:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 8085              		.loc 1 3627 27 discriminator 2 view .LVU2739
 8086 0020 637D     		ldrb	r3, [r4, #21]	@ zero_extendqisi2
 8087 0022 0193     		str	r3, [sp, #4]
 8088              	.LVL946:
3627:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 8089              		.loc 1 3627 19 discriminator 2 view .LVU2740
 8090 0024 002B     		cmp	r3, #0
 8091 0026 46D1     		bne	.L622
3628:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8092              		.loc 1 3628 2 is_stmt 1 view .LVU2741
3628:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8093              		.loc 1 3628 10 is_stmt 0 view .LVU2742
 8094 0028 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 8095              	.LVL947:
3628:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8096              		.loc 1 3628 5 view .LVU2743
 8097 002a 13F0020F 		tst	r3, #2
 8098 002e 00F0EC80 		beq	.L644
3631:Middlewares/Third_Party/FatFs/src/ff.c **** 		btw = (UINT)(0xFFFFFFFF - (DWORD)fp->fptr);
 8099              		.loc 1 3631 2 is_stmt 1 view .LVU2744
3631:Middlewares/Third_Party/FatFs/src/ff.c **** 		btw = (UINT)(0xFFFFFFFF - (DWORD)fp->fptr);
 8100              		.loc 1 3631 59 is_stmt 0 view .LVU2745
 8101 0032 A369     		ldr	r3, [r4, #24]
3631:Middlewares/Third_Party/FatFs/src/ff.c **** 		btw = (UINT)(0xFFFFFFFF - (DWORD)fp->fptr);
 8102              		.loc 1 3631 5 view .LVU2746
 8103 0034 EB42     		cmn	r3, r5
 8104 0036 C0F0B680 		bcc	.L642
3632:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8105              		.loc 1 3632 3 is_stmt 1 view .LVU2747
3632:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8106              		.loc 1 3632 7 is_stmt 0 view .LVU2748
 8107 003a DD43     		mvns	r5, r3
 8108              	.LVL948:
3632:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8109              		.loc 1 3632 7 view .LVU2749
ARM GAS  /tmp/ccBfkcjf.s 			page 288


 8110 003c B3E0     		b	.L642
 8111              	.LVL949:
 8112              	.L626:
3647:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
 8113              		.loc 1 3647 6 is_stmt 1 view .LVU2750
3647:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
 8114              		.loc 1 3647 12 is_stmt 0 view .LVU2751
 8115 003e E36A     		ldr	r3, [r4, #44]
3647:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
 8116              		.loc 1 3647 9 view .LVU2752
 8117 0040 002B     		cmp	r3, #0
 8118 0042 3CD0     		beq	.L628
3648:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
 8119              		.loc 1 3648 7 is_stmt 1 view .LVU2753
3648:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
 8120              		.loc 1 3648 14 is_stmt 0 view .LVU2754
 8121 0044 2046     		mov	r0, r4
 8122 0046 FFF7FEFF 		bl	clmt_clust
 8123              	.LVL950:
 8124              	.L627:
3655:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 1) ABORT(fs, FR_INT_ERR);
 8125              		.loc 1 3655 5 is_stmt 1 view .LVU2755
3655:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 1) ABORT(fs, FR_INT_ERR);
 8126              		.loc 1 3655 8 is_stmt 0 view .LVU2756
 8127 004a 0028     		cmp	r0, #0
 8128 004c 00F0D880 		beq	.L629
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 8129              		.loc 1 3656 5 is_stmt 1 view .LVU2757
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 8130              		.loc 1 3656 8 is_stmt 0 view .LVU2758
 8131 0050 0128     		cmp	r0, #1
 8132 0052 39D0     		beq	.L647
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 8133              		.loc 1 3656 41 is_stmt 1 discriminator 2 view .LVU2759
3657:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 8134              		.loc 1 3657 5 discriminator 2 view .LVU2760
3657:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 8135              		.loc 1 3657 8 is_stmt 0 discriminator 2 view .LVU2761
 8136 0054 B0F1FF3F 		cmp	r0, #-1
 8137 0058 3DD0     		beq	.L648
3657:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 8138              		.loc 1 3657 51 is_stmt 1 discriminator 2 view .LVU2762
3658:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->obj.sclust == 0) fp->obj.sclust = clst;	/* Set start cluster if the first write */
 8139              		.loc 1 3658 5 discriminator 2 view .LVU2763
3658:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->obj.sclust == 0) fp->obj.sclust = clst;	/* Set start cluster if the first write */
 8140              		.loc 1 3658 15 is_stmt 0 discriminator 2 view .LVU2764
 8141 005a E061     		str	r0, [r4, #28]
3659:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8142              		.loc 1 3659 5 is_stmt 1 discriminator 2 view .LVU2765
3659:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8143              		.loc 1 3659 16 is_stmt 0 discriminator 2 view .LVU2766
 8144 005c A368     		ldr	r3, [r4, #8]
3659:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8145              		.loc 1 3659 8 discriminator 2 view .LVU2767
 8146 005e 03B9     		cbnz	r3, .L625
3659:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8147              		.loc 1 3659 30 is_stmt 1 discriminator 1 view .LVU2768
ARM GAS  /tmp/ccBfkcjf.s 			page 289


3659:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8148              		.loc 1 3659 45 is_stmt 0 discriminator 1 view .LVU2769
 8149 0060 A060     		str	r0, [r4, #8]
 8150              	.LVL951:
 8151              	.L625:
3664:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 8152              		.loc 1 3664 4 is_stmt 1 view .LVU2770
3664:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 8153              		.loc 1 3664 8 is_stmt 0 view .LVU2771
 8154 0062 94F91430 		ldrsb	r3, [r4, #20]
3664:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 8155              		.loc 1 3664 7 view .LVU2772
 8156 0066 002B     		cmp	r3, #0
 8157 0068 3CDB     		blt	.L649
 8158              	.L632:
3669:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fs, FR_INT_ERR);
 8159              		.loc 1 3669 4 is_stmt 1 view .LVU2773
3669:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fs, FR_INT_ERR);
 8160              		.loc 1 3669 11 is_stmt 0 view .LVU2774
 8161 006a DDF80CB0 		ldr	fp, [sp, #12]
 8162 006e E169     		ldr	r1, [r4, #28]
 8163 0070 5846     		mov	r0, fp
 8164 0072 FFF7FEFF 		bl	clust2sect
 8165              	.LVL952:
3670:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 8166              		.loc 1 3670 4 is_stmt 1 view .LVU2775
3670:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 8167              		.loc 1 3670 7 is_stmt 0 view .LVU2776
 8168 0076 8146     		mov	r9, r0
 8169 0078 0028     		cmp	r0, #0
 8170 007a 48D0     		beq	.L650
3670:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 8171              		.loc 1 3670 36 is_stmt 1 discriminator 2 view .LVU2777
3671:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btw / SS(fs);				/* When remaining bytes >= sector size, */
 8172              		.loc 1 3671 4 discriminator 2 view .LVU2778
3671:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btw / SS(fs);				/* When remaining bytes >= sector size, */
 8173              		.loc 1 3671 9 is_stmt 0 discriminator 2 view .LVU2779
 8174 007c B144     		add	r9, r9, r6
 8175              	.LVL953:
3672:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {						/* Write maximum contiguous sectors directly */
 8176              		.loc 1 3672 4 is_stmt 1 discriminator 2 view .LVU2780
3672:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {						/* Write maximum contiguous sectors directly */
 8177              		.loc 1 3672 15 is_stmt 0 discriminator 2 view .LVU2781
 8178 007e BBF80C30 		ldrh	r3, [fp, #12]
3672:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {						/* Write maximum contiguous sectors directly */
 8179              		.loc 1 3672 7 discriminator 2 view .LVU2782
 8180 0082 B5FBF3FA 		udiv	r10, r5, r3
 8181              	.LVL954:
3673:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fs->csize) {	/* Clip at cluster boundary */
 8182              		.loc 1 3673 4 is_stmt 1 discriminator 2 view .LVU2783
3673:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fs->csize) {	/* Clip at cluster boundary */
 8183              		.loc 1 3673 7 is_stmt 0 discriminator 2 view .LVU2784
 8184 0086 AB42     		cmp	r3, r5
 8185 0088 5FD8     		bhi	.L635
3674:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
 8186              		.loc 1 3674 5 is_stmt 1 view .LVU2785
3674:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
ARM GAS  /tmp/ccBfkcjf.s 			page 290


 8187              		.loc 1 3674 15 is_stmt 0 view .LVU2786
 8188 008a 06EB0A03 		add	r3, r6, r10
3674:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
 8189              		.loc 1 3674 24 view .LVU2787
 8190 008e BBF80A20 		ldrh	r2, [fp, #10]
3674:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
 8191              		.loc 1 3674 8 view .LVU2788
 8192 0092 9342     		cmp	r3, r2
 8193 0094 01D9     		bls	.L636
3675:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8194              		.loc 1 3675 6 is_stmt 1 view .LVU2789
3675:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8195              		.loc 1 3675 9 is_stmt 0 view .LVU2790
 8196 0096 A2EB060A 		sub	r10, r2, r6
 8197              	.LVL955:
 8198              	.L636:
3677:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
 8199              		.loc 1 3677 5 is_stmt 1 view .LVU2791
3677:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
 8200              		.loc 1 3677 9 is_stmt 0 view .LVU2792
 8201 009a 5346     		mov	r3, r10
 8202 009c 4A46     		mov	r2, r9
 8203 009e 3946     		mov	r1, r7
 8204 00a0 9BF80100 		ldrb	r0, [fp, #1]	@ zero_extendqisi2
 8205 00a4 FFF7FEFF 		bl	disk_write
 8206              	.LVL956:
3677:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
 8207              		.loc 1 3677 8 view .LVU2793
 8208 00a8 C0B3     		cbz	r0, .L637
3677:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
 8209              		.loc 1 3677 57 is_stmt 1 discriminator 1 view .LVU2794
 8210 00aa 4FF0010A 		mov	r10, #1
 8211              	.LVL957:
3677:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
 8212              		.loc 1 3677 57 is_stmt 0 discriminator 1 view .LVU2795
 8213 00ae 84F815A0 		strb	r10, [r4, #21]
3677:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
 8214              		.loc 1 3677 57 is_stmt 1 discriminator 1 view .LVU2796
 8215 00b2 CDF804A0 		str	r10, [sp, #4]
 8216              	.LVL958:
 8217              	.L622:
3723:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8218              		.loc 1 3723 1 is_stmt 0 view .LVU2797
 8219 00b6 0198     		ldr	r0, [sp, #4]
 8220 00b8 05B0     		add	sp, sp, #20
 8221              	.LCFI64:
 8222              		.cfi_remember_state
 8223              		.cfi_def_cfa_offset 36
 8224              		@ sp needed
 8225 00ba BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 8226              	.LVL959:
 8227              	.L628:
 8228              	.LCFI65:
 8229              		.cfi_restore_state
3652:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8230              		.loc 1 3652 7 is_stmt 1 view .LVU2798
3652:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
ARM GAS  /tmp/ccBfkcjf.s 			page 291


 8231              		.loc 1 3652 14 is_stmt 0 view .LVU2799
 8232 00be E169     		ldr	r1, [r4, #28]
 8233 00c0 2046     		mov	r0, r4
 8234 00c2 FFF7FEFF 		bl	create_chain
 8235              	.LVL960:
3652:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8236              		.loc 1 3652 14 view .LVU2800
 8237 00c6 C0E7     		b	.L627
 8238              	.L647:
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 8239              		.loc 1 3656 20 is_stmt 1 discriminator 1 view .LVU2801
 8240 00c8 4FF0020A 		mov	r10, #2
 8241 00cc 84F815A0 		strb	r10, [r4, #21]
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 8242              		.loc 1 3656 20 discriminator 1 view .LVU2802
 8243 00d0 CDF804A0 		str	r10, [sp, #4]
 8244              	.LVL961:
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 8245              		.loc 1 3656 20 is_stmt 0 discriminator 1 view .LVU2803
 8246 00d4 EFE7     		b	.L622
 8247              	.LVL962:
 8248              	.L648:
3657:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 8249              		.loc 1 3657 29 is_stmt 1 discriminator 1 view .LVU2804
 8250 00d6 4FF0010A 		mov	r10, #1
 8251 00da 84F815A0 		strb	r10, [r4, #21]
3657:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 8252              		.loc 1 3657 29 discriminator 1 view .LVU2805
 8253 00de CDF804A0 		str	r10, [sp, #4]
 8254              	.LVL963:
3657:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 8255              		.loc 1 3657 29 is_stmt 0 discriminator 1 view .LVU2806
 8256 00e2 E8E7     		b	.L622
 8257              	.LVL964:
 8258              	.L649:
3665:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8259              		.loc 1 3665 5 is_stmt 1 view .LVU2807
3665:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8260              		.loc 1 3665 9 is_stmt 0 view .LVU2808
 8261 00e4 0123     		movs	r3, #1
 8262 00e6 226A     		ldr	r2, [r4, #32]
 8263 00e8 04F13001 		add	r1, r4, #48
 8264 00ec 0398     		ldr	r0, [sp, #12]
 8265 00ee 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 8266 00f0 FFF7FEFF 		bl	disk_write
 8267              	.LVL965:
3665:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8268              		.loc 1 3665 8 view .LVU2809
 8269 00f4 20B9     		cbnz	r0, .L651
3665:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8270              		.loc 1 3665 84 is_stmt 1 discriminator 2 view .LVU2810
3666:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8271              		.loc 1 3666 5 discriminator 2 view .LVU2811
3666:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8272              		.loc 1 3666 14 is_stmt 0 discriminator 2 view .LVU2812
 8273 00f6 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 8274 00f8 03F07F03 		and	r3, r3, #127
ARM GAS  /tmp/ccBfkcjf.s 			page 292


 8275 00fc 2375     		strb	r3, [r4, #20]
 8276 00fe B4E7     		b	.L632
 8277              	.L651:
3665:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8278              		.loc 1 3665 62 is_stmt 1 discriminator 1 view .LVU2813
 8279 0100 4FF0010A 		mov	r10, #1
 8280 0104 84F815A0 		strb	r10, [r4, #21]
3665:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8281              		.loc 1 3665 62 discriminator 1 view .LVU2814
 8282 0108 CDF804A0 		str	r10, [sp, #4]
 8283              	.LVL966:
3665:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8284              		.loc 1 3665 62 is_stmt 0 discriminator 1 view .LVU2815
 8285 010c D3E7     		b	.L622
 8286              	.LVL967:
 8287              	.L650:
3670:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 8288              		.loc 1 3670 15 is_stmt 1 discriminator 1 view .LVU2816
 8289 010e 4FF0020A 		mov	r10, #2
 8290 0112 84F815A0 		strb	r10, [r4, #21]
3670:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 8291              		.loc 1 3670 15 discriminator 1 view .LVU2817
 8292 0116 CDF804A0 		str	r10, [sp, #4]
 8293              	.LVL968:
3670:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 8294              		.loc 1 3670 15 is_stmt 0 discriminator 1 view .LVU2818
 8295 011a CCE7     		b	.L622
 8296              	.LVL969:
 8297              	.L637:
3677:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
 8298              		.loc 1 3677 79 is_stmt 1 discriminator 2 view .LVU2819
3685:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf, wbuff + ((fp->sect - sect) * SS(fs)), SS(fs));
 8299              		.loc 1 3685 5 discriminator 2 view .LVU2820
3685:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf, wbuff + ((fp->sect - sect) * SS(fs)), SS(fs));
 8300              		.loc 1 3685 11 is_stmt 0 discriminator 2 view .LVU2821
 8301 011c 216A     		ldr	r1, [r4, #32]
3685:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf, wbuff + ((fp->sect - sect) * SS(fs)), SS(fs));
 8302              		.loc 1 3685 18 discriminator 2 view .LVU2822
 8303 011e A1EB0901 		sub	r1, r1, r9
3685:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf, wbuff + ((fp->sect - sect) * SS(fs)), SS(fs));
 8304              		.loc 1 3685 8 discriminator 2 view .LVU2823
 8305 0122 5145     		cmp	r1, r10
 8306 0124 04D3     		bcc	.L652
 8307              	.L638:
3691:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
 8308              		.loc 1 3691 5 is_stmt 1 view .LVU2824
3691:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
 8309              		.loc 1 3691 12 is_stmt 0 view .LVU2825
 8310 0126 039B     		ldr	r3, [sp, #12]
 8311 0128 9E89     		ldrh	r6, [r3, #12]
 8312              	.LVL970:
3691:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
 8313              		.loc 1 3691 10 view .LVU2826
 8314 012a 0AFB06F6 		mul	r6, r10, r6
 8315              	.LVL971:
3692:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8316              		.loc 1 3692 5 is_stmt 1 view .LVU2827
ARM GAS  /tmp/ccBfkcjf.s 			page 293


 8317 012e 2BE0     		b	.L639
 8318              	.LVL972:
 8319              	.L652:
3686:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 8320              		.loc 1 3686 6 view .LVU2828
3686:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 8321              		.loc 1 3686 52 is_stmt 0 view .LVU2829
 8322 0130 039B     		ldr	r3, [sp, #12]
 8323 0132 9A89     		ldrh	r2, [r3, #12]
3686:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 8324              		.loc 1 3686 6 view .LVU2830
 8325 0134 02FB0171 		mla	r1, r2, r1, r7
 8326 0138 04F13000 		add	r0, r4, #48
 8327 013c FFF7FEFF 		bl	mem_cpy
 8328              	.LVL973:
3687:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8329              		.loc 1 3687 6 is_stmt 1 view .LVU2831
3687:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8330              		.loc 1 3687 15 is_stmt 0 view .LVU2832
 8331 0140 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 8332 0142 03F07F03 		and	r3, r3, #127
 8333 0146 2375     		strb	r3, [r4, #20]
 8334 0148 EDE7     		b	.L638
 8335              	.L635:
3700:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr < fp->obj.objsize &&
 8336              		.loc 1 3700 4 is_stmt 1 view .LVU2833
3700:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr < fp->obj.objsize &&
 8337              		.loc 1 3700 10 is_stmt 0 view .LVU2834
 8338 014a 236A     		ldr	r3, [r4, #32]
3700:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr < fp->obj.objsize &&
 8339              		.loc 1 3700 7 view .LVU2835
 8340 014c 4B45     		cmp	r3, r9
 8341 014e 03D0     		beq	.L640
3701:Middlewares/Third_Party/FatFs/src/ff.c **** 				disk_read(fs->drv, fp->buf, sect, 1) != RES_OK) {
 8342              		.loc 1 3701 7 discriminator 1 view .LVU2836
 8343 0150 A269     		ldr	r2, [r4, #24]
3701:Middlewares/Third_Party/FatFs/src/ff.c **** 				disk_read(fs->drv, fp->buf, sect, 1) != RES_OK) {
 8344              		.loc 1 3701 23 discriminator 1 view .LVU2837
 8345 0152 E368     		ldr	r3, [r4, #12]
3700:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr < fp->obj.objsize &&
 8346              		.loc 1 3700 25 discriminator 1 view .LVU2838
 8347 0154 9A42     		cmp	r2, r3
 8348 0156 42D3     		bcc	.L653
 8349              	.L640:
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8350              		.loc 1 3703 28 is_stmt 1 view .LVU2839
3706:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8351              		.loc 1 3706 4 view .LVU2840
3706:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8352              		.loc 1 3706 13 is_stmt 0 view .LVU2841
 8353 0158 C4F82090 		str	r9, [r4, #32]
 8354              	.LVL974:
 8355              	.L624:
3708:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;					/* Clip it by btw if needed */
 8356              		.loc 1 3708 3 is_stmt 1 view .LVU2842
3708:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;					/* Clip it by btw if needed */
 8357              		.loc 1 3708 10 is_stmt 0 view .LVU2843
ARM GAS  /tmp/ccBfkcjf.s 			page 294


 8358 015c 039B     		ldr	r3, [sp, #12]
 8359 015e 9E89     		ldrh	r6, [r3, #12]
3708:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;					/* Clip it by btw if needed */
 8360              		.loc 1 3708 27 view .LVU2844
 8361 0160 A369     		ldr	r3, [r4, #24]
3708:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;					/* Clip it by btw if needed */
 8362              		.loc 1 3708 34 view .LVU2845
 8363 0162 B3FBF6F0 		udiv	r0, r3, r6
 8364 0166 06FB1033 		mls	r3, r6, r0, r3
3708:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;					/* Clip it by btw if needed */
 8365              		.loc 1 3708 8 view .LVU2846
 8366 016a F61A     		subs	r6, r6, r3
 8367              	.LVL975:
3709:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
 8368              		.loc 1 3709 3 is_stmt 1 view .LVU2847
3709:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
 8369              		.loc 1 3709 6 is_stmt 0 view .LVU2848
 8370 016c B542     		cmp	r5, r6
 8371 016e 00D2     		bcs	.L641
3709:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
 8372              		.loc 1 3709 24 view .LVU2849
 8373 0170 2E46     		mov	r6, r5
 8374              	.LVL976:
 8375              	.L641:
3715:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA_DIRTY;
 8376              		.loc 1 3715 3 is_stmt 1 view .LVU2850
3715:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA_DIRTY;
 8377              		.loc 1 3715 11 is_stmt 0 view .LVU2851
 8378 0172 04F13000 		add	r0, r4, #48
3715:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA_DIRTY;
 8379              		.loc 1 3715 3 view .LVU2852
 8380 0176 3246     		mov	r2, r6
 8381 0178 3946     		mov	r1, r7
 8382 017a 1844     		add	r0, r0, r3
 8383 017c FFF7FEFF 		bl	mem_cpy
 8384              	.LVL977:
3716:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8385              		.loc 1 3716 3 is_stmt 1 view .LVU2853
3716:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8386              		.loc 1 3716 12 is_stmt 0 view .LVU2854
 8387 0180 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 8388 0182 63F07F03 		orn	r3, r3, #127
 8389 0186 2375     		strb	r3, [r4, #20]
 8390              	.L639:
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 8391              		.loc 1 3636 3 is_stmt 1 view .LVU2855
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 8392              		.loc 1 3636 9 is_stmt 0 view .LVU2856
 8393 0188 3744     		add	r7, r7, r6
 8394              	.LVL978:
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 8395              		.loc 1 3636 27 view .LVU2857
 8396 018a A369     		ldr	r3, [r4, #24]
 8397 018c 3344     		add	r3, r3, r6
 8398 018e A361     		str	r3, [r4, #24]
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 8399              		.loc 1 3636 73 view .LVU2858
ARM GAS  /tmp/ccBfkcjf.s 			page 295


 8400 0190 E268     		ldr	r2, [r4, #12]
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 8401              		.loc 1 3636 94 view .LVU2859
 8402 0192 9342     		cmp	r3, r2
 8403 0194 38BF     		it	cc
 8404 0196 1346     		movcc	r3, r2
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 8405              		.loc 1 3636 52 view .LVU2860
 8406 0198 E360     		str	r3, [r4, #12]
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 8407              		.loc 1 3636 117 view .LVU2861
 8408 019a D8F80030 		ldr	r3, [r8]
 8409 019e 3344     		add	r3, r3, r6
 8410 01a0 C8F80030 		str	r3, [r8]
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 8411              		.loc 1 3636 130 view .LVU2862
 8412 01a4 AD1B     		subs	r5, r5, r6
 8413              	.LVL979:
 8414              	.L642:
3635:Middlewares/Third_Party/FatFs/src/ff.c **** 		wbuff += wcnt, fp->fptr += wcnt, fp->obj.objsize = (fp->fptr > fp->obj.objsize) ? fp->fptr : fp->
 8415              		.loc 1 3635 11 is_stmt 1 view .LVU2863
3635:Middlewares/Third_Party/FatFs/src/ff.c **** 		wbuff += wcnt, fp->fptr += wcnt, fp->obj.objsize = (fp->fptr > fp->obj.objsize) ? fp->fptr : fp->
 8416              		.loc 1 3635 2 is_stmt 0 view .LVU2864
 8417 01a6 5DB3     		cbz	r5, .L629
3637:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs)) & (fs->csize - 1);	/* Sector offset in the cluster */
 8418              		.loc 1 3637 3 is_stmt 1 view .LVU2865
3637:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs)) & (fs->csize - 1);	/* Sector offset in the cluster */
 8419              		.loc 1 3637 9 is_stmt 0 view .LVU2866
 8420 01a8 A169     		ldr	r1, [r4, #24]
3637:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs)) & (fs->csize - 1);	/* Sector offset in the cluster */
 8421              		.loc 1 3637 18 view .LVU2867
 8422 01aa 039A     		ldr	r2, [sp, #12]
 8423 01ac 9689     		ldrh	r6, [r2, #12]
3637:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs)) & (fs->csize - 1);	/* Sector offset in the cluster */
 8424              		.loc 1 3637 16 view .LVU2868
 8425 01ae B1FBF6F3 		udiv	r3, r1, r6
 8426 01b2 06FB1313 		mls	r3, r6, r3, r1
3637:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs)) & (fs->csize - 1);	/* Sector offset in the cluster */
 8427              		.loc 1 3637 6 view .LVU2869
 8428 01b6 002B     		cmp	r3, #0
 8429 01b8 D0D1     		bne	.L624
3638:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {				/* On the cluster boundary? */
 8430              		.loc 1 3638 4 is_stmt 1 view .LVU2870
3638:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {				/* On the cluster boundary? */
 8431              		.loc 1 3638 28 is_stmt 0 view .LVU2871
 8432 01ba B1FBF6F6 		udiv	r6, r1, r6
3638:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {				/* On the cluster boundary? */
 8433              		.loc 1 3638 43 view .LVU2872
 8434 01be 5389     		ldrh	r3, [r2, #10]
3638:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {				/* On the cluster boundary? */
 8435              		.loc 1 3638 51 view .LVU2873
 8436 01c0 013B     		subs	r3, r3, #1
 8437              	.LVL980:
3639:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {		/* On the top of the file? */
 8438              		.loc 1 3639 4 is_stmt 1 view .LVU2874
3639:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {		/* On the top of the file? */
 8439              		.loc 1 3639 7 is_stmt 0 view .LVU2875
ARM GAS  /tmp/ccBfkcjf.s 			page 296


 8440 01c2 1E40     		ands	r6, r6, r3
 8441              	.LVL981:
3639:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {		/* On the top of the file? */
 8442              		.loc 1 3639 7 view .LVU2876
 8443 01c4 7FF44DAF 		bne	.L625
3640:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->obj.sclust;	/* Follow from the origin */
 8444              		.loc 1 3640 5 is_stmt 1 view .LVU2877
3640:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->obj.sclust;	/* Follow from the origin */
 8445              		.loc 1 3640 8 is_stmt 0 view .LVU2878
 8446 01c8 0029     		cmp	r1, #0
 8447 01ca 7FF438AF 		bne	.L626
3641:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) {		/* If no cluster is allocated, */
 8448              		.loc 1 3641 6 is_stmt 1 view .LVU2879
3641:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) {		/* If no cluster is allocated, */
 8449              		.loc 1 3641 11 is_stmt 0 view .LVU2880
 8450 01ce A068     		ldr	r0, [r4, #8]
 8451              	.LVL982:
3642:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(&fp->obj, 0);	/* create a new cluster chain */
 8452              		.loc 1 3642 6 is_stmt 1 view .LVU2881
3642:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(&fp->obj, 0);	/* create a new cluster chain */
 8453              		.loc 1 3642 9 is_stmt 0 view .LVU2882
 8454 01d0 0028     		cmp	r0, #0
 8455 01d2 7FF43AAF 		bne	.L627
3643:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8456              		.loc 1 3643 7 is_stmt 1 view .LVU2883
3643:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8457              		.loc 1 3643 14 is_stmt 0 view .LVU2884
 8458 01d6 2046     		mov	r0, r4
 8459              	.LVL983:
3643:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8460              		.loc 1 3643 14 view .LVU2885
 8461 01d8 FFF7FEFF 		bl	create_chain
 8462              	.LVL984:
3643:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8463              		.loc 1 3643 14 view .LVU2886
 8464 01dc 35E7     		b	.L627
 8465              	.LVL985:
 8466              	.L653:
3702:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fs, FR_DISK_ERR);
 8467              		.loc 1 3702 5 view .LVU2887
 8468 01de 0123     		movs	r3, #1
 8469 01e0 4A46     		mov	r2, r9
 8470 01e2 04F13001 		add	r1, r4, #48
 8471 01e6 9BF80100 		ldrb	r0, [fp, #1]	@ zero_extendqisi2
 8472 01ea FFF7FEFF 		bl	disk_read
 8473              	.LVL986:
3701:Middlewares/Third_Party/FatFs/src/ff.c **** 				disk_read(fs->drv, fp->buf, sect, 1) != RES_OK) {
 8474              		.loc 1 3701 32 view .LVU2888
 8475 01ee 0028     		cmp	r0, #0
 8476 01f0 B2D0     		beq	.L640
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8477              		.loc 1 3703 6 is_stmt 1 view .LVU2889
 8478 01f2 4FF0010A 		mov	r10, #1
 8479              	.LVL987:
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8480              		.loc 1 3703 6 is_stmt 0 view .LVU2890
 8481 01f6 84F815A0 		strb	r10, [r4, #21]
ARM GAS  /tmp/ccBfkcjf.s 			page 297


3703:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8482              		.loc 1 3703 6 is_stmt 1 view .LVU2891
 8483 01fa CDF804A0 		str	r10, [sp, #4]
 8484              	.LVL988:
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8485              		.loc 1 3703 6 is_stmt 0 view .LVU2892
 8486 01fe 5AE7     		b	.L622
 8487              	.LVL989:
 8488              	.L629:
3720:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8489              		.loc 1 3720 2 is_stmt 1 view .LVU2893
3720:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8490              		.loc 1 3720 11 is_stmt 0 view .LVU2894
 8491 0200 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 8492 0202 43F04003 		orr	r3, r3, #64
 8493 0206 2375     		strb	r3, [r4, #20]
3722:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8494              		.loc 1 3722 2 is_stmt 1 view .LVU2895
 8495 0208 55E7     		b	.L622
 8496              	.LVL990:
 8497              	.L644:
3628:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8498              		.loc 1 3628 30 is_stmt 0 view .LVU2896
 8499 020a 0723     		movs	r3, #7
 8500 020c 0193     		str	r3, [sp, #4]
 8501              	.LVL991:
3628:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8502              		.loc 1 3628 30 view .LVU2897
 8503 020e 52E7     		b	.L622
 8504              		.cfi_endproc
 8505              	.LFE396:
 8507              		.section	.text.putc_bfd,"ax",%progbits
 8508              		.align	1
 8509              		.syntax unified
 8510              		.thumb
 8511              		.thumb_func
 8512              		.fpu fpv5-d16
 8514              	putc_bfd:
 8515              	.LVL992:
 8516              	.LFB411:
5921:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bw;
 8517              		.loc 1 5921 1 is_stmt 1 view -0
 8518              		.cfi_startproc
 8519              		@ args = 0, pretend = 0, frame = 8
 8520              		@ frame_needed = 0, uses_anonymous_args = 0
5921:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bw;
 8521              		.loc 1 5921 1 is_stmt 0 view .LVU2899
 8522 0000 70B5     		push	{r4, r5, r6, lr}
 8523              	.LCFI66:
 8524              		.cfi_def_cfa_offset 16
 8525              		.cfi_offset 4, -16
 8526              		.cfi_offset 5, -12
 8527              		.cfi_offset 6, -8
 8528              		.cfi_offset 14, -4
 8529 0002 82B0     		sub	sp, sp, #8
 8530              	.LCFI67:
 8531              		.cfi_def_cfa_offset 24
ARM GAS  /tmp/ccBfkcjf.s 			page 298


 8532 0004 0446     		mov	r4, r0
 8533 0006 0D46     		mov	r5, r1
5922:Middlewares/Third_Party/FatFs/src/ff.c **** 	int i;
 8534              		.loc 1 5922 2 is_stmt 1 view .LVU2900
5923:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8535              		.loc 1 5923 2 view .LVU2901
5926:Middlewares/Third_Party/FatFs/src/ff.c **** 		putc_bfd(pb, '\r');
 8536              		.loc 1 5926 2 view .LVU2902
5926:Middlewares/Third_Party/FatFs/src/ff.c **** 		putc_bfd(pb, '\r');
 8537              		.loc 1 5926 5 is_stmt 0 view .LVU2903
 8538 0008 0A29     		cmp	r1, #10
 8539 000a 0DD0     		beq	.L661
 8540              	.LVL993:
 8541              	.L655:
5930:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i < 0) return;
 8542              		.loc 1 5930 2 is_stmt 1 view .LVU2904
5930:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i < 0) return;
 8543              		.loc 1 5930 4 is_stmt 0 view .LVU2905
 8544 000c 6368     		ldr	r3, [r4, #4]
 8545              	.LVL994:
5931:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8546              		.loc 1 5931 2 is_stmt 1 view .LVU2906
5931:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8547              		.loc 1 5931 5 is_stmt 0 view .LVU2907
 8548 000e 002B     		cmp	r3, #0
 8549 0010 08DB     		blt	.L654
5960:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8550              		.loc 1 5960 2 is_stmt 1 view .LVU2908
5960:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8551              		.loc 1 5960 11 is_stmt 0 view .LVU2909
 8552 0012 5E1C     		adds	r6, r3, #1
 8553              	.LVL995:
5960:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8554              		.loc 1 5960 15 view .LVU2910
 8555 0014 2344     		add	r3, r3, r4
 8556 0016 1D73     		strb	r5, [r3, #12]
5963:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_write(pb->fp, pb->buf, (UINT)i, &bw);
 8557              		.loc 1 5963 2 is_stmt 1 view .LVU2911
5963:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_write(pb->fp, pb->buf, (UINT)i, &bw);
 8558              		.loc 1 5963 5 is_stmt 0 view .LVU2912
 8559 0018 3C2E     		cmp	r6, #60
 8560 001a 09DC     		bgt	.L662
 8561              	.LVL996:
 8562              	.L658:
5967:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->nchr++;
 8563              		.loc 1 5967 2 is_stmt 1 view .LVU2913
5967:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->nchr++;
 8564              		.loc 1 5967 10 is_stmt 0 view .LVU2914
 8565 001c 6660     		str	r6, [r4, #4]
5968:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8566              		.loc 1 5968 2 is_stmt 1 view .LVU2915
5968:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8567              		.loc 1 5968 4 is_stmt 0 view .LVU2916
 8568 001e A368     		ldr	r3, [r4, #8]
5968:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8569              		.loc 1 5968 10 view .LVU2917
 8570 0020 0133     		adds	r3, r3, #1
ARM GAS  /tmp/ccBfkcjf.s 			page 299


 8571 0022 A360     		str	r3, [r4, #8]
 8572              	.LVL997:
 8573              	.L654:
5969:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8574              		.loc 1 5969 1 view .LVU2918
 8575 0024 02B0     		add	sp, sp, #8
 8576              	.LCFI68:
 8577              		.cfi_remember_state
 8578              		.cfi_def_cfa_offset 16
 8579              		@ sp needed
 8580 0026 70BD     		pop	{r4, r5, r6, pc}
 8581              	.LVL998:
 8582              	.L661:
 8583              	.LCFI69:
 8584              		.cfi_restore_state
5927:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8585              		.loc 1 5927 3 is_stmt 1 view .LVU2919
 8586 0028 0D21     		movs	r1, #13
 8587              	.LVL999:
5927:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8588              		.loc 1 5927 3 is_stmt 0 view .LVU2920
 8589 002a FFF7E9FF 		bl	putc_bfd
 8590              	.LVL1000:
5927:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8591              		.loc 1 5927 3 view .LVU2921
 8592 002e EDE7     		b	.L655
 8593              	.LVL1001:
 8594              	.L662:
5964:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = (bw == (UINT)i) ? 0 : -1;
 8595              		.loc 1 5964 3 is_stmt 1 view .LVU2922
5964:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = (bw == (UINT)i) ? 0 : -1;
 8596              		.loc 1 5964 21 is_stmt 0 view .LVU2923
 8597 0030 2146     		mov	r1, r4
5964:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = (bw == (UINT)i) ? 0 : -1;
 8598              		.loc 1 5964 3 view .LVU2924
 8599 0032 51F80C0B 		ldr	r0, [r1], #12
 8600 0036 01AB     		add	r3, sp, #4
 8601 0038 3246     		mov	r2, r6
 8602 003a FFF7FEFF 		bl	f_write
 8603              	.LVL1002:
5965:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8604              		.loc 1 5965 3 is_stmt 1 view .LVU2925
5965:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8605              		.loc 1 5965 11 is_stmt 0 view .LVU2926
 8606 003e 019B     		ldr	r3, [sp, #4]
5965:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8607              		.loc 1 5965 27 view .LVU2927
 8608 0040 9E42     		cmp	r6, r3
 8609 0042 02D0     		beq	.L663
 8610 0044 4FF0FF36 		mov	r6, #-1
 8611              	.LVL1003:
5965:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8612              		.loc 1 5965 27 view .LVU2928
 8613 0048 E8E7     		b	.L658
 8614              	.LVL1004:
 8615              	.L663:
5965:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
ARM GAS  /tmp/ccBfkcjf.s 			page 300


 8616              		.loc 1 5965 27 view .LVU2929
 8617 004a 0026     		movs	r6, #0
 8618              	.LVL1005:
5965:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8619              		.loc 1 5965 27 view .LVU2930
 8620 004c E6E7     		b	.L658
 8621              		.cfi_endproc
 8622              	.LFE411:
 8624              		.section	.text.putc_flush,"ax",%progbits
 8625              		.align	1
 8626              		.syntax unified
 8627              		.thumb
 8628              		.thumb_func
 8629              		.fpu fpv5-d16
 8631              	putc_flush:
 8632              	.LVL1006:
 8633              	.LFB412:
5976:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nw;
 8634              		.loc 1 5976 1 is_stmt 1 view -0
 8635              		.cfi_startproc
 8636              		@ args = 0, pretend = 0, frame = 8
 8637              		@ frame_needed = 0, uses_anonymous_args = 0
5977:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8638              		.loc 1 5977 2 view .LVU2932
5979:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& f_write(pb->fp, pb->buf, (UINT)pb->idx, &nw) == FR_OK
 8639              		.loc 1 5979 2 view .LVU2933
5979:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& f_write(pb->fp, pb->buf, (UINT)pb->idx, &nw) == FR_OK
 8640              		.loc 1 5979 11 is_stmt 0 view .LVU2934
 8641 0000 4268     		ldr	r2, [r0, #4]
5979:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& f_write(pb->fp, pb->buf, (UINT)pb->idx, &nw) == FR_OK
 8642              		.loc 1 5979 5 view .LVU2935
 8643 0002 002A     		cmp	r2, #0
 8644 0004 10DB     		blt	.L666
5976:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nw;
 8645              		.loc 1 5976 1 view .LVU2936
 8646 0006 10B5     		push	{r4, lr}
 8647              	.LCFI70:
 8648              		.cfi_def_cfa_offset 8
 8649              		.cfi_offset 4, -8
 8650              		.cfi_offset 14, -4
 8651 0008 82B0     		sub	sp, sp, #8
 8652              	.LCFI71:
 8653              		.cfi_def_cfa_offset 16
 8654 000a 0446     		mov	r4, r0
5980:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb->idx == nw) return pb->nchr;
 8655              		.loc 1 5980 24 view .LVU2937
 8656 000c 0146     		mov	r1, r0
5980:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb->idx == nw) return pb->nchr;
 8657              		.loc 1 5980 6 view .LVU2938
 8658 000e 51F80C0B 		ldr	r0, [r1], #12
 8659              	.LVL1007:
5980:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb->idx == nw) return pb->nchr;
 8660              		.loc 1 5980 6 view .LVU2939
 8661 0012 01AB     		add	r3, sp, #4
 8662 0014 FFF7FEFF 		bl	f_write
 8663              	.LVL1008:
5980:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb->idx == nw) return pb->nchr;
ARM GAS  /tmp/ccBfkcjf.s 			page 301


 8664              		.loc 1 5980 3 view .LVU2940
 8665 0018 48B9     		cbnz	r0, .L667
5981:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
 8666              		.loc 1 5981 14 view .LVU2941
 8667 001a 6268     		ldr	r2, [r4, #4]
5981:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
 8668              		.loc 1 5981 20 view .LVU2942
 8669 001c 019B     		ldr	r3, [sp, #4]
5981:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
 8670              		.loc 1 5981 3 view .LVU2943
 8671 001e 9A42     		cmp	r2, r3
 8672 0020 08D1     		bne	.L668
5981:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
 8673              		.loc 1 5981 27 is_stmt 1 discriminator 1 view .LVU2944
5981:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
 8674              		.loc 1 5981 36 is_stmt 0 discriminator 1 view .LVU2945
 8675 0022 A068     		ldr	r0, [r4, #8]
 8676              	.L664:
5983:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8677              		.loc 1 5983 1 view .LVU2946
 8678 0024 02B0     		add	sp, sp, #8
 8679              	.LCFI72:
 8680              		.cfi_def_cfa_offset 8
 8681              		@ sp needed
 8682 0026 10BD     		pop	{r4, pc}
 8683              	.LVL1009:
 8684              	.L666:
 8685              	.LCFI73:
 8686              		.cfi_def_cfa_offset 0
 8687              		.cfi_restore 4
 8688              		.cfi_restore 14
5982:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8689              		.loc 1 5982 9 view .LVU2947
 8690 0028 4FF0FF30 		mov	r0, #-1
 8691              	.LVL1010:
5983:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8692              		.loc 1 5983 1 view .LVU2948
 8693 002c 7047     		bx	lr
 8694              	.LVL1011:
 8695              	.L667:
 8696              	.LCFI74:
 8697              		.cfi_def_cfa_offset 16
 8698              		.cfi_offset 4, -8
 8699              		.cfi_offset 14, -4
5982:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8700              		.loc 1 5982 9 view .LVU2949
 8701 002e 4FF0FF30 		mov	r0, #-1
 8702 0032 F7E7     		b	.L664
 8703              	.L668:
 8704 0034 4FF0FF30 		mov	r0, #-1
 8705 0038 F4E7     		b	.L664
 8706              		.cfi_endproc
 8707              	.LFE412:
 8709              		.section	.text.f_sync,"ax",%progbits
 8710              		.align	1
 8711              		.global	f_sync
 8712              		.syntax unified
ARM GAS  /tmp/ccBfkcjf.s 			page 302


 8713              		.thumb
 8714              		.thumb_func
 8715              		.fpu fpv5-d16
 8717              	f_sync:
 8718              	.LVL1012:
 8719              	.LFB397:
3735:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8720              		.loc 1 3735 1 is_stmt 1 view -0
 8721              		.cfi_startproc
 8722              		@ args = 0, pretend = 0, frame = 8
 8723              		@ frame_needed = 0, uses_anonymous_args = 0
3735:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8724              		.loc 1 3735 1 is_stmt 0 view .LVU2951
 8725 0000 70B5     		push	{r4, r5, r6, lr}
 8726              	.LCFI75:
 8727              		.cfi_def_cfa_offset 16
 8728              		.cfi_offset 4, -16
 8729              		.cfi_offset 5, -12
 8730              		.cfi_offset 6, -8
 8731              		.cfi_offset 14, -4
 8732 0002 82B0     		sub	sp, sp, #8
 8733              	.LCFI76:
 8734              		.cfi_def_cfa_offset 24
 8735 0004 0446     		mov	r4, r0
3736:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 8736              		.loc 1 3736 2 is_stmt 1 view .LVU2952
3737:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD tm;
 8737              		.loc 1 3737 2 view .LVU2953
3738:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
 8738              		.loc 1 3738 2 view .LVU2954
3739:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 8739              		.loc 1 3739 2 view .LVU2955
3745:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8740              		.loc 1 3745 2 view .LVU2956
3745:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8741              		.loc 1 3745 8 is_stmt 0 view .LVU2957
 8742 0006 01A9     		add	r1, sp, #4
 8743 0008 FFF7FEFF 		bl	validate
 8744              	.LVL1013:
3746:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->flag & FA_MODIFIED) {	/* Is there any change to the file? */
 8745              		.loc 1 3746 2 is_stmt 1 view .LVU2958
3746:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->flag & FA_MODIFIED) {	/* Is there any change to the file? */
 8746              		.loc 1 3746 5 is_stmt 0 view .LVU2959
 8747 000c 70B9     		cbnz	r0, .L674
3747:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 8748              		.loc 1 3747 3 is_stmt 1 view .LVU2960
3747:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 8749              		.loc 1 3747 9 is_stmt 0 view .LVU2961
 8750 000e 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
3747:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 8751              		.loc 1 3747 6 view .LVU2962
 8752 0010 13F0400F 		tst	r3, #64
 8753 0014 0AD0     		beq	.L674
3749:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) LEAVE_FF(fs, FR_DISK_ERR);
 8754              		.loc 1 3749 4 is_stmt 1 view .LVU2963
3749:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) LEAVE_FF(fs, FR_DISK_ERR);
 8755              		.loc 1 3749 7 is_stmt 0 view .LVU2964
ARM GAS  /tmp/ccBfkcjf.s 			page 303


 8756 0016 13F0800F 		tst	r3, #128
 8757 001a 09D1     		bne	.L678
 8758              	.L675:
3755:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 8759              		.loc 1 3755 4 is_stmt 1 view .LVU2965
3755:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 8760              		.loc 1 3755 9 is_stmt 0 view .LVU2966
 8761 001c FFF7FEFF 		bl	get_fattime
 8762              	.LVL1014:
 8763 0020 0546     		mov	r5, r0
 8764              	.LVL1015:
3785:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
 8765              		.loc 1 3785 5 is_stmt 1 view .LVU2967
3785:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
 8766              		.loc 1 3785 11 is_stmt 0 view .LVU2968
 8767 0022 616A     		ldr	r1, [r4, #36]
 8768 0024 0198     		ldr	r0, [sp, #4]
 8769              	.LVL1016:
3785:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
 8770              		.loc 1 3785 11 view .LVU2969
 8771 0026 FFF7FEFF 		bl	move_window
 8772              	.LVL1017:
3786:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir = fp->dir_ptr;
 8773              		.loc 1 3786 5 is_stmt 1 view .LVU2970
3786:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir = fp->dir_ptr;
 8774              		.loc 1 3786 8 is_stmt 0 view .LVU2971
 8775 002a 78B1     		cbz	r0, .L679
 8776              	.LVL1018:
 8777              	.L674:
3802:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8778              		.loc 1 3802 1 view .LVU2972
 8779 002c 02B0     		add	sp, sp, #8
 8780              	.LCFI77:
 8781              		.cfi_remember_state
 8782              		.cfi_def_cfa_offset 16
 8783              		@ sp needed
 8784 002e 70BD     		pop	{r4, r5, r6, pc}
 8785              	.LVL1019:
 8786              	.L678:
 8787              	.LCFI78:
 8788              		.cfi_restore_state
3750:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8789              		.loc 1 3750 5 is_stmt 1 view .LVU2973
3750:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8790              		.loc 1 3750 9 is_stmt 0 view .LVU2974
 8791 0030 0123     		movs	r3, #1
 8792 0032 226A     		ldr	r2, [r4, #32]
 8793 0034 04F13001 		add	r1, r4, #48
 8794 0038 0198     		ldr	r0, [sp, #4]
 8795 003a 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 8796 003c FFF7FEFF 		bl	disk_write
 8797              	.LVL1020:
3750:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8798              		.loc 1 3750 8 view .LVU2975
 8799 0040 40BB     		cbnz	r0, .L676
3751:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8800              		.loc 1 3751 5 is_stmt 1 view .LVU2976
ARM GAS  /tmp/ccBfkcjf.s 			page 304


3751:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8801              		.loc 1 3751 14 is_stmt 0 view .LVU2977
 8802 0042 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 8803 0044 03F07F03 		and	r3, r3, #127
 8804 0048 2375     		strb	r3, [r4, #20]
 8805 004a E7E7     		b	.L675
 8806              	.LVL1021:
 8807              	.L679:
3787:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] |= AM_ARC;						/* Set archive bit */
 8808              		.loc 1 3787 6 is_stmt 1 view .LVU2978
3787:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] |= AM_ARC;						/* Set archive bit */
 8809              		.loc 1 3787 10 is_stmt 0 view .LVU2979
 8810 004c A66A     		ldr	r6, [r4, #40]
 8811              	.LVL1022:
3788:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fp->obj.fs, dir, fp->obj.sclust);		/* Update file allocation info  */
 8812              		.loc 1 3788 6 is_stmt 1 view .LVU2980
3788:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fp->obj.fs, dir, fp->obj.sclust);		/* Update file allocation info  */
 8813              		.loc 1 3788 20 is_stmt 0 view .LVU2981
 8814 004e F37A     		ldrb	r3, [r6, #11]	@ zero_extendqisi2
 8815 0050 43F02003 		orr	r3, r3, #32
 8816 0054 F372     		strb	r3, [r6, #11]
3789:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_FileSize, (DWORD)fp->obj.objsize);	/* Update file size */
 8817              		.loc 1 3789 6 is_stmt 1 view .LVU2982
 8818 0056 A268     		ldr	r2, [r4, #8]
 8819 0058 3146     		mov	r1, r6
 8820 005a 2068     		ldr	r0, [r4]
 8821              	.LVL1023:
3789:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_FileSize, (DWORD)fp->obj.objsize);	/* Update file size */
 8822              		.loc 1 3789 6 is_stmt 0 view .LVU2983
 8823 005c FFF7FEFF 		bl	st_clust
 8824              	.LVL1024:
3790:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);				/* Update modified time */
 8825              		.loc 1 3790 6 is_stmt 1 view .LVU2984
 8826 0060 E168     		ldr	r1, [r4, #12]
 8827 0062 06F11C00 		add	r0, r6, #28
 8828 0066 FFF7FEFF 		bl	st_dword
 8829              	.LVL1025:
3791:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_word(dir + DIR_LstAccDate, 0);
 8830              		.loc 1 3791 6 view .LVU2985
 8831 006a 2946     		mov	r1, r5
 8832 006c 06F11600 		add	r0, r6, #22
 8833 0070 FFF7FEFF 		bl	st_dword
 8834              	.LVL1026:
3792:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 8835              		.loc 1 3792 6 view .LVU2986
 8836 0074 0021     		movs	r1, #0
 8837 0076 06F11200 		add	r0, r6, #18
 8838 007a FFF7FEFF 		bl	st_word
 8839              	.LVL1027:
3793:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);					/* Restore it to the directory */
 8840              		.loc 1 3793 6 view .LVU2987
3793:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);					/* Restore it to the directory */
 8841              		.loc 1 3793 16 is_stmt 0 view .LVU2988
 8842 007e 019B     		ldr	r3, [sp, #4]
 8843 0080 0122     		movs	r2, #1
 8844 0082 DA70     		strb	r2, [r3, #3]
3794:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_MODIFIED;
ARM GAS  /tmp/ccBfkcjf.s 			page 305


 8845              		.loc 1 3794 6 is_stmt 1 view .LVU2989
3794:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_MODIFIED;
 8846              		.loc 1 3794 12 is_stmt 0 view .LVU2990
 8847 0084 0198     		ldr	r0, [sp, #4]
 8848 0086 FFF7FEFF 		bl	sync_fs
 8849              	.LVL1028:
3795:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8850              		.loc 1 3795 6 is_stmt 1 view .LVU2991
3795:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8851              		.loc 1 3795 15 is_stmt 0 view .LVU2992
 8852 008a 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 8853 008c 23F04003 		bic	r3, r3, #64
 8854 0090 2375     		strb	r3, [r4, #20]
 8855 0092 CBE7     		b	.L674
 8856              	.LVL1029:
 8857              	.L676:
3750:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8858              		.loc 1 3750 62 view .LVU2993
 8859 0094 0120     		movs	r0, #1
 8860 0096 C9E7     		b	.L674
 8861              		.cfi_endproc
 8862              	.LFE397:
 8864              		.section	.text.f_close,"ax",%progbits
 8865              		.align	1
 8866              		.global	f_close
 8867              		.syntax unified
 8868              		.thumb
 8869              		.thumb_func
 8870              		.fpu fpv5-d16
 8872              	f_close:
 8873              	.LVL1030:
 8874              	.LFB398:
3816:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8875              		.loc 1 3816 1 is_stmt 1 view -0
 8876              		.cfi_startproc
 8877              		@ args = 0, pretend = 0, frame = 8
 8878              		@ frame_needed = 0, uses_anonymous_args = 0
3816:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8879              		.loc 1 3816 1 is_stmt 0 view .LVU2995
 8880 0000 10B5     		push	{r4, lr}
 8881              	.LCFI79:
 8882              		.cfi_def_cfa_offset 8
 8883              		.cfi_offset 4, -8
 8884              		.cfi_offset 14, -4
 8885 0002 82B0     		sub	sp, sp, #8
 8886              	.LCFI80:
 8887              		.cfi_def_cfa_offset 16
 8888 0004 0446     		mov	r4, r0
3817:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 8889              		.loc 1 3817 2 is_stmt 1 view .LVU2996
3818:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8890              		.loc 1 3818 2 view .LVU2997
3821:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK)
 8891              		.loc 1 3821 2 view .LVU2998
3821:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK)
 8892              		.loc 1 3821 8 is_stmt 0 view .LVU2999
 8893 0006 FFF7FEFF 		bl	f_sync
ARM GAS  /tmp/ccBfkcjf.s 			page 306


 8894              	.LVL1031:
3822:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8895              		.loc 1 3822 2 is_stmt 1 view .LVU3000
3822:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8896              		.loc 1 3822 5 is_stmt 0 view .LVU3001
 8897 000a 08B1     		cbz	r0, .L683
 8898              	.L681:
 8899              	.LVL1032:
3839:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8900              		.loc 1 3839 2 is_stmt 1 view .LVU3002
3840:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8901              		.loc 1 3840 1 is_stmt 0 view .LVU3003
 8902 000c 02B0     		add	sp, sp, #8
 8903              	.LCFI81:
 8904              		.cfi_remember_state
 8905              		.cfi_def_cfa_offset 8
 8906              		@ sp needed
 8907 000e 10BD     		pop	{r4, pc}
 8908              	.LVL1033:
 8909              	.L683:
 8910              	.LCFI82:
 8911              		.cfi_restore_state
3825:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 8912              		.loc 1 3825 3 is_stmt 1 view .LVU3004
3825:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 8913              		.loc 1 3825 9 is_stmt 0 view .LVU3005
 8914 0010 01A9     		add	r1, sp, #4
 8915 0012 2046     		mov	r0, r4
 8916 0014 FFF7FEFF 		bl	validate
 8917              	.LVL1034:
3826:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 8918              		.loc 1 3826 3 is_stmt 1 view .LVU3006
3826:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 8919              		.loc 1 3826 6 is_stmt 0 view .LVU3007
 8920 0018 0028     		cmp	r0, #0
 8921 001a F7D1     		bne	.L681
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)
 8922              		.loc 1 3828 4 is_stmt 1 view .LVU3008
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)
 8923              		.loc 1 3828 10 is_stmt 0 view .LVU3009
 8924 001c 2069     		ldr	r0, [r4, #16]
 8925              	.LVL1035:
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)
 8926              		.loc 1 3828 10 view .LVU3010
 8927 001e FFF7FEFF 		bl	dec_lock
 8928              	.LVL1036:
3829:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8929              		.loc 1 3829 4 is_stmt 1 view .LVU3011
3829:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8930              		.loc 1 3829 7 is_stmt 0 view .LVU3012
 8931 0022 0028     		cmp	r0, #0
 8932 0024 F2D1     		bne	.L681
3832:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8933              		.loc 1 3832 5 is_stmt 1 view .LVU3013
3832:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8934              		.loc 1 3832 16 is_stmt 0 view .LVU3014
 8935 0026 2060     		str	r0, [r4]
ARM GAS  /tmp/ccBfkcjf.s 			page 307


 8936 0028 F0E7     		b	.L681
 8937              		.cfi_endproc
 8938              	.LFE398:
 8940              		.section	.text.f_lseek,"ax",%progbits
 8941              		.align	1
 8942              		.global	f_lseek
 8943              		.syntax unified
 8944              		.thumb
 8945              		.thumb_func
 8946              		.fpu fpv5-d16
 8948              	f_lseek:
 8949              	.LVL1037:
 8950              	.LFB399:
4005:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8951              		.loc 1 4005 1 is_stmt 1 view -0
 8952              		.cfi_startproc
 8953              		@ args = 0, pretend = 0, frame = 8
 8954              		@ frame_needed = 0, uses_anonymous_args = 0
4005:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8955              		.loc 1 4005 1 is_stmt 0 view .LVU3016
 8956 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 8957              	.LCFI83:
 8958              		.cfi_def_cfa_offset 36
 8959              		.cfi_offset 4, -36
 8960              		.cfi_offset 5, -32
 8961              		.cfi_offset 6, -28
 8962              		.cfi_offset 7, -24
 8963              		.cfi_offset 8, -20
 8964              		.cfi_offset 9, -16
 8965              		.cfi_offset 10, -12
 8966              		.cfi_offset 11, -8
 8967              		.cfi_offset 14, -4
 8968 0004 83B0     		sub	sp, sp, #12
 8969              	.LCFI84:
 8970              		.cfi_def_cfa_offset 48
 8971 0006 0446     		mov	r4, r0
 8972 0008 0E46     		mov	r6, r1
4006:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 8973              		.loc 1 4006 2 is_stmt 1 view .LVU3017
4007:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, bcs, nsect;
 8974              		.loc 1 4007 2 view .LVU3018
4008:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t ifptr;
 8975              		.loc 1 4008 2 view .LVU3019
4009:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
 8976              		.loc 1 4009 2 view .LVU3020
4011:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8977              		.loc 1 4011 2 view .LVU3021
4014:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) res = (FRESULT)fp->err;
 8978              		.loc 1 4014 2 view .LVU3022
4014:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) res = (FRESULT)fp->err;
 8979              		.loc 1 4014 8 is_stmt 0 view .LVU3023
 8980 000a 01A9     		add	r1, sp, #4
 8981              	.LVL1038:
4014:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) res = (FRESULT)fp->err;
 8982              		.loc 1 4014 8 view .LVU3024
 8983 000c FFF7FEFF 		bl	validate
 8984              	.LVL1039:
ARM GAS  /tmp/ccBfkcjf.s 			page 308


4015:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT && !_FS_READONLY
 8985              		.loc 1 4015 2 is_stmt 1 view .LVU3025
4015:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT && !_FS_READONLY
 8986              		.loc 1 4015 5 is_stmt 0 view .LVU3026
 8987 0010 0546     		mov	r5, r0
 8988 0012 00B9     		cbnz	r0, .L685
4015:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT && !_FS_READONLY
 8989              		.loc 1 4015 20 is_stmt 1 discriminator 1 view .LVU3027
4015:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT && !_FS_READONLY
 8990              		.loc 1 4015 24 is_stmt 0 discriminator 1 view .LVU3028
 8991 0014 657D     		ldrb	r5, [r4, #21]	@ zero_extendqisi2
 8992              	.LVL1040:
 8993              	.L685:
4021:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8994              		.loc 1 4021 2 is_stmt 1 view .LVU3029
4021:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8995              		.loc 1 4021 5 is_stmt 0 view .LVU3030
 8996 0016 6DB9     		cbnz	r5, .L686
4024:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs == CREATE_LINKMAP) {	/* Create CLMT */
 8997              		.loc 1 4024 2 is_stmt 1 view .LVU3031
4024:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs == CREATE_LINKMAP) {	/* Create CLMT */
 8998              		.loc 1 4024 8 is_stmt 0 view .LVU3032
 8999 0018 E36A     		ldr	r3, [r4, #44]
4024:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs == CREATE_LINKMAP) {	/* Create CLMT */
 9000              		.loc 1 4024 5 view .LVU3033
 9001 001a 002B     		cmp	r3, #0
 9002 001c 00F08E80 		beq	.L687
4025:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl = fp->cltbl;
 9003              		.loc 1 4025 3 is_stmt 1 view .LVU3034
4025:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl = fp->cltbl;
 9004              		.loc 1 4025 6 is_stmt 0 view .LVU3035
 9005 0020 B6F1FF3F 		cmp	r6, #-1
 9006 0024 0AD0     		beq	.L727
4051:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = ofs;				/* Set file pointer */
 9007              		.loc 1 4051 4 is_stmt 1 view .LVU3036
4051:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = ofs;				/* Set file pointer */
 9008              		.loc 1 4051 21 is_stmt 0 view .LVU3037
 9009 0026 E768     		ldr	r7, [r4, #12]
4051:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = ofs;				/* Set file pointer */
 9010              		.loc 1 4051 7 view .LVU3038
 9011 0028 B742     		cmp	r7, r6
 9012 002a 00D3     		bcc	.L695
 9013 002c 3746     		mov	r7, r6
 9014              	.L695:
 9015              	.LVL1041:
4052:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs) {
 9016              		.loc 1 4052 4 is_stmt 1 view .LVU3039
4052:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs) {
 9017              		.loc 1 4052 13 is_stmt 0 view .LVU3040
 9018 002e A761     		str	r7, [r4, #24]
4053:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clmt_clust(fp, ofs - 1);
 9019              		.loc 1 4053 4 is_stmt 1 view .LVU3041
4053:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clmt_clust(fp, ofs - 1);
 9020              		.loc 1 4053 7 is_stmt 0 view .LVU3042
 9021 0030 002F     		cmp	r7, #0
 9022 0032 3FD1     		bne	.L728
 9023              	.LVL1042:
ARM GAS  /tmp/ccBfkcjf.s 			page 309


 9024              	.L686:
4153:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9025              		.loc 1 4153 1 view .LVU3043
 9026 0034 2846     		mov	r0, r5
 9027 0036 03B0     		add	sp, sp, #12
 9028              	.LCFI85:
 9029              		.cfi_remember_state
 9030              		.cfi_def_cfa_offset 36
 9031              		@ sp needed
 9032 0038 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 9033              	.LVL1043:
 9034              	.L727:
 9035              	.LCFI86:
 9036              		.cfi_restore_state
4026:Middlewares/Third_Party/FatFs/src/ff.c **** 			tlen = *tbl++; ulen = 2;	/* Given table size and required table size */
 9037              		.loc 1 4026 4 is_stmt 1 view .LVU3044
4027:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->obj.sclust;		/* Origin of the chain */
 9038              		.loc 1 4027 4 view .LVU3045
4027:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->obj.sclust;		/* Origin of the chain */
 9039              		.loc 1 4027 15 is_stmt 0 view .LVU3046
 9040 003c 9846     		mov	r8, r3
 9041              	.LVL1044:
4027:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->obj.sclust;		/* Origin of the chain */
 9042              		.loc 1 4027 9 view .LVU3047
 9043 003e 58F804BB 		ldr	fp, [r8], #4
 9044              	.LVL1045:
4027:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->obj.sclust;		/* Origin of the chain */
 9045              		.loc 1 4027 19 is_stmt 1 view .LVU3048
4028:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cl) {
 9046              		.loc 1 4028 4 view .LVU3049
4028:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cl) {
 9047              		.loc 1 4028 7 is_stmt 0 view .LVU3050
 9048 0042 D4F808A0 		ldr	r10, [r4, #8]
 9049              	.LVL1046:
4029:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 9050              		.loc 1 4029 4 is_stmt 1 view .LVU3051
4029:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 9051              		.loc 1 4029 7 is_stmt 0 view .LVU3052
 9052 0046 BAF1000F 		cmp	r10, #0
 9053 004a 27D0     		beq	.L720
4027:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->obj.sclust;		/* Origin of the chain */
 9054              		.loc 1 4027 24 view .LVU3053
 9055 004c 4FF00209 		mov	r9, #2
 9056              	.LVL1047:
 9057              	.L694:
4030:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Get a fragment */
 9058              		.loc 1 4030 5 is_stmt 1 view .LVU3054
4032:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 9059              		.loc 1 4032 6 view .LVU3055
4032:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 9060              		.loc 1 4032 16 view .LVU3056
4032:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 9061              		.loc 1 4032 25 view .LVU3057
4032:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 9062              		.loc 1 4032 30 is_stmt 0 view .LVU3058
 9063 0050 09F10209 		add	r9, r9, #2
 9064              	.LVL1048:
ARM GAS  /tmp/ccBfkcjf.s 			page 310


4032:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 9065              		.loc 1 4032 30 view .LVU3059
 9066 0054 5146     		mov	r1, r10
4032:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 9067              		.loc 1 4032 20 view .LVU3060
 9068 0056 0027     		movs	r7, #0
 9069              	.LVL1049:
 9070              	.L692:
4033:Middlewares/Third_Party/FatFs/src/ff.c **** 						pcl = cl; ncl++;
 9071              		.loc 1 4033 6 is_stmt 1 view .LVU3061
4034:Middlewares/Third_Party/FatFs/src/ff.c **** 						cl = get_fat(&fp->obj, cl);
 9072              		.loc 1 4034 7 view .LVU3062
4034:Middlewares/Third_Party/FatFs/src/ff.c **** 						cl = get_fat(&fp->obj, cl);
 9073              		.loc 1 4034 17 view .LVU3063
4034:Middlewares/Third_Party/FatFs/src/ff.c **** 						cl = get_fat(&fp->obj, cl);
 9074              		.loc 1 4034 20 is_stmt 0 view .LVU3064
 9075 0058 0137     		adds	r7, r7, #1
 9076              	.LVL1050:
4035:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fs, FR_INT_ERR);
 9077              		.loc 1 4035 7 is_stmt 1 view .LVU3065
 9078 005a 0E46     		mov	r6, r1
4035:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fs, FR_INT_ERR);
 9079              		.loc 1 4035 12 is_stmt 0 view .LVU3066
 9080 005c 2046     		mov	r0, r4
 9081 005e FFF7FEFF 		bl	get_fat
 9082              	.LVL1051:
4035:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fs, FR_INT_ERR);
 9083              		.loc 1 4035 12 view .LVU3067
 9084 0062 0146     		mov	r1, r0
 9085              	.LVL1052:
4036:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 9086              		.loc 1 4036 7 is_stmt 1 view .LVU3068
4036:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 9087              		.loc 1 4036 10 is_stmt 0 view .LVU3069
 9088 0064 0128     		cmp	r0, #1
 9089 0066 13D9     		bls	.L729
4036:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 9090              		.loc 1 4036 41 is_stmt 1 discriminator 2 view .LVU3070
4037:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 9091              		.loc 1 4037 7 discriminator 2 view .LVU3071
4037:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 9092              		.loc 1 4037 10 is_stmt 0 discriminator 2 view .LVU3072
 9093 0068 B0F1FF3F 		cmp	r0, #-1
 9094 006c 13D0     		beq	.L730
4037:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 9095              		.loc 1 4037 51 is_stmt 1 discriminator 2 view .LVU3073
4038:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ulen <= tlen) {		/* Store the length and top of the fragment */
 9096              		.loc 1 4038 14 discriminator 2 view .LVU3074
4038:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ulen <= tlen) {		/* Store the length and top of the fragment */
 9097              		.loc 1 4038 25 is_stmt 0 discriminator 2 view .LVU3075
 9098 006e 0136     		adds	r6, r6, #1
 9099              	.LVL1053:
4038:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ulen <= tlen) {		/* Store the length and top of the fragment */
 9100              		.loc 1 4038 6 discriminator 2 view .LVU3076
 9101 0070 8642     		cmp	r6, r0
 9102 0072 F1D0     		beq	.L692
4039:Middlewares/Third_Party/FatFs/src/ff.c **** 						*tbl++ = ncl; *tbl++ = tcl;
ARM GAS  /tmp/ccBfkcjf.s 			page 311


 9103              		.loc 1 4039 6 is_stmt 1 view .LVU3077
4039:Middlewares/Third_Party/FatFs/src/ff.c **** 						*tbl++ = ncl; *tbl++ = tcl;
 9104              		.loc 1 4039 9 is_stmt 0 view .LVU3078
 9105 0074 CB45     		cmp	fp, r9
 9106 0076 05D3     		bcc	.L693
4040:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 9107              		.loc 1 4040 7 is_stmt 1 view .LVU3079
 9108              	.LVL1054:
4040:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 9109              		.loc 1 4040 14 is_stmt 0 view .LVU3080
 9110 0078 4346     		mov	r3, r8
 9111 007a 43F8087B 		str	r7, [r3], #8
4040:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 9112              		.loc 1 4040 21 is_stmt 1 view .LVU3081
 9113              	.LVL1055:
4040:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 9114              		.loc 1 4040 28 is_stmt 0 view .LVU3082
 9115 007e C8F804A0 		str	r10, [r8, #4]
4040:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 9116              		.loc 1 4040 25 view .LVU3083
 9117 0082 9846     		mov	r8, r3
 9118              	.LVL1056:
 9119              	.L693:
4042:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9120              		.loc 1 4042 13 is_stmt 1 view .LVU3084
4042:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9121              		.loc 1 4042 21 is_stmt 0 view .LVU3085
 9122 0084 019B     		ldr	r3, [sp, #4]
 9123 0086 DB69     		ldr	r3, [r3, #28]
4042:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9124              		.loc 1 4042 5 view .LVU3086
 9125 0088 8B42     		cmp	r3, r1
 9126 008a 09D9     		bls	.L689
4035:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fs, FR_INT_ERR);
 9127              		.loc 1 4035 12 view .LVU3087
 9128 008c 8A46     		mov	r10, r1
 9129              	.LVL1057:
4035:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fs, FR_INT_ERR);
 9130              		.loc 1 4035 12 view .LVU3088
 9131 008e DFE7     		b	.L694
 9132              	.LVL1058:
 9133              	.L729:
4036:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 9134              		.loc 1 4036 20 is_stmt 1 discriminator 1 view .LVU3089
 9135 0090 0225     		movs	r5, #2
 9136              	.LVL1059:
4036:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 9137              		.loc 1 4036 20 is_stmt 0 discriminator 1 view .LVU3090
 9138 0092 6575     		strb	r5, [r4, #21]
4036:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 9139              		.loc 1 4036 20 is_stmt 1 discriminator 1 view .LVU3091
 9140 0094 CEE7     		b	.L686
 9141              	.LVL1060:
 9142              	.L730:
4037:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 9143              		.loc 1 4037 29 discriminator 1 view .LVU3092
 9144 0096 0125     		movs	r5, #1
ARM GAS  /tmp/ccBfkcjf.s 			page 312


 9145              	.LVL1061:
4037:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 9146              		.loc 1 4037 29 is_stmt 0 discriminator 1 view .LVU3093
 9147 0098 6575     		strb	r5, [r4, #21]
4037:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 9148              		.loc 1 4037 29 is_stmt 1 discriminator 1 view .LVU3094
 9149 009a CBE7     		b	.L686
 9150              	.LVL1062:
 9151              	.L720:
4027:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->obj.sclust;		/* Origin of the chain */
 9152              		.loc 1 4027 24 is_stmt 0 view .LVU3095
 9153 009c 4FF00209 		mov	r9, #2
 9154              	.LVL1063:
 9155              	.L689:
4044:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ulen <= tlen) {
 9156              		.loc 1 4044 4 is_stmt 1 view .LVU3096
4044:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ulen <= tlen) {
 9157              		.loc 1 4044 7 is_stmt 0 view .LVU3097
 9158 00a0 E36A     		ldr	r3, [r4, #44]
4044:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ulen <= tlen) {
 9159              		.loc 1 4044 15 view .LVU3098
 9160 00a2 C3F80090 		str	r9, [r3]
4045:Middlewares/Third_Party/FatFs/src/ff.c **** 				*tbl = 0;		/* Terminate table */
 9161              		.loc 1 4045 4 is_stmt 1 view .LVU3099
4045:Middlewares/Third_Party/FatFs/src/ff.c **** 				*tbl = 0;		/* Terminate table */
 9162              		.loc 1 4045 7 is_stmt 0 view .LVU3100
 9163 00a6 D945     		cmp	r9, fp
 9164 00a8 00F2FB80 		bhi	.L722
4046:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 9165              		.loc 1 4046 5 is_stmt 1 view .LVU3101
4046:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 9166              		.loc 1 4046 10 is_stmt 0 view .LVU3102
 9167 00ac 0023     		movs	r3, #0
 9168 00ae C8F80030 		str	r3, [r8]
 9169 00b2 BFE7     		b	.L686
 9170              	.LVL1064:
 9171              	.L728:
4054:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fs, fp->clust);
 9172              		.loc 1 4054 5 is_stmt 1 view .LVU3103
4054:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fs, fp->clust);
 9173              		.loc 1 4054 17 is_stmt 0 view .LVU3104
 9174 00b4 7E1E     		subs	r6, r7, #1
 9175 00b6 3146     		mov	r1, r6
 9176 00b8 2046     		mov	r0, r4
 9177 00ba FFF7FEFF 		bl	clmt_clust
 9178              	.LVL1065:
 9179 00be 0146     		mov	r1, r0
4054:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fs, fp->clust);
 9180              		.loc 1 4054 15 view .LVU3105
 9181 00c0 E061     		str	r0, [r4, #28]
4055:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!dsc) ABORT(fs, FR_INT_ERR);
 9182              		.loc 1 4055 5 is_stmt 1 view .LVU3106
4055:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!dsc) ABORT(fs, FR_INT_ERR);
 9183              		.loc 1 4055 11 is_stmt 0 view .LVU3107
 9184 00c2 DDF80480 		ldr	r8, [sp, #4]
 9185 00c6 4046     		mov	r0, r8
 9186 00c8 FFF7FEFF 		bl	clust2sect
ARM GAS  /tmp/ccBfkcjf.s 			page 313


 9187              	.LVL1066:
4056:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (DWORD)((ofs - 1) / SS(fs)) & (fs->csize - 1);
 9188              		.loc 1 4056 5 is_stmt 1 view .LVU3108
4056:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (DWORD)((ofs - 1) / SS(fs)) & (fs->csize - 1);
 9189              		.loc 1 4056 8 is_stmt 0 view .LVU3109
 9190 00cc 00B3     		cbz	r0, .L731
4056:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (DWORD)((ofs - 1) / SS(fs)) & (fs->csize - 1);
 9191              		.loc 1 4056 36 is_stmt 1 discriminator 2 view .LVU3110
4057:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fs) && dsc != fp->sect) {	/* Refill sector cache if needed */
 9192              		.loc 1 4057 5 discriminator 2 view .LVU3111
4057:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fs) && dsc != fp->sect) {	/* Refill sector cache if needed */
 9193              		.loc 1 4057 32 is_stmt 0 discriminator 2 view .LVU3112
 9194 00ce B8F80C30 		ldrh	r3, [r8, #12]
4057:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fs) && dsc != fp->sect) {	/* Refill sector cache if needed */
 9195              		.loc 1 4057 12 discriminator 2 view .LVU3113
 9196 00d2 B6FBF3F6 		udiv	r6, r6, r3
4057:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fs) && dsc != fp->sect) {	/* Refill sector cache if needed */
 9197              		.loc 1 4057 45 discriminator 2 view .LVU3114
 9198 00d6 B8F80A20 		ldrh	r2, [r8, #10]
4057:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fs) && dsc != fp->sect) {	/* Refill sector cache if needed */
 9199              		.loc 1 4057 53 discriminator 2 view .LVU3115
 9200 00da 013A     		subs	r2, r2, #1
4057:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fs) && dsc != fp->sect) {	/* Refill sector cache if needed */
 9201              		.loc 1 4057 40 discriminator 2 view .LVU3116
 9202 00dc 1640     		ands	r6, r6, r2
4057:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fs) && dsc != fp->sect) {	/* Refill sector cache if needed */
 9203              		.loc 1 4057 9 discriminator 2 view .LVU3117
 9204 00de 0644     		add	r6, r6, r0
 9205              	.LVL1067:
4058:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 9206              		.loc 1 4058 5 is_stmt 1 discriminator 2 view .LVU3118
4058:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 9207              		.loc 1 4058 18 is_stmt 0 discriminator 2 view .LVU3119
 9208 00e0 B7FBF3F2 		udiv	r2, r7, r3
 9209 00e4 03FB1277 		mls	r7, r3, r2, r7
 9210              	.LVL1068:
4058:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 9211              		.loc 1 4058 8 discriminator 2 view .LVU3120
 9212 00e8 002F     		cmp	r7, #0
 9213 00ea A3D0     		beq	.L686
4058:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 9214              		.loc 1 4058 39 discriminator 1 view .LVU3121
 9215 00ec 226A     		ldr	r2, [r4, #32]
4058:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 9216              		.loc 1 4058 27 discriminator 1 view .LVU3122
 9217 00ee B242     		cmp	r2, r6
 9218 00f0 A0D0     		beq	.L686
4061:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 9219              		.loc 1 4061 6 is_stmt 1 view .LVU3123
4061:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 9220              		.loc 1 4061 10 is_stmt 0 view .LVU3124
 9221 00f2 94F91430 		ldrsb	r3, [r4, #20]
4061:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 9222              		.loc 1 4061 9 view .LVU3125
 9223 00f6 002B     		cmp	r3, #0
 9224 00f8 0DDB     		blt	.L732
 9225              	.L697:
ARM GAS  /tmp/ccBfkcjf.s 			page 314


4066:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9226              		.loc 1 4066 6 is_stmt 1 view .LVU3126
4066:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9227              		.loc 1 4066 10 is_stmt 0 view .LVU3127
 9228 00fa 0123     		movs	r3, #1
 9229 00fc 3246     		mov	r2, r6
 9230 00fe 04F13001 		add	r1, r4, #48
 9231 0102 0198     		ldr	r0, [sp, #4]
 9232 0104 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 9233 0106 FFF7FEFF 		bl	disk_read
 9234              	.LVL1069:
4066:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9235              		.loc 1 4066 9 view .LVU3128
 9236 010a A0B9     		cbnz	r0, .L733
4066:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9237              		.loc 1 4066 79 is_stmt 1 discriminator 2 view .LVU3129
4068:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9238              		.loc 1 4068 6 discriminator 2 view .LVU3130
4068:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9239              		.loc 1 4068 15 is_stmt 0 discriminator 2 view .LVU3131
 9240 010c 2662     		str	r6, [r4, #32]
 9241 010e 91E7     		b	.L686
 9242              	.LVL1070:
 9243              	.L731:
4056:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (DWORD)((ofs - 1) / SS(fs)) & (fs->csize - 1);
 9244              		.loc 1 4056 15 is_stmt 1 discriminator 1 view .LVU3132
 9245 0110 0225     		movs	r5, #2
 9246              	.LVL1071:
4056:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (DWORD)((ofs - 1) / SS(fs)) & (fs->csize - 1);
 9247              		.loc 1 4056 15 is_stmt 0 discriminator 1 view .LVU3133
 9248 0112 6575     		strb	r5, [r4, #21]
4056:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (DWORD)((ofs - 1) / SS(fs)) & (fs->csize - 1);
 9249              		.loc 1 4056 15 is_stmt 1 discriminator 1 view .LVU3134
 9250 0114 8EE7     		b	.L686
 9251              	.LVL1072:
 9252              	.L732:
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
 9253              		.loc 1 4062 7 view .LVU3135
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
 9254              		.loc 1 4062 11 is_stmt 0 view .LVU3136
 9255 0116 0123     		movs	r3, #1
 9256 0118 04F13001 		add	r1, r4, #48
 9257 011c 98F80100 		ldrb	r0, [r8, #1]	@ zero_extendqisi2
 9258 0120 FFF7FEFF 		bl	disk_write
 9259              	.LVL1073:
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
 9260              		.loc 1 4062 10 view .LVU3137
 9261 0124 20B9     		cbnz	r0, .L734
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
 9262              		.loc 1 4062 86 is_stmt 1 discriminator 2 view .LVU3138
4063:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 9263              		.loc 1 4063 7 discriminator 2 view .LVU3139
4063:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 9264              		.loc 1 4063 16 is_stmt 0 discriminator 2 view .LVU3140
 9265 0126 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 9266 0128 03F07F03 		and	r3, r3, #127
 9267 012c 2375     		strb	r3, [r4, #20]
ARM GAS  /tmp/ccBfkcjf.s 			page 315


 9268 012e E4E7     		b	.L697
 9269              	.L734:
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
 9270              		.loc 1 4062 64 is_stmt 1 discriminator 1 view .LVU3141
 9271 0130 0125     		movs	r5, #1
 9272              	.LVL1074:
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
 9273              		.loc 1 4062 64 is_stmt 0 discriminator 1 view .LVU3142
 9274 0132 6575     		strb	r5, [r4, #21]
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
 9275              		.loc 1 4062 64 is_stmt 1 discriminator 1 view .LVU3143
 9276 0134 7EE7     		b	.L686
 9277              	.LVL1075:
 9278              	.L733:
4066:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9279              		.loc 1 4066 57 discriminator 1 view .LVU3144
 9280 0136 0125     		movs	r5, #1
 9281              	.LVL1076:
4066:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9282              		.loc 1 4066 57 is_stmt 0 discriminator 1 view .LVU3145
 9283 0138 6575     		strb	r5, [r4, #21]
4066:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9284              		.loc 1 4066 57 is_stmt 1 discriminator 1 view .LVU3146
 9285 013a 7BE7     		b	.L686
 9286              	.LVL1077:
 9287              	.L687:
4080:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs = fp->obj.objsize;
 9288              		.loc 1 4080 3 view .LVU3147
4080:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs = fp->obj.objsize;
 9289              		.loc 1 4080 20 is_stmt 0 view .LVU3148
 9290 013c E368     		ldr	r3, [r4, #12]
4080:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs = fp->obj.objsize;
 9291              		.loc 1 4080 6 view .LVU3149
 9292 013e B342     		cmp	r3, r6
 9293 0140 04D2     		bcs	.L700
4080:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs = fp->obj.objsize;
 9294              		.loc 1 4080 53 discriminator 1 view .LVU3150
 9295 0142 227D     		ldrb	r2, [r4, #20]	@ zero_extendqisi2
4080:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs = fp->obj.objsize;
 9296              		.loc 1 4080 29 discriminator 1 view .LVU3151
 9297 0144 12F0020F 		tst	r2, #2
 9298 0148 00D1     		bne	.L700
4081:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9299              		.loc 1 4081 8 view .LVU3152
 9300 014a 1E46     		mov	r6, r3
 9301              	.LVL1078:
 9302              	.L700:
4083:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fptr = nsect = 0;
 9303              		.loc 1 4083 3 is_stmt 1 view .LVU3153
4083:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fptr = nsect = 0;
 9304              		.loc 1 4083 9 is_stmt 0 view .LVU3154
 9305 014c A369     		ldr	r3, [r4, #24]
 9306              	.LVL1079:
4084:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
 9307              		.loc 1 4084 3 is_stmt 1 view .LVU3155
4084:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
 9308              		.loc 1 4084 12 is_stmt 0 view .LVU3156
ARM GAS  /tmp/ccBfkcjf.s 			page 316


 9309 014e 0022     		movs	r2, #0
 9310 0150 A261     		str	r2, [r4, #24]
4085:Middlewares/Third_Party/FatFs/src/ff.c **** 			bcs = (DWORD)fs->csize * SS(fs);	/* Cluster size (byte) */
 9311              		.loc 1 4085 3 is_stmt 1 view .LVU3157
4085:Middlewares/Third_Party/FatFs/src/ff.c **** 			bcs = (DWORD)fs->csize * SS(fs);	/* Cluster size (byte) */
 9312              		.loc 1 4085 6 is_stmt 0 view .LVU3158
 9313 0152 E6B1     		cbz	r6, .L701
4086:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
 9314              		.loc 1 4086 4 is_stmt 1 view .LVU3159
4086:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
 9315              		.loc 1 4086 19 is_stmt 0 view .LVU3160
 9316 0154 019A     		ldr	r2, [sp, #4]
 9317 0156 B2F80A80 		ldrh	r8, [r2, #10]
4086:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
 9318              		.loc 1 4086 29 view .LVU3161
 9319 015a 9289     		ldrh	r2, [r2, #12]
4086:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
 9320              		.loc 1 4086 8 view .LVU3162
 9321 015c 02FB08F8 		mul	r8, r2, r8
 9322              	.LVL1080:
4087:Middlewares/Third_Party/FatFs/src/ff.c **** 				(ofs - 1) / bcs >= (ifptr - 1) / bcs) {	/* When seek to same or following cluster, */
 9323              		.loc 1 4087 4 is_stmt 1 view .LVU3163
4087:Middlewares/Third_Party/FatFs/src/ff.c **** 				(ofs - 1) / bcs >= (ifptr - 1) / bcs) {	/* When seek to same or following cluster, */
 9324              		.loc 1 4087 7 is_stmt 0 view .LVU3164
 9325 0160 73B1     		cbz	r3, .L702
4088:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(FSIZE_t)(bcs - 1);	/* start from the current cluster */
 9326              		.loc 1 4088 10 discriminator 1 view .LVU3165
 9327 0162 721E     		subs	r2, r6, #1
4088:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(FSIZE_t)(bcs - 1);	/* start from the current cluster */
 9328              		.loc 1 4088 15 discriminator 1 view .LVU3166
 9329 0164 B2FBF8F2 		udiv	r2, r2, r8
4088:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(FSIZE_t)(bcs - 1);	/* start from the current cluster */
 9330              		.loc 1 4088 31 discriminator 1 view .LVU3167
 9331 0168 013B     		subs	r3, r3, #1
 9332              	.LVL1081:
4088:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(FSIZE_t)(bcs - 1);	/* start from the current cluster */
 9333              		.loc 1 4088 36 discriminator 1 view .LVU3168
 9334 016a B3FBF8F1 		udiv	r1, r3, r8
4087:Middlewares/Third_Party/FatFs/src/ff.c **** 				(ofs - 1) / bcs >= (ifptr - 1) / bcs) {	/* When seek to same or following cluster, */
 9335              		.loc 1 4087 18 discriminator 1 view .LVU3169
 9336 016e 8A42     		cmp	r2, r1
 9337 0170 06D3     		bcc	.L702
4089:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
 9338              		.loc 1 4089 5 is_stmt 1 view .LVU3170
4089:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
 9339              		.loc 1 4089 30 is_stmt 0 view .LVU3171
 9340 0172 C8F10007 		rsb	r7, r8, #0
4089:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
 9341              		.loc 1 4089 28 view .LVU3172
 9342 0176 1F40     		ands	r7, r7, r3
4089:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
 9343              		.loc 1 4089 14 view .LVU3173
 9344 0178 A761     		str	r7, [r4, #24]
4090:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->clust;
 9345              		.loc 1 4090 5 is_stmt 1 view .LVU3174
4090:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->clust;
 9346              		.loc 1 4090 9 is_stmt 0 view .LVU3175
ARM GAS  /tmp/ccBfkcjf.s 			page 317


 9347 017a F71B     		subs	r7, r6, r7
 9348              	.LVL1082:
4091:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* When seek to back cluster, */
 9349              		.loc 1 4091 5 is_stmt 1 view .LVU3176
4091:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* When seek to back cluster, */
 9350              		.loc 1 4091 10 is_stmt 0 view .LVU3177
 9351 017c E669     		ldr	r6, [r4, #28]
 9352              	.LVL1083:
4091:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* When seek to back cluster, */
 9353              		.loc 1 4091 10 view .LVU3178
 9354 017e 04E0     		b	.L703
 9355              	.LVL1084:
 9356              	.L702:
4093:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 9357              		.loc 1 4093 5 is_stmt 1 view .LVU3179
4093:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 9358              		.loc 1 4093 10 is_stmt 0 view .LVU3180
 9359 0180 A068     		ldr	r0, [r4, #8]
 9360              	.LVL1085:
4095:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(&fp->obj, 0);
 9361              		.loc 1 4095 5 is_stmt 1 view .LVU3181
4095:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(&fp->obj, 0);
 9362              		.loc 1 4095 8 is_stmt 0 view .LVU3182
 9363 0182 50B3     		cbz	r0, .L735
 9364              	.L704:
4102:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9365              		.loc 1 4102 5 is_stmt 1 view .LVU3183
4102:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9366              		.loc 1 4102 15 is_stmt 0 view .LVU3184
 9367 0184 E061     		str	r0, [r4, #28]
 9368 0186 3746     		mov	r7, r6
 9369 0188 0646     		mov	r6, r0
 9370              	.LVL1086:
 9371              	.L703:
4104:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (ofs > bcs) {						/* Cluster following loop */
 9372              		.loc 1 4104 4 is_stmt 1 view .LVU3185
4104:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (ofs > bcs) {						/* Cluster following loop */
 9373              		.loc 1 4104 7 is_stmt 0 view .LVU3186
 9374 018a 002E     		cmp	r6, #0
 9375 018c 45D1     		bne	.L707
 9376              	.LVL1087:
 9377              	.L701:
4134:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.objsize = fp->fptr;
 9378              		.loc 1 4134 3 is_stmt 1 view .LVU3187
4134:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.objsize = fp->fptr;
 9379              		.loc 1 4134 26 is_stmt 0 view .LVU3188
 9380 018e A369     		ldr	r3, [r4, #24]
4134:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.objsize = fp->fptr;
 9381              		.loc 1 4134 42 view .LVU3189
 9382 0190 E268     		ldr	r2, [r4, #12]
4134:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.objsize = fp->fptr;
 9383              		.loc 1 4134 6 view .LVU3190
 9384 0192 9342     		cmp	r3, r2
 9385 0194 04D9     		bls	.L716
4135:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA_MODIFIED;
 9386              		.loc 1 4135 4 is_stmt 1 view .LVU3191
4135:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA_MODIFIED;
ARM GAS  /tmp/ccBfkcjf.s 			page 318


 9387              		.loc 1 4135 20 is_stmt 0 view .LVU3192
 9388 0196 E360     		str	r3, [r4, #12]
4136:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9389              		.loc 1 4136 4 is_stmt 1 view .LVU3193
4136:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9390              		.loc 1 4136 13 is_stmt 0 view .LVU3194
 9391 0198 227D     		ldrb	r2, [r4, #20]	@ zero_extendqisi2
 9392 019a 42F04002 		orr	r2, r2, #64
 9393 019e 2275     		strb	r2, [r4, #20]
 9394              	.L716:
4138:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 9395              		.loc 1 4138 3 is_stmt 1 view .LVU3195
4138:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 9396              		.loc 1 4138 18 is_stmt 0 view .LVU3196
 9397 01a0 0198     		ldr	r0, [sp, #4]
 9398 01a2 8289     		ldrh	r2, [r0, #12]
4138:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 9399              		.loc 1 4138 16 view .LVU3197
 9400 01a4 B3FBF2F1 		udiv	r1, r3, r2
 9401 01a8 02FB1133 		mls	r3, r2, r1, r3
4138:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 9402              		.loc 1 4138 6 view .LVU3198
 9403 01ac 002B     		cmp	r3, #0
 9404 01ae 3FF441AF 		beq	.L686
4138:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 9405              		.loc 1 4138 39 discriminator 1 view .LVU3199
 9406 01b2 226A     		ldr	r2, [r4, #32]
4138:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 9407              		.loc 1 4138 25 discriminator 1 view .LVU3200
 9408 01b4 B242     		cmp	r2, r6
 9409 01b6 3FF43DAF 		beq	.L686
4141:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 9410              		.loc 1 4141 4 is_stmt 1 view .LVU3201
4141:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 9411              		.loc 1 4141 8 is_stmt 0 view .LVU3202
 9412 01ba 94F91430 		ldrsb	r3, [r4, #20]
4141:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 9413              		.loc 1 4141 7 view .LVU3203
 9414 01be 002B     		cmp	r3, #0
 9415 01c0 5DDB     		blt	.L736
 9416              	.L717:
4146:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9417              		.loc 1 4146 4 is_stmt 1 view .LVU3204
4146:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9418              		.loc 1 4146 8 is_stmt 0 view .LVU3205
 9419 01c2 0123     		movs	r3, #1
 9420 01c4 3246     		mov	r2, r6
 9421 01c6 04F13001 		add	r1, r4, #48
 9422 01ca 0198     		ldr	r0, [sp, #4]
 9423 01cc 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 9424 01ce FFF7FEFF 		bl	disk_read
 9425              	.LVL1088:
4146:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9426              		.loc 1 4146 7 view .LVU3206
 9427 01d2 0028     		cmp	r0, #0
 9428 01d4 62D1     		bne	.L737
4146:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  /tmp/ccBfkcjf.s 			page 319


 9429              		.loc 1 4146 79 is_stmt 1 discriminator 2 view .LVU3207
4148:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9430              		.loc 1 4148 4 discriminator 2 view .LVU3208
4148:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9431              		.loc 1 4148 13 is_stmt 0 discriminator 2 view .LVU3209
 9432 01d6 2662     		str	r6, [r4, #32]
 9433 01d8 2CE7     		b	.L686
 9434              	.LVL1089:
 9435              	.L735:
4096:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) ABORT(fs, FR_INT_ERR);
 9436              		.loc 1 4096 6 is_stmt 1 view .LVU3210
4096:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) ABORT(fs, FR_INT_ERR);
 9437              		.loc 1 4096 13 is_stmt 0 view .LVU3211
 9438 01da 0021     		movs	r1, #0
 9439 01dc 2046     		mov	r0, r4
 9440              	.LVL1090:
4096:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) ABORT(fs, FR_INT_ERR);
 9441              		.loc 1 4096 13 view .LVU3212
 9442 01de FFF7FEFF 		bl	create_chain
 9443              	.LVL1091:
4097:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 9444              		.loc 1 4097 6 is_stmt 1 view .LVU3213
4097:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 9445              		.loc 1 4097 9 is_stmt 0 view .LVU3214
 9446 01e2 0128     		cmp	r0, #1
 9447 01e4 04D0     		beq	.L738
4097:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 9448              		.loc 1 4097 42 is_stmt 1 discriminator 2 view .LVU3215
4098:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = clst;
 9449              		.loc 1 4098 6 discriminator 2 view .LVU3216
4098:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = clst;
 9450              		.loc 1 4098 9 is_stmt 0 discriminator 2 view .LVU3217
 9451 01e6 B0F1FF3F 		cmp	r0, #-1
 9452 01ea 04D0     		beq	.L739
4098:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = clst;
 9453              		.loc 1 4098 52 is_stmt 1 discriminator 2 view .LVU3218
4099:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9454              		.loc 1 4099 6 discriminator 2 view .LVU3219
4099:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9455              		.loc 1 4099 21 is_stmt 0 discriminator 2 view .LVU3220
 9456 01ec A060     		str	r0, [r4, #8]
 9457 01ee C9E7     		b	.L704
 9458              	.L738:
4097:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 9459              		.loc 1 4097 21 is_stmt 1 discriminator 1 view .LVU3221
 9460 01f0 0225     		movs	r5, #2
 9461              	.LVL1092:
4097:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 9462              		.loc 1 4097 21 is_stmt 0 discriminator 1 view .LVU3222
 9463 01f2 6575     		strb	r5, [r4, #21]
4097:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 9464              		.loc 1 4097 21 is_stmt 1 discriminator 1 view .LVU3223
 9465 01f4 1EE7     		b	.L686
 9466              	.LVL1093:
 9467              	.L739:
4098:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = clst;
 9468              		.loc 1 4098 30 discriminator 1 view .LVU3224
ARM GAS  /tmp/ccBfkcjf.s 			page 320


 9469 01f6 0125     		movs	r5, #1
 9470              	.LVL1094:
4098:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = clst;
 9471              		.loc 1 4098 30 is_stmt 0 discriminator 1 view .LVU3225
 9472 01f8 6575     		strb	r5, [r4, #21]
4098:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = clst;
 9473              		.loc 1 4098 30 is_stmt 1 discriminator 1 view .LVU3226
 9474 01fa 1BE7     		b	.L686
 9475              	.LVL1095:
 9476              	.L708:
4120:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 9477              		.loc 1 4120 7 view .LVU3227
4120:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 9478              		.loc 1 4120 14 is_stmt 0 view .LVU3228
 9479 01fc 3146     		mov	r1, r6
 9480 01fe 2046     		mov	r0, r4
 9481 0200 FFF7FEFF 		bl	get_fat
 9482              	.LVL1096:
 9483 0204 0646     		mov	r6, r0
 9484              	.LVL1097:
 9485              	.L710:
4122:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fs->n_fatent) ABORT(fs, FR_INT_ERR);
 9486              		.loc 1 4122 6 is_stmt 1 view .LVU3229
4122:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fs->n_fatent) ABORT(fs, FR_INT_ERR);
 9487              		.loc 1 4122 9 is_stmt 0 view .LVU3230
 9488 0206 B6F1FF3F 		cmp	r6, #-1
 9489 020a 2DD0     		beq	.L740
4122:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fs->n_fatent) ABORT(fs, FR_INT_ERR);
 9490              		.loc 1 4122 52 is_stmt 1 discriminator 2 view .LVU3231
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 9491              		.loc 1 4123 6 discriminator 2 view .LVU3232
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 9492              		.loc 1 4123 9 is_stmt 0 discriminator 2 view .LVU3233
 9493 020c 012E     		cmp	r6, #1
 9494 020e 2ED9     		bls	.L712
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 9495              		.loc 1 4123 33 discriminator 2 view .LVU3234
 9496 0210 019B     		ldr	r3, [sp, #4]
 9497 0212 DB69     		ldr	r3, [r3, #28]
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 9498              		.loc 1 4123 20 discriminator 2 view .LVU3235
 9499 0214 B342     		cmp	r3, r6
 9500 0216 2AD9     		bls	.L712
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 9501              		.loc 1 4123 66 is_stmt 1 discriminator 4 view .LVU3236
4124:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9502              		.loc 1 4124 6 discriminator 4 view .LVU3237
4124:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9503              		.loc 1 4124 16 is_stmt 0 discriminator 4 view .LVU3238
 9504 0218 E661     		str	r6, [r4, #28]
 9505              	.LVL1098:
 9506              	.L707:
4105:Middlewares/Third_Party/FatFs/src/ff.c **** 					ofs -= bcs; fp->fptr += bcs;
 9507              		.loc 1 4105 11 is_stmt 1 view .LVU3239
 9508 021a 4745     		cmp	r7, r8
 9509 021c 10D9     		bls	.L709
4106:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
ARM GAS  /tmp/ccBfkcjf.s 			page 321


 9510              		.loc 1 4106 6 view .LVU3240
4106:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 9511              		.loc 1 4106 10 is_stmt 0 view .LVU3241
 9512 021e A7EB0807 		sub	r7, r7, r8
 9513              	.LVL1099:
4106:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 9514              		.loc 1 4106 18 is_stmt 1 view .LVU3242
4106:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 9515              		.loc 1 4106 27 is_stmt 0 view .LVU3243
 9516 0222 A369     		ldr	r3, [r4, #24]
 9517 0224 4344     		add	r3, r3, r8
 9518 0226 A361     		str	r3, [r4, #24]
4108:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (_FS_EXFAT && fp->fptr > fp->obj.objsize) {	/* No FAT chain object needs correct objsize t
 9519              		.loc 1 4108 6 is_stmt 1 view .LVU3244
4108:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (_FS_EXFAT && fp->fptr > fp->obj.objsize) {	/* No FAT chain object needs correct objsize t
 9520              		.loc 1 4108 12 is_stmt 0 view .LVU3245
 9521 0228 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
4108:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (_FS_EXFAT && fp->fptr > fp->obj.objsize) {	/* No FAT chain object needs correct objsize t
 9522              		.loc 1 4108 9 view .LVU3246
 9523 022a 13F0020F 		tst	r3, #2
 9524 022e E5D0     		beq	.L708
4109:Middlewares/Third_Party/FatFs/src/ff.c **** 							fp->obj.objsize = fp->fptr;
 9525              		.loc 1 4109 7 is_stmt 1 view .LVU3247
4113:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (clst == 0) {				/* Clip file size in case of disk full */
 9526              		.loc 1 4113 7 view .LVU3248
4113:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (clst == 0) {				/* Clip file size in case of disk full */
 9527              		.loc 1 4113 14 is_stmt 0 view .LVU3249
 9528 0230 3146     		mov	r1, r6
 9529 0232 2046     		mov	r0, r4
 9530 0234 FFF7FEFF 		bl	create_chain
 9531              	.LVL1100:
4114:Middlewares/Third_Party/FatFs/src/ff.c **** 							ofs = 0; break;
 9532              		.loc 1 4114 7 is_stmt 1 view .LVU3250
4114:Middlewares/Third_Party/FatFs/src/ff.c **** 							ofs = 0; break;
 9533              		.loc 1 4114 10 is_stmt 0 view .LVU3251
 9534 0238 0646     		mov	r6, r0
 9535 023a 0028     		cmp	r0, #0
 9536 023c E3D1     		bne	.L710
4115:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 9537              		.loc 1 4115 12 view .LVU3252
 9538 023e 0746     		mov	r7, r0
 9539              	.LVL1101:
 9540              	.L709:
4126:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ofs % SS(fs)) {
 9541              		.loc 1 4126 5 is_stmt 1 view .LVU3253
4126:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ofs % SS(fs)) {
 9542              		.loc 1 4126 14 is_stmt 0 view .LVU3254
 9543 0240 A369     		ldr	r3, [r4, #24]
 9544 0242 3B44     		add	r3, r3, r7
 9545 0244 A361     		str	r3, [r4, #24]
4127:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect = clust2sect(fs, clst);	/* Current sector */
 9546              		.loc 1 4127 5 is_stmt 1 view .LVU3255
4127:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect = clust2sect(fs, clst);	/* Current sector */
 9547              		.loc 1 4127 15 is_stmt 0 view .LVU3256
 9548 0246 0198     		ldr	r0, [sp, #4]
 9549 0248 B0F80C80 		ldrh	r8, [r0, #12]
 9550              	.LVL1102:
ARM GAS  /tmp/ccBfkcjf.s 			page 322


4127:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect = clust2sect(fs, clst);	/* Current sector */
 9551              		.loc 1 4127 13 view .LVU3257
 9552 024c B7FBF8F3 		udiv	r3, r7, r8
 9553 0250 08FB1373 		mls	r3, r8, r3, r7
4127:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect = clust2sect(fs, clst);	/* Current sector */
 9554              		.loc 1 4127 8 view .LVU3258
 9555 0254 8BB1     		cbz	r3, .L725
4128:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!nsect) ABORT(fs, FR_INT_ERR);
 9556              		.loc 1 4128 6 is_stmt 1 view .LVU3259
4128:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!nsect) ABORT(fs, FR_INT_ERR);
 9557              		.loc 1 4128 14 is_stmt 0 view .LVU3260
 9558 0256 3146     		mov	r1, r6
 9559 0258 FFF7FEFF 		bl	clust2sect
 9560              	.LVL1103:
4129:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += (DWORD)(ofs / SS(fs));
 9561              		.loc 1 4129 6 is_stmt 1 view .LVU3261
4129:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += (DWORD)(ofs / SS(fs));
 9562              		.loc 1 4129 9 is_stmt 0 view .LVU3262
 9563 025c 0646     		mov	r6, r0
 9564              	.LVL1104:
4129:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += (DWORD)(ofs / SS(fs));
 9565              		.loc 1 4129 9 view .LVU3263
 9566 025e 48B1     		cbz	r0, .L741
4129:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += (DWORD)(ofs / SS(fs));
 9567              		.loc 1 4129 39 is_stmt 1 discriminator 2 view .LVU3264
4130:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9568              		.loc 1 4130 6 discriminator 2 view .LVU3265
4130:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9569              		.loc 1 4130 15 is_stmt 0 discriminator 2 view .LVU3266
 9570 0260 B7FBF8F7 		udiv	r7, r7, r8
 9571              	.LVL1105:
4130:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9572              		.loc 1 4130 12 discriminator 2 view .LVU3267
 9573 0264 3E44     		add	r6, r6, r7
 9574              	.LVL1106:
4130:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9575              		.loc 1 4130 12 discriminator 2 view .LVU3268
 9576 0266 92E7     		b	.L701
 9577              	.LVL1107:
 9578              	.L740:
4122:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fs->n_fatent) ABORT(fs, FR_INT_ERR);
 9579              		.loc 1 4122 30 is_stmt 1 discriminator 1 view .LVU3269
 9580 0268 0125     		movs	r5, #1
 9581              	.LVL1108:
4122:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fs->n_fatent) ABORT(fs, FR_INT_ERR);
 9582              		.loc 1 4122 30 is_stmt 0 discriminator 1 view .LVU3270
 9583 026a 6575     		strb	r5, [r4, #21]
4122:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fs->n_fatent) ABORT(fs, FR_INT_ERR);
 9584              		.loc 1 4122 30 is_stmt 1 discriminator 1 view .LVU3271
 9585 026c E2E6     		b	.L686
 9586              	.LVL1109:
 9587              	.L712:
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 9588              		.loc 1 4123 45 discriminator 3 view .LVU3272
 9589 026e 0225     		movs	r5, #2
 9590              	.LVL1110:
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
ARM GAS  /tmp/ccBfkcjf.s 			page 323


 9591              		.loc 1 4123 45 is_stmt 0 discriminator 3 view .LVU3273
 9592 0270 6575     		strb	r5, [r4, #21]
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 9593              		.loc 1 4123 45 is_stmt 1 discriminator 3 view .LVU3274
 9594 0272 DFE6     		b	.L686
 9595              	.LVL1111:
 9596              	.L741:
4129:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += (DWORD)(ofs / SS(fs));
 9597              		.loc 1 4129 18 discriminator 1 view .LVU3275
 9598 0274 0225     		movs	r5, #2
 9599              	.LVL1112:
4129:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += (DWORD)(ofs / SS(fs));
 9600              		.loc 1 4129 18 is_stmt 0 discriminator 1 view .LVU3276
 9601 0276 6575     		strb	r5, [r4, #21]
4129:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += (DWORD)(ofs / SS(fs));
 9602              		.loc 1 4129 18 is_stmt 1 discriminator 1 view .LVU3277
 9603 0278 DCE6     		b	.L686
 9604              	.LVL1113:
 9605              	.L725:
4084:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
 9606              		.loc 1 4084 20 is_stmt 0 view .LVU3278
 9607 027a 1E46     		mov	r6, r3
 9608              	.LVL1114:
4084:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
 9609              		.loc 1 4084 20 view .LVU3279
 9610 027c 87E7     		b	.L701
 9611              	.LVL1115:
 9612              	.L736:
4142:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 9613              		.loc 1 4142 5 is_stmt 1 view .LVU3280
4142:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 9614              		.loc 1 4142 9 is_stmt 0 view .LVU3281
 9615 027e 0123     		movs	r3, #1
 9616 0280 04F13001 		add	r1, r4, #48
 9617 0284 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 9618 0286 FFF7FEFF 		bl	disk_write
 9619              	.LVL1116:
4142:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 9620              		.loc 1 4142 8 view .LVU3282
 9621 028a 20B9     		cbnz	r0, .L742
4142:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 9622              		.loc 1 4142 84 is_stmt 1 discriminator 2 view .LVU3283
4143:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9623              		.loc 1 4143 5 discriminator 2 view .LVU3284
4143:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9624              		.loc 1 4143 14 is_stmt 0 discriminator 2 view .LVU3285
 9625 028c 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 9626 028e 03F07F03 		and	r3, r3, #127
 9627 0292 2375     		strb	r3, [r4, #20]
 9628 0294 95E7     		b	.L717
 9629              	.L742:
4142:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 9630              		.loc 1 4142 62 is_stmt 1 discriminator 1 view .LVU3286
 9631 0296 0125     		movs	r5, #1
 9632              	.LVL1117:
4142:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 9633              		.loc 1 4142 62 is_stmt 0 discriminator 1 view .LVU3287
ARM GAS  /tmp/ccBfkcjf.s 			page 324


 9634 0298 6575     		strb	r5, [r4, #21]
4142:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 9635              		.loc 1 4142 62 is_stmt 1 discriminator 1 view .LVU3288
 9636 029a CBE6     		b	.L686
 9637              	.LVL1118:
 9638              	.L737:
4146:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9639              		.loc 1 4146 57 discriminator 1 view .LVU3289
 9640 029c 0125     		movs	r5, #1
 9641              	.LVL1119:
4146:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9642              		.loc 1 4146 57 is_stmt 0 discriminator 1 view .LVU3290
 9643 029e 6575     		strb	r5, [r4, #21]
4146:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9644              		.loc 1 4146 57 is_stmt 1 discriminator 1 view .LVU3291
 9645 02a0 C8E6     		b	.L686
 9646              	.LVL1120:
 9647              	.L722:
4048:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9648              		.loc 1 4048 9 is_stmt 0 view .LVU3292
 9649 02a2 1125     		movs	r5, #17
 9650              	.LVL1121:
4048:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9651              		.loc 1 4048 9 view .LVU3293
 9652 02a4 C6E6     		b	.L686
 9653              		.cfi_endproc
 9654              	.LFE399:
 9656              		.section	.text.f_opendir,"ax",%progbits
 9657              		.align	1
 9658              		.global	f_opendir
 9659              		.syntax unified
 9660              		.thumb
 9661              		.thumb_func
 9662              		.fpu fpv5-d16
 9664              	f_opendir:
 9665              	.LVL1122:
 9666              	.LFB400:
4166:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9667              		.loc 1 4166 1 is_stmt 1 view -0
 9668              		.cfi_startproc
 9669              		@ args = 0, pretend = 0, frame = 16
 9670              		@ frame_needed = 0, uses_anonymous_args = 0
4166:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9671              		.loc 1 4166 1 is_stmt 0 view .LVU3295
 9672 0000 30B5     		push	{r4, r5, lr}
 9673              	.LCFI87:
 9674              		.cfi_def_cfa_offset 12
 9675              		.cfi_offset 4, -12
 9676              		.cfi_offset 5, -8
 9677              		.cfi_offset 14, -4
 9678 0002 85B0     		sub	sp, sp, #20
 9679              	.LCFI88:
 9680              		.cfi_def_cfa_offset 32
 9681 0004 0191     		str	r1, [sp, #4]
4167:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 9682              		.loc 1 4167 2 is_stmt 1 view .LVU3296
4168:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID *obj;
ARM GAS  /tmp/ccBfkcjf.s 			page 325


 9683              		.loc 1 4168 2 view .LVU3297
4169:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
 9684              		.loc 1 4169 2 view .LVU3298
4173:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9685              		.loc 1 4173 2 view .LVU3299
4173:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9686              		.loc 1 4173 5 is_stmt 0 view .LVU3300
 9687 0006 0028     		cmp	r0, #0
 9688 0008 3DD0     		beq	.L750
 9689 000a 0546     		mov	r5, r0
4176:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, 0);
 9690              		.loc 1 4176 2 is_stmt 1 view .LVU3301
 9691              	.LVL1123:
4177:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9692              		.loc 1 4177 2 view .LVU3302
4177:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9693              		.loc 1 4177 8 is_stmt 0 view .LVU3303
 9694 000c 0022     		movs	r2, #0
 9695 000e 03A9     		add	r1, sp, #12
 9696              	.LVL1124:
4177:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9697              		.loc 1 4177 8 view .LVU3304
 9698 0010 01A8     		add	r0, sp, #4
 9699              	.LVL1125:
4177:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9700              		.loc 1 4177 8 view .LVU3305
 9701 0012 FFF7FEFF 		bl	find_volume
 9702              	.LVL1126:
4178:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->fs = fs;
 9703              		.loc 1 4178 2 is_stmt 1 view .LVU3306
4178:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->fs = fs;
 9704              		.loc 1 4178 5 is_stmt 0 view .LVU3307
 9705 0016 0446     		mov	r4, r0
 9706 0018 28B1     		cbz	r0, .L755
 9707              	.L745:
4220:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9708              		.loc 1 4220 2 is_stmt 1 view .LVU3308
4220:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9709              		.loc 1 4220 5 is_stmt 0 view .LVU3309
 9710 001a 0CB1     		cbz	r4, .L744
 9711              	.L749:
4220:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9712              		.loc 1 4220 20 is_stmt 1 discriminator 1 view .LVU3310
4220:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9713              		.loc 1 4220 28 is_stmt 0 discriminator 1 view .LVU3311
 9714 001c 0023     		movs	r3, #0
 9715 001e 2B60     		str	r3, [r5]
 9716              	.LVL1127:
 9717              	.L744:
4223:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9718              		.loc 1 4223 1 view .LVU3312
 9719 0020 2046     		mov	r0, r4
 9720 0022 05B0     		add	sp, sp, #20
 9721              	.LCFI89:
 9722              		.cfi_remember_state
 9723              		.cfi_def_cfa_offset 12
 9724              		@ sp needed
ARM GAS  /tmp/ccBfkcjf.s 			page 326


 9725 0024 30BD     		pop	{r4, r5, pc}
 9726              	.LVL1128:
 9727              	.L755:
 9728              	.LCFI90:
 9729              		.cfi_restore_state
4179:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 9730              		.loc 1 4179 3 is_stmt 1 view .LVU3313
4179:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 9731              		.loc 1 4179 11 is_stmt 0 view .LVU3314
 9732 0026 039B     		ldr	r3, [sp, #12]
 9733 0028 2B60     		str	r3, [r5]
4180:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(dp, path);			/* Follow the path to the directory */
 9734              		.loc 1 4180 18 is_stmt 1 view .LVU3315
4181:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {						/* Follow completed */
 9735              		.loc 1 4181 3 view .LVU3316
4181:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {						/* Follow completed */
 9736              		.loc 1 4181 9 is_stmt 0 view .LVU3317
 9737 002a 0199     		ldr	r1, [sp, #4]
 9738 002c 2846     		mov	r0, r5
 9739 002e FFF7FEFF 		bl	follow_path
 9740              	.LVL1129:
4182:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(dp->fn[NSFLAG] & NS_NONAME)) {	/* It is not the origin directory itself */
 9741              		.loc 1 4182 3 is_stmt 1 view .LVU3318
4182:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(dp->fn[NSFLAG] & NS_NONAME)) {	/* It is not the origin directory itself */
 9742              		.loc 1 4182 6 is_stmt 0 view .LVU3319
 9743 0032 0446     		mov	r4, r0
 9744 0034 18BB     		cbnz	r0, .L746
4183:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->attr & AM_DIR) {		/* This object is a sub-directory */
 9745              		.loc 1 4183 4 is_stmt 1 view .LVU3320
4183:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->attr & AM_DIR) {		/* This object is a sub-directory */
 9746              		.loc 1 4183 8 is_stmt 0 view .LVU3321
 9747 0036 95F92F30 		ldrsb	r3, [r5, #47]
4183:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->attr & AM_DIR) {		/* This object is a sub-directory */
 9748              		.loc 1 4183 7 view .LVU3322
 9749 003a 002B     		cmp	r3, #0
 9750 003c 08DB     		blt	.L747
4184:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 9751              		.loc 1 4184 5 is_stmt 1 view .LVU3323
4184:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 9752              		.loc 1 4184 12 is_stmt 0 view .LVU3324
 9753 003e AB79     		ldrb	r3, [r5, #6]	@ zero_extendqisi2
4184:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 9754              		.loc 1 4184 8 view .LVU3325
 9755 0040 13F0100F 		tst	r3, #16
 9756 0044 1AD0     		beq	.L751
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 9757              		.loc 1 4196 7 is_stmt 1 view .LVU3326
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 9758              		.loc 1 4196 21 is_stmt 0 view .LVU3327
 9759 0046 296A     		ldr	r1, [r5, #32]
 9760 0048 0398     		ldr	r0, [sp, #12]
 9761 004a FFF7FEFF 		bl	ld_clust
 9762              	.LVL1130:
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 9763              		.loc 1 4196 19 view .LVU3328
 9764 004e A860     		str	r0, [r5, #8]
 9765              	.L747:
ARM GAS  /tmp/ccBfkcjf.s 			page 327


4202:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->id = fs->id;
 9766              		.loc 1 4202 4 is_stmt 1 view .LVU3329
4203:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(dp, 0);			/* Rewind directory */
 9767              		.loc 1 4203 5 view .LVU3330
4203:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(dp, 0);			/* Rewind directory */
 9768              		.loc 1 4203 17 is_stmt 0 view .LVU3331
 9769 0050 039B     		ldr	r3, [sp, #12]
 9770 0052 DB88     		ldrh	r3, [r3, #6]
4203:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(dp, 0);			/* Rewind directory */
 9771              		.loc 1 4203 13 view .LVU3332
 9772 0054 AB80     		strh	r3, [r5, #4]	@ movhi
4204:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 9773              		.loc 1 4204 5 is_stmt 1 view .LVU3333
4204:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 9774              		.loc 1 4204 11 is_stmt 0 view .LVU3334
 9775 0056 0021     		movs	r1, #0
 9776 0058 2846     		mov	r0, r5
 9777 005a FFF7FEFF 		bl	dir_sdi
 9778              	.LVL1131:
4206:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (obj->sclust) {
 9779              		.loc 1 4206 5 is_stmt 1 view .LVU3335
4206:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (obj->sclust) {
 9780              		.loc 1 4206 8 is_stmt 0 view .LVU3336
 9781 005e 0446     		mov	r4, r0
 9782 0060 68B9     		cbnz	r0, .L746
4207:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->lockid = inc_lock(dp, 0);	/* Lock the sub directory */
 9783              		.loc 1 4207 6 is_stmt 1 view .LVU3337
4207:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->lockid = inc_lock(dp, 0);	/* Lock the sub directory */
 9784              		.loc 1 4207 13 is_stmt 0 view .LVU3338
 9785 0062 AB68     		ldr	r3, [r5, #8]
4207:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->lockid = inc_lock(dp, 0);	/* Lock the sub directory */
 9786              		.loc 1 4207 9 view .LVU3339
 9787 0064 13B9     		cbnz	r3, .L756
4211:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 9788              		.loc 1 4211 7 is_stmt 1 view .LVU3340
4211:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 9789              		.loc 1 4211 19 is_stmt 0 view .LVU3341
 9790 0066 0023     		movs	r3, #0
 9791 0068 2B61     		str	r3, [r5, #16]
 9792 006a 08E0     		b	.L746
 9793              	.L756:
4208:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!obj->lockid) res = FR_TOO_MANY_OPEN_FILES;
 9794              		.loc 1 4208 7 is_stmt 1 view .LVU3342
4208:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!obj->lockid) res = FR_TOO_MANY_OPEN_FILES;
 9795              		.loc 1 4208 21 is_stmt 0 view .LVU3343
 9796 006c 0021     		movs	r1, #0
 9797 006e 2846     		mov	r0, r5
 9798 0070 FFF7FEFF 		bl	inc_lock
 9799              	.LVL1132:
4208:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!obj->lockid) res = FR_TOO_MANY_OPEN_FILES;
 9800              		.loc 1 4208 19 view .LVU3344
 9801 0074 2861     		str	r0, [r5, #16]
4209:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 9802              		.loc 1 4209 7 is_stmt 1 view .LVU3345
4209:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 9803              		.loc 1 4209 10 is_stmt 0 view .LVU3346
 9804 0076 10B9     		cbnz	r0, .L746
ARM GAS  /tmp/ccBfkcjf.s 			page 328


 9805              	.LVL1133:
4209:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 9806              		.loc 1 4209 29 view .LVU3347
 9807 0078 1224     		movs	r4, #18
 9808 007a CEE7     		b	.L745
 9809              	.LVL1134:
 9810              	.L751:
4199:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9811              		.loc 1 4199 10 view .LVU3348
 9812 007c 0524     		movs	r4, #5
 9813              	.LVL1135:
 9814              	.L746:
4217:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_NO_PATH;
 9815              		.loc 1 4217 16 is_stmt 1 view .LVU3349
4218:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9816              		.loc 1 4218 3 view .LVU3350
4218:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9817              		.loc 1 4218 6 is_stmt 0 view .LVU3351
 9818 007e 042C     		cmp	r4, #4
 9819 0080 CBD1     		bne	.L745
 9820              	.LVL1136:
4218:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9821              		.loc 1 4218 30 view .LVU3352
 9822 0082 0524     		movs	r4, #5
 9823 0084 CAE7     		b	.L749
 9824              	.LVL1137:
 9825              	.L750:
4173:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9826              		.loc 1 4173 18 view .LVU3353
 9827 0086 0924     		movs	r4, #9
 9828 0088 CAE7     		b	.L744
 9829              		.cfi_endproc
 9830              	.LFE400:
 9832              		.section	.text.f_closedir,"ax",%progbits
 9833              		.align	1
 9834              		.global	f_closedir
 9835              		.syntax unified
 9836              		.thumb
 9837              		.thumb_func
 9838              		.fpu fpv5-d16
 9840              	f_closedir:
 9841              	.LVL1138:
 9842              	.LFB401:
4235:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9843              		.loc 1 4235 1 is_stmt 1 view -0
 9844              		.cfi_startproc
 9845              		@ args = 0, pretend = 0, frame = 8
 9846              		@ frame_needed = 0, uses_anonymous_args = 0
4235:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9847              		.loc 1 4235 1 is_stmt 0 view .LVU3355
 9848 0000 10B5     		push	{r4, lr}
 9849              	.LCFI91:
 9850              		.cfi_def_cfa_offset 8
 9851              		.cfi_offset 4, -8
 9852              		.cfi_offset 14, -4
 9853 0002 82B0     		sub	sp, sp, #8
 9854              	.LCFI92:
ARM GAS  /tmp/ccBfkcjf.s 			page 329


 9855              		.cfi_def_cfa_offset 16
 9856 0004 0446     		mov	r4, r0
4236:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 9857              		.loc 1 4236 2 is_stmt 1 view .LVU3356
4237:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9858              		.loc 1 4237 2 view .LVU3357
4240:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9859              		.loc 1 4240 2 view .LVU3358
4240:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9860              		.loc 1 4240 8 is_stmt 0 view .LVU3359
 9861 0006 01A9     		add	r1, sp, #4
 9862 0008 FFF7FEFF 		bl	validate
 9863              	.LVL1139:
4241:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 9864              		.loc 1 4241 2 is_stmt 1 view .LVU3360
4241:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 9865              		.loc 1 4241 5 is_stmt 0 view .LVU3361
 9866 000c 20B9     		cbnz	r0, .L758
4243:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(dp->obj.lockid);
 9867              		.loc 1 4243 3 is_stmt 1 view .LVU3362
4243:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(dp->obj.lockid);
 9868              		.loc 1 4243 14 is_stmt 0 view .LVU3363
 9869 000e 2369     		ldr	r3, [r4, #16]
4243:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(dp->obj.lockid);
 9870              		.loc 1 4243 6 view .LVU3364
 9871 0010 23B9     		cbnz	r3, .L761
 9872              	.L759:
 9873              	.LVL1140:
4246:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9874              		.loc 1 4246 3 is_stmt 1 view .LVU3365
4246:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9875              		.loc 1 4246 6 is_stmt 0 view .LVU3366
 9876 0012 08B9     		cbnz	r0, .L758
4249:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9877              		.loc 1 4249 4 is_stmt 1 view .LVU3367
4249:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9878              		.loc 1 4249 15 is_stmt 0 view .LVU3368
 9879 0014 0023     		movs	r3, #0
 9880 0016 2360     		str	r3, [r4]
 9881              	.LVL1141:
 9882              	.L758:
4255:Middlewares/Third_Party/FatFs/src/ff.c **** }
 9883              		.loc 1 4255 2 is_stmt 1 view .LVU3369
4256:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9884              		.loc 1 4256 1 is_stmt 0 view .LVU3370
 9885 0018 02B0     		add	sp, sp, #8
 9886              	.LCFI93:
 9887              		.cfi_remember_state
 9888              		.cfi_def_cfa_offset 8
 9889              		@ sp needed
 9890 001a 10BD     		pop	{r4, pc}
 9891              	.LVL1142:
 9892              	.L761:
 9893              	.LCFI94:
 9894              		.cfi_restore_state
4244:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9895              		.loc 1 4244 4 is_stmt 1 view .LVU3371
ARM GAS  /tmp/ccBfkcjf.s 			page 330


4244:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9896              		.loc 1 4244 10 is_stmt 0 view .LVU3372
 9897 001c 1846     		mov	r0, r3
 9898 001e FFF7FEFF 		bl	dec_lock
 9899              	.LVL1143:
4244:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9900              		.loc 1 4244 10 view .LVU3373
 9901 0022 F6E7     		b	.L759
 9902              		.cfi_endproc
 9903              	.LFE401:
 9905              		.section	.text.f_readdir,"ax",%progbits
 9906              		.align	1
 9907              		.global	f_readdir
 9908              		.syntax unified
 9909              		.thumb
 9910              		.thumb_func
 9911              		.fpu fpv5-d16
 9913              	f_readdir:
 9914              	.LVL1144:
 9915              	.LFB402:
4269:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9916              		.loc 1 4269 1 is_stmt 1 view -0
 9917              		.cfi_startproc
 9918              		@ args = 0, pretend = 0, frame = 8
 9919              		@ frame_needed = 0, uses_anonymous_args = 0
4269:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9920              		.loc 1 4269 1 is_stmt 0 view .LVU3375
 9921 0000 70B5     		push	{r4, r5, r6, lr}
 9922              	.LCFI95:
 9923              		.cfi_def_cfa_offset 16
 9924              		.cfi_offset 4, -16
 9925              		.cfi_offset 5, -12
 9926              		.cfi_offset 6, -8
 9927              		.cfi_offset 14, -4
 9928 0002 82B0     		sub	sp, sp, #8
 9929              	.LCFI96:
 9930              		.cfi_def_cfa_offset 24
 9931 0004 0446     		mov	r4, r0
 9932 0006 0D46     		mov	r5, r1
4270:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 9933              		.loc 1 4270 2 is_stmt 1 view .LVU3376
4271:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
 9934              		.loc 1 4271 2 view .LVU3377
4275:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9935              		.loc 1 4275 2 view .LVU3378
4275:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9936              		.loc 1 4275 8 is_stmt 0 view .LVU3379
 9937 0008 01A9     		add	r1, sp, #4
 9938              	.LVL1145:
4275:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9939              		.loc 1 4275 8 view .LVU3380
 9940 000a FFF7FEFF 		bl	validate
 9941              	.LVL1146:
4276:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!fno) {
 9942              		.loc 1 4276 2 is_stmt 1 view .LVU3381
4276:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!fno) {
 9943              		.loc 1 4276 5 is_stmt 0 view .LVU3382
ARM GAS  /tmp/ccBfkcjf.s 			page 331


 9944 000e 0646     		mov	r6, r0
 9945 0010 C0B9     		cbnz	r0, .L763
4277:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_sdi(dp, 0);			/* Rewind the directory object */
 9946              		.loc 1 4277 3 is_stmt 1 view .LVU3383
4277:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_sdi(dp, 0);			/* Rewind the directory object */
 9947              		.loc 1 4277 6 is_stmt 0 view .LVU3384
 9948 0012 95B1     		cbz	r5, .L768
4280:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_read(dp, 0);			/* Read an item */
 9949              		.loc 1 4280 19 is_stmt 1 view .LVU3385
4281:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory */
 9950              		.loc 1 4281 4 view .LVU3386
4281:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory */
 9951              		.loc 1 4281 10 is_stmt 0 view .LVU3387
 9952 0014 0021     		movs	r1, #0
 9953 0016 2046     		mov	r0, r4
 9954              	.LVL1147:
4281:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory */
 9955              		.loc 1 4281 10 view .LVU3388
 9956 0018 FFF7FEFF 		bl	dir_read
 9957              	.LVL1148:
4282:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {				/* A valid entry is found */
 9958              		.loc 1 4282 4 is_stmt 1 view .LVU3389
4282:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {				/* A valid entry is found */
 9959              		.loc 1 4282 7 is_stmt 0 view .LVU3390
 9960 001c 0428     		cmp	r0, #4
 9961 001e 00D0     		beq	.L765
4283:Middlewares/Third_Party/FatFs/src/ff.c **** 				get_fileinfo(dp, fno);		/* Get the object information */
 9962              		.loc 1 4283 4 is_stmt 1 view .LVU3391
4283:Middlewares/Third_Party/FatFs/src/ff.c **** 				get_fileinfo(dp, fno);		/* Get the object information */
 9963              		.loc 1 4283 7 is_stmt 0 view .LVU3392
 9964 0020 98B9     		cbnz	r0, .L766
 9965              	.L765:
 9966              	.LVL1149:
4284:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_next(dp, 0);		/* Increment index for next */
 9967              		.loc 1 4284 5 is_stmt 1 view .LVU3393
 9968 0022 2946     		mov	r1, r5
 9969 0024 2046     		mov	r0, r4
 9970 0026 FFF7FEFF 		bl	get_fileinfo
 9971              	.LVL1150:
4285:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory now */
 9972              		.loc 1 4285 5 view .LVU3394
4285:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory now */
 9973              		.loc 1 4285 11 is_stmt 0 view .LVU3395
 9974 002a 0021     		movs	r1, #0
 9975 002c 2046     		mov	r0, r4
 9976 002e FFF7FEFF 		bl	dir_next
 9977              	.LVL1151:
4286:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9978              		.loc 1 4286 5 is_stmt 1 view .LVU3396
4286:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9979              		.loc 1 4286 8 is_stmt 0 view .LVU3397
 9980 0032 0428     		cmp	r0, #4
 9981 0034 06D0     		beq	.L763
4285:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory now */
 9982              		.loc 1 4285 11 view .LVU3398
 9983 0036 0646     		mov	r6, r0
 9984 0038 04E0     		b	.L763
ARM GAS  /tmp/ccBfkcjf.s 			page 332


 9985              	.L768:
4278:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 9986              		.loc 1 4278 4 is_stmt 1 view .LVU3399
4278:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 9987              		.loc 1 4278 10 is_stmt 0 view .LVU3400
 9988 003a 0021     		movs	r1, #0
 9989 003c 2046     		mov	r0, r4
 9990              	.LVL1152:
4278:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 9991              		.loc 1 4278 10 view .LVU3401
 9992 003e FFF7FEFF 		bl	dir_sdi
 9993              	.LVL1153:
 9994 0042 0646     		mov	r6, r0
 9995              	.LVL1154:
 9996              	.L763:
4288:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9997              		.loc 1 4288 17 is_stmt 1 view .LVU3402
4291:Middlewares/Third_Party/FatFs/src/ff.c **** }
 9998              		.loc 1 4291 2 view .LVU3403
4292:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9999              		.loc 1 4292 1 is_stmt 0 view .LVU3404
 10000 0044 3046     		mov	r0, r6
 10001 0046 02B0     		add	sp, sp, #8
 10002              	.LCFI97:
 10003              		.cfi_remember_state
 10004              		.cfi_def_cfa_offset 16
 10005              		@ sp needed
 10006 0048 70BD     		pop	{r4, r5, r6, pc}
 10007              	.LVL1155:
 10008              	.L766:
 10009              	.LCFI98:
 10010              		.cfi_restore_state
4281:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory */
 10011              		.loc 1 4281 10 view .LVU3405
 10012 004a 0646     		mov	r6, r0
 10013 004c FAE7     		b	.L763
 10014              		.cfi_endproc
 10015              	.LFE402:
 10017              		.section	.text.f_stat,"ax",%progbits
 10018              		.align	1
 10019              		.global	f_stat
 10020              		.syntax unified
 10021              		.thumb
 10022              		.thumb_func
 10023              		.fpu fpv5-d16
 10025              	f_stat:
 10026              	.LVL1156:
 10027              	.LFB403:
4357:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 10028              		.loc 1 4357 1 is_stmt 1 view -0
 10029              		.cfi_startproc
 10030              		@ args = 0, pretend = 0, frame = 64
 10031              		@ frame_needed = 0, uses_anonymous_args = 0
4357:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 10032              		.loc 1 4357 1 is_stmt 0 view .LVU3407
 10033 0000 30B5     		push	{r4, r5, lr}
 10034              	.LCFI99:
ARM GAS  /tmp/ccBfkcjf.s 			page 333


 10035              		.cfi_def_cfa_offset 12
 10036              		.cfi_offset 4, -12
 10037              		.cfi_offset 5, -8
 10038              		.cfi_offset 14, -4
 10039 0002 91B0     		sub	sp, sp, #68
 10040              	.LCFI100:
 10041              		.cfi_def_cfa_offset 80
 10042 0004 0190     		str	r0, [sp, #4]
 10043 0006 0C46     		mov	r4, r1
4358:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
 10044              		.loc 1 4358 2 is_stmt 1 view .LVU3408
4359:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
 10045              		.loc 1 4359 2 view .LVU3409
4364:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 10046              		.loc 1 4364 2 view .LVU3410
4364:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 10047              		.loc 1 4364 8 is_stmt 0 view .LVU3411
 10048 0008 0022     		movs	r2, #0
 10049 000a 03A9     		add	r1, sp, #12
 10050              	.LVL1157:
4364:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 10051              		.loc 1 4364 8 view .LVU3412
 10052 000c 01A8     		add	r0, sp, #4
 10053              	.LVL1158:
4364:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 10054              		.loc 1 4364 8 view .LVU3413
 10055 000e FFF7FEFF 		bl	find_volume
 10056              	.LVL1159:
4365:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(dj.obj.fs);
 10057              		.loc 1 4365 2 is_stmt 1 view .LVU3414
4365:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(dj.obj.fs);
 10058              		.loc 1 4365 5 is_stmt 0 view .LVU3415
 10059 0012 0546     		mov	r5, r0
 10060 0014 10B1     		cbz	r0, .L773
 10061              	.LVL1160:
 10062              	.L770:
4375:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10063              		.loc 1 4375 16 is_stmt 1 view .LVU3416
4378:Middlewares/Third_Party/FatFs/src/ff.c **** }
 10064              		.loc 1 4378 2 view .LVU3417
4379:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10065              		.loc 1 4379 1 is_stmt 0 view .LVU3418
 10066 0016 2846     		mov	r0, r5
 10067 0018 11B0     		add	sp, sp, #68
 10068              	.LCFI101:
 10069              		.cfi_remember_state
 10070              		.cfi_def_cfa_offset 12
 10071              		@ sp needed
 10072 001a 30BD     		pop	{r4, r5, pc}
 10073              	.LVL1161:
 10074              	.L773:
 10075              	.LCFI102:
 10076              		.cfi_restore_state
4366:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
 10077              		.loc 1 4366 25 is_stmt 1 view .LVU3419
4367:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {				/* Follow completed */
 10078              		.loc 1 4367 3 view .LVU3420
ARM GAS  /tmp/ccBfkcjf.s 			page 334


4367:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {				/* Follow completed */
 10079              		.loc 1 4367 9 is_stmt 0 view .LVU3421
 10080 001c 0199     		ldr	r1, [sp, #4]
 10081 001e 03A8     		add	r0, sp, #12
 10082              	.LVL1162:
4367:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {				/* Follow completed */
 10083              		.loc 1 4367 9 view .LVU3422
 10084 0020 FFF7FEFF 		bl	follow_path
 10085              	.LVL1163:
4368:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* It is origin directory */
 10086              		.loc 1 4368 3 is_stmt 1 view .LVU3423
4368:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* It is origin directory */
 10087              		.loc 1 4368 6 is_stmt 0 view .LVU3424
 10088 0024 0546     		mov	r5, r0
 10089 0026 0028     		cmp	r0, #0
 10090 0028 F5D1     		bne	.L770
4369:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 10091              		.loc 1 4369 4 is_stmt 1 view .LVU3425
4369:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 10092              		.loc 1 4369 8 is_stmt 0 view .LVU3426
 10093 002a 9DF93B30 		ldrsb	r3, [sp, #59]
4369:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 10094              		.loc 1 4369 7 view .LVU3427
 10095 002e 002B     		cmp	r3, #0
 10096 0030 06DB     		blt	.L771
4372:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10097              		.loc 1 4372 5 is_stmt 1 view .LVU3428
4372:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10098              		.loc 1 4372 8 is_stmt 0 view .LVU3429
 10099 0032 002C     		cmp	r4, #0
 10100 0034 EFD0     		beq	.L770
4372:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10101              		.loc 1 4372 14 is_stmt 1 discriminator 1 view .LVU3430
 10102 0036 2146     		mov	r1, r4
 10103 0038 03A8     		add	r0, sp, #12
 10104              	.LVL1164:
4372:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10105              		.loc 1 4372 14 is_stmt 0 discriminator 1 view .LVU3431
 10106 003a FFF7FEFF 		bl	get_fileinfo
 10107              	.LVL1165:
 10108 003e EAE7     		b	.L770
 10109              	.LVL1166:
 10110              	.L771:
4370:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {							/* Found an object */
 10111              		.loc 1 4370 9 view .LVU3432
 10112 0040 0625     		movs	r5, #6
 10113 0042 E8E7     		b	.L770
 10114              		.cfi_endproc
 10115              	.LFE403:
 10117              		.section	.text.f_getfree,"ax",%progbits
 10118              		.align	1
 10119              		.global	f_getfree
 10120              		.syntax unified
 10121              		.thumb
 10122              		.thumb_func
 10123              		.fpu fpv5-d16
 10125              	f_getfree:
ARM GAS  /tmp/ccBfkcjf.s 			page 335


 10126              	.LVL1167:
 10127              	.LFB404:
4393:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 10128              		.loc 1 4393 1 is_stmt 1 view -0
 10129              		.cfi_startproc
 10130              		@ args = 0, pretend = 0, frame = 32
 10131              		@ frame_needed = 0, uses_anonymous_args = 0
4393:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 10132              		.loc 1 4393 1 is_stmt 0 view .LVU3434
 10133 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 10134              	.LCFI103:
 10135              		.cfi_def_cfa_offset 36
 10136              		.cfi_offset 4, -36
 10137              		.cfi_offset 5, -32
 10138              		.cfi_offset 6, -28
 10139              		.cfi_offset 7, -24
 10140              		.cfi_offset 8, -20
 10141              		.cfi_offset 9, -16
 10142              		.cfi_offset 10, -12
 10143              		.cfi_offset 11, -8
 10144              		.cfi_offset 14, -4
 10145 0004 89B0     		sub	sp, sp, #36
 10146              	.LCFI104:
 10147              		.cfi_def_cfa_offset 72
 10148 0006 0190     		str	r0, [sp, #4]
 10149 0008 8846     		mov	r8, r1
 10150 000a 1446     		mov	r4, r2
4394:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 10151              		.loc 1 4394 2 is_stmt 1 view .LVU3435
4395:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD nfree, clst, sect, stat;
 10152              		.loc 1 4395 2 view .LVU3436
4396:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 10153              		.loc 1 4396 2 view .LVU3437
4397:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *p;
 10154              		.loc 1 4397 2 view .LVU3438
4398:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID obj;
 10155              		.loc 1 4398 2 view .LVU3439
4399:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10156              		.loc 1 4399 2 view .LVU3440
4403:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 10157              		.loc 1 4403 2 view .LVU3441
4403:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 10158              		.loc 1 4403 8 is_stmt 0 view .LVU3442
 10159 000c 0022     		movs	r2, #0
 10160              	.LVL1168:
4403:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 10161              		.loc 1 4403 8 view .LVU3443
 10162 000e 07A9     		add	r1, sp, #28
 10163              	.LVL1169:
4403:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 10164              		.loc 1 4403 8 view .LVU3444
 10165 0010 01A8     		add	r0, sp, #4
 10166              	.LVL1170:
4403:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 10167              		.loc 1 4403 8 view .LVU3445
 10168 0012 FFF7FEFF 		bl	find_volume
 10169              	.LVL1171:
ARM GAS  /tmp/ccBfkcjf.s 			page 336


4404:Middlewares/Third_Party/FatFs/src/ff.c **** 		*fatfs = fs;				/* Return ptr to the fs object */
 10170              		.loc 1 4404 2 is_stmt 1 view .LVU3446
4404:Middlewares/Third_Party/FatFs/src/ff.c **** 		*fatfs = fs;				/* Return ptr to the fs object */
 10171              		.loc 1 4404 5 is_stmt 0 view .LVU3447
 10172 0016 8146     		mov	r9, r0
 10173 0018 0028     		cmp	r0, #0
 10174 001a 59D1     		bne	.L775
4405:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* If free_clst is valid, return it without full cluster scan */
 10175              		.loc 1 4405 3 is_stmt 1 view .LVU3448
4405:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* If free_clst is valid, return it without full cluster scan */
 10176              		.loc 1 4405 10 is_stmt 0 view .LVU3449
 10177 001c 079B     		ldr	r3, [sp, #28]
 10178 001e 2360     		str	r3, [r4]
4407:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clst;
 10179              		.loc 1 4407 3 is_stmt 1 view .LVU3450
4407:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clst;
 10180              		.loc 1 4407 9 is_stmt 0 view .LVU3451
 10181 0020 9A69     		ldr	r2, [r3, #24]
4407:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clst;
 10182              		.loc 1 4407 26 view .LVU3452
 10183 0022 DD69     		ldr	r5, [r3, #28]
4407:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clst;
 10184              		.loc 1 4407 37 view .LVU3453
 10185 0024 A91E     		subs	r1, r5, #2
4407:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clst;
 10186              		.loc 1 4407 6 view .LVU3454
 10187 0026 8A42     		cmp	r2, r1
 10188 0028 02D8     		bhi	.L776
4408:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 10189              		.loc 1 4408 4 is_stmt 1 view .LVU3455
4408:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 10190              		.loc 1 4408 11 is_stmt 0 view .LVU3456
 10191 002a C8F80020 		str	r2, [r8]
 10192 002e 4FE0     		b	.L775
 10193              	.L776:
4411:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_FAT12) {	/* FAT12: Sector unalighed FAT entries */
 10194              		.loc 1 4411 4 is_stmt 1 view .LVU3457
 10195              	.LVL1172:
4412:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = 2; obj.fs = fs;
 10196              		.loc 1 4412 4 view .LVU3458
4412:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = 2; obj.fs = fs;
 10197              		.loc 1 4412 10 is_stmt 0 view .LVU3459
 10198 0030 1E78     		ldrb	r6, [r3]	@ zero_extendqisi2
4412:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = 2; obj.fs = fs;
 10199              		.loc 1 4412 7 view .LVU3460
 10200 0032 012E     		cmp	r6, #1
 10201 0034 05D0     		beq	.L790
4440:Middlewares/Third_Party/FatFs/src/ff.c **** 					i = 0; p = 0;
 10202              		.loc 1 4440 6 is_stmt 1 view .LVU3461
 10203              	.LVL1173:
4440:Middlewares/Third_Party/FatFs/src/ff.c **** 					i = 0; p = 0;
 10204              		.loc 1 4440 27 view .LVU3462
4440:Middlewares/Third_Party/FatFs/src/ff.c **** 					i = 0; p = 0;
 10205              		.loc 1 4440 32 is_stmt 0 view .LVU3463
 10206 0036 D3F828A0 		ldr	r10, [r3, #40]
 10207              	.LVL1174:
4441:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
ARM GAS  /tmp/ccBfkcjf.s 			page 337


 10208              		.loc 1 4441 6 is_stmt 1 view .LVU3464
4441:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 10209              		.loc 1 4441 13 view .LVU3465
4441:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 10210              		.loc 1 4441 15 is_stmt 0 view .LVU3466
 10211 003a 0024     		movs	r4, #0
 10212              	.LVL1175:
4441:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 10213              		.loc 1 4441 8 view .LVU3467
 10214 003c 2646     		mov	r6, r4
4411:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_FAT12) {	/* FAT12: Sector unalighed FAT entries */
 10215              		.loc 1 4411 10 view .LVU3468
 10216 003e 2746     		mov	r7, r4
 10217 0040 2FE0     		b	.L786
 10218              	.LVL1176:
 10219              	.L790:
4413:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 10220              		.loc 1 4413 5 is_stmt 1 view .LVU3469
4413:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 10221              		.loc 1 4413 15 view .LVU3470
4413:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 10222              		.loc 1 4413 22 is_stmt 0 view .LVU3471
 10223 0042 0293     		str	r3, [sp, #8]
4413:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 10224              		.loc 1 4413 10 view .LVU3472
 10225 0044 0224     		movs	r4, #2
 10226              	.LVL1177:
4411:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_FAT12) {	/* FAT12: Sector unalighed FAT entries */
 10227              		.loc 1 4411 10 view .LVU3473
 10228 0046 0027     		movs	r7, #0
 10229 0048 04E0     		b	.L780
 10230              	.LVL1178:
 10231              	.L779:
4419:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 10232              		.loc 1 4419 13 is_stmt 1 view .LVU3474
4419:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 10233              		.loc 1 4419 5 is_stmt 0 view .LVU3475
 10234 004a 0134     		adds	r4, r4, #1
 10235              	.LVL1179:
4419:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 10236              		.loc 1 4419 25 view .LVU3476
 10237 004c 079B     		ldr	r3, [sp, #28]
 10238 004e DB69     		ldr	r3, [r3, #28]
4419:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 10239              		.loc 1 4419 5 view .LVU3477
 10240 0050 A342     		cmp	r3, r4
 10241 0052 35D9     		bls	.L778
 10242              	.LVL1180:
 10243              	.L780:
4414:Middlewares/Third_Party/FatFs/src/ff.c **** 					stat = get_fat(&obj, clst);
 10244              		.loc 1 4414 5 is_stmt 1 view .LVU3478
4415:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }
 10245              		.loc 1 4415 6 view .LVU3479
4415:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }
 10246              		.loc 1 4415 13 is_stmt 0 view .LVU3480
 10247 0054 2146     		mov	r1, r4
 10248 0056 02A8     		add	r0, sp, #8
ARM GAS  /tmp/ccBfkcjf.s 			page 338


 10249 0058 FFF7FEFF 		bl	get_fat
 10250              	.LVL1181:
4416:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
 10251              		.loc 1 4416 6 is_stmt 1 view .LVU3481
4416:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
 10252              		.loc 1 4416 9 is_stmt 0 view .LVU3482
 10253 005c B0F1FF3F 		cmp	r0, #-1
 10254 0060 2DD0     		beq	.L787
4417:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) nfree++;
 10255              		.loc 1 4417 6 is_stmt 1 view .LVU3483
4417:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) nfree++;
 10256              		.loc 1 4417 9 is_stmt 0 view .LVU3484
 10257 0062 0128     		cmp	r0, #1
 10258 0064 38D0     		beq	.L788
4418:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 10259              		.loc 1 4418 6 is_stmt 1 view .LVU3485
4418:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 10260              		.loc 1 4418 9 is_stmt 0 view .LVU3486
 10261 0066 0028     		cmp	r0, #0
 10262 0068 EFD1     		bne	.L779
4418:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 10263              		.loc 1 4418 21 is_stmt 1 discriminator 1 view .LVU3487
4418:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 10264              		.loc 1 4418 26 is_stmt 0 discriminator 1 view .LVU3488
 10265 006a 0137     		adds	r7, r7, #1
 10266              	.LVL1182:
4418:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 10267              		.loc 1 4418 26 discriminator 1 view .LVU3489
 10268 006c EDE7     		b	.L779
 10269              	.LVL1183:
 10270              	.L791:
4444:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res != FR_OK) break;
 10271              		.loc 1 4444 8 is_stmt 1 view .LVU3490
4444:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res != FR_OK) break;
 10272              		.loc 1 4444 14 is_stmt 0 view .LVU3491
 10273 006e 0AF1010B 		add	fp, r10, #1
 10274              	.LVL1184:
4444:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res != FR_OK) break;
 10275              		.loc 1 4444 14 view .LVU3492
 10276 0072 5146     		mov	r1, r10
 10277 0074 0798     		ldr	r0, [sp, #28]
 10278 0076 FFF7FEFF 		bl	move_window
 10279              	.LVL1185:
4445:Middlewares/Third_Party/FatFs/src/ff.c **** 							p = fs->win;
 10280              		.loc 1 4445 8 is_stmt 1 view .LVU3493
4445:Middlewares/Third_Party/FatFs/src/ff.c **** 							p = fs->win;
 10281              		.loc 1 4445 11 is_stmt 0 view .LVU3494
 10282 007a 8146     		mov	r9, r0
 10283 007c 00BB     		cbnz	r0, .L778
4446:Middlewares/Third_Party/FatFs/src/ff.c **** 							i = SS(fs);
 10284              		.loc 1 4446 8 is_stmt 1 view .LVU3495
4446:Middlewares/Third_Party/FatFs/src/ff.c **** 							i = SS(fs);
 10285              		.loc 1 4446 14 is_stmt 0 view .LVU3496
 10286 007e 079B     		ldr	r3, [sp, #28]
4446:Middlewares/Third_Party/FatFs/src/ff.c **** 							i = SS(fs);
 10287              		.loc 1 4446 10 view .LVU3497
 10288 0080 03F13804 		add	r4, r3, #56
ARM GAS  /tmp/ccBfkcjf.s 			page 339


 10289              	.LVL1186:
4447:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 10290              		.loc 1 4447 8 is_stmt 1 view .LVU3498
4447:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 10291              		.loc 1 4447 12 is_stmt 0 view .LVU3499
 10292 0084 9E89     		ldrh	r6, [r3, #12]
 10293              	.LVL1187:
4444:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res != FR_OK) break;
 10294              		.loc 1 4444 14 view .LVU3500
 10295 0086 DA46     		mov	r10, fp
 10296 0088 0DE0     		b	.L781
 10297              	.LVL1188:
 10298              	.L792:
4450:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 2; i -= 2;
 10299              		.loc 1 4450 8 is_stmt 1 view .LVU3501
4450:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 2; i -= 2;
 10300              		.loc 1 4450 12 is_stmt 0 view .LVU3502
 10301 008a 2046     		mov	r0, r4
 10302 008c FFF7FEFF 		bl	ld_word
 10303              	.LVL1189:
4450:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 2; i -= 2;
 10304              		.loc 1 4450 11 view .LVU3503
 10305 0090 00B9     		cbnz	r0, .L783
4450:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 2; i -= 2;
 10306              		.loc 1 4450 29 is_stmt 1 discriminator 1 view .LVU3504
4450:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 2; i -= 2;
 10307              		.loc 1 4450 34 is_stmt 0 discriminator 1 view .LVU3505
 10308 0092 0137     		adds	r7, r7, #1
 10309              	.LVL1190:
 10310              	.L783:
4451:Middlewares/Third_Party/FatFs/src/ff.c **** 						} else {
 10311              		.loc 1 4451 8 is_stmt 1 view .LVU3506
4451:Middlewares/Third_Party/FatFs/src/ff.c **** 						} else {
 10312              		.loc 1 4451 10 is_stmt 0 view .LVU3507
 10313 0094 0234     		adds	r4, r4, #2
 10314              	.LVL1191:
4451:Middlewares/Third_Party/FatFs/src/ff.c **** 						} else {
 10315              		.loc 1 4451 16 is_stmt 1 view .LVU3508
4451:Middlewares/Third_Party/FatFs/src/ff.c **** 						} else {
 10316              		.loc 1 4451 18 is_stmt 0 view .LVU3509
 10317 0096 023E     		subs	r6, r6, #2
 10318              	.LVL1192:
4451:Middlewares/Third_Party/FatFs/src/ff.c **** 						} else {
 10319              		.loc 1 4451 18 view .LVU3510
 10320 0098 01E0     		b	.L784
 10321              	.L785:
4454:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 10322              		.loc 1 4454 8 is_stmt 1 view .LVU3511
4454:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 10323              		.loc 1 4454 10 is_stmt 0 view .LVU3512
 10324 009a 0434     		adds	r4, r4, #4
 10325              	.LVL1193:
4454:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 10326              		.loc 1 4454 16 is_stmt 1 view .LVU3513
4454:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 10327              		.loc 1 4454 18 is_stmt 0 view .LVU3514
 10328 009c 043E     		subs	r6, r6, #4
ARM GAS  /tmp/ccBfkcjf.s 			page 340


 10329              	.LVL1194:
 10330              	.L784:
4456:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10331              		.loc 1 4456 14 is_stmt 1 view .LVU3515
4456:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10332              		.loc 1 4456 6 is_stmt 0 view .LVU3516
 10333 009e 013D     		subs	r5, r5, #1
 10334              	.LVL1195:
4456:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10335              		.loc 1 4456 6 view .LVU3517
 10336 00a0 0ED0     		beq	.L778
 10337              	.LVL1196:
 10338              	.L786:
4442:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (i == 0) {
 10339              		.loc 1 4442 6 is_stmt 1 view .LVU3518
4443:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = move_window(fs, sect++);
 10340              		.loc 1 4443 7 view .LVU3519
4443:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = move_window(fs, sect++);
 10341              		.loc 1 4443 10 is_stmt 0 view .LVU3520
 10342 00a2 002E     		cmp	r6, #0
 10343 00a4 E3D0     		beq	.L791
 10344              	.LVL1197:
 10345              	.L781:
4449:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (ld_word(p) == 0) nfree++;
 10346              		.loc 1 4449 7 is_stmt 1 view .LVU3521
4449:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (ld_word(p) == 0) nfree++;
 10347              		.loc 1 4449 13 is_stmt 0 view .LVU3522
 10348 00a6 079B     		ldr	r3, [sp, #28]
 10349 00a8 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
4449:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (ld_word(p) == 0) nfree++;
 10350              		.loc 1 4449 10 view .LVU3523
 10351 00aa 022B     		cmp	r3, #2
 10352 00ac EDD0     		beq	.L792
4453:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 4; i -= 4;
 10353              		.loc 1 4453 8 is_stmt 1 view .LVU3524
4453:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 4; i -= 4;
 10354              		.loc 1 4453 13 is_stmt 0 view .LVU3525
 10355 00ae 2046     		mov	r0, r4
 10356 00b0 FFF7FEFF 		bl	ld_dword
 10357              	.LVL1198:
4453:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 4; i -= 4;
 10358              		.loc 1 4453 11 view .LVU3526
 10359 00b4 30F07043 		bics	r3, r0, #-268435456
 10360 00b8 EFD1     		bne	.L785
4453:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 4; i -= 4;
 10361              		.loc 1 4453 45 is_stmt 1 discriminator 1 view .LVU3527
4453:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 4; i -= 4;
 10362              		.loc 1 4453 50 is_stmt 0 discriminator 1 view .LVU3528
 10363 00ba 0137     		adds	r7, r7, #1
 10364              	.LVL1199:
4453:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 4; i -= 4;
 10365              		.loc 1 4453 50 discriminator 1 view .LVU3529
 10366 00bc EDE7     		b	.L785
 10367              	.LVL1200:
 10368              	.L787:
4416:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
 10369              		.loc 1 4416 36 view .LVU3530
ARM GAS  /tmp/ccBfkcjf.s 			page 341


 10370 00be B146     		mov	r9, r6
 10371              	.LVL1201:
 10372              	.L778:
4459:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst = nfree;	/* Now free_clst is valid */
 10373              		.loc 1 4459 4 is_stmt 1 view .LVU3531
4459:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst = nfree;	/* Now free_clst is valid */
 10374              		.loc 1 4459 11 is_stmt 0 view .LVU3532
 10375 00c0 C8F80070 		str	r7, [r8]
4460:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;		/* FSInfo is to be updated */
 10376              		.loc 1 4460 4 is_stmt 1 view .LVU3533
4460:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;		/* FSInfo is to be updated */
 10377              		.loc 1 4460 6 is_stmt 0 view .LVU3534
 10378 00c4 079B     		ldr	r3, [sp, #28]
4460:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;		/* FSInfo is to be updated */
 10379              		.loc 1 4460 18 view .LVU3535
 10380 00c6 9F61     		str	r7, [r3, #24]
4461:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 10381              		.loc 1 4461 4 is_stmt 1 view .LVU3536
4461:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 10382              		.loc 1 4461 17 is_stmt 0 view .LVU3537
 10383 00c8 1A79     		ldrb	r2, [r3, #4]	@ zero_extendqisi2
 10384 00ca 42F00102 		orr	r2, r2, #1
 10385 00ce 1A71     		strb	r2, [r3, #4]
 10386              	.LVL1202:
 10387              	.L775:
4465:Middlewares/Third_Party/FatFs/src/ff.c **** }
 10388              		.loc 1 4465 2 is_stmt 1 view .LVU3538
4466:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10389              		.loc 1 4466 1 is_stmt 0 view .LVU3539
 10390 00d0 4846     		mov	r0, r9
 10391 00d2 09B0     		add	sp, sp, #36
 10392              	.LCFI105:
 10393              		.cfi_remember_state
 10394              		.cfi_def_cfa_offset 36
 10395              		@ sp needed
 10396 00d4 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 10397              	.LVL1203:
 10398              	.L788:
 10399              	.LCFI106:
 10400              		.cfi_restore_state
4417:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) nfree++;
 10401              		.loc 1 4417 27 view .LVU3540
 10402 00d8 4FF00209 		mov	r9, #2
 10403 00dc F0E7     		b	.L778
 10404              		.cfi_endproc
 10405              	.LFE404:
 10407              		.section	.text.f_truncate,"ax",%progbits
 10408              		.align	1
 10409              		.global	f_truncate
 10410              		.syntax unified
 10411              		.thumb
 10412              		.thumb_func
 10413              		.fpu fpv5-d16
 10415              	f_truncate:
 10416              	.LVL1204:
 10417              	.LFB405:
4478:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
ARM GAS  /tmp/ccBfkcjf.s 			page 342


 10418              		.loc 1 4478 1 is_stmt 1 view -0
 10419              		.cfi_startproc
 10420              		@ args = 0, pretend = 0, frame = 8
 10421              		@ frame_needed = 0, uses_anonymous_args = 0
4478:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 10422              		.loc 1 4478 1 is_stmt 0 view .LVU3542
 10423 0000 30B5     		push	{r4, r5, lr}
 10424              	.LCFI107:
 10425              		.cfi_def_cfa_offset 12
 10426              		.cfi_offset 4, -12
 10427              		.cfi_offset 5, -8
 10428              		.cfi_offset 14, -4
 10429 0002 83B0     		sub	sp, sp, #12
 10430              	.LCFI108:
 10431              		.cfi_def_cfa_offset 24
 10432 0004 0446     		mov	r4, r0
4479:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 10433              		.loc 1 4479 2 is_stmt 1 view .LVU3543
4480:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ncl;
 10434              		.loc 1 4480 2 view .LVU3544
4481:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10435              		.loc 1 4481 2 view .LVU3545
4484:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);
 10436              		.loc 1 4484 2 view .LVU3546
4484:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);
 10437              		.loc 1 4484 8 is_stmt 0 view .LVU3547
 10438 0006 01A9     		add	r1, sp, #4
 10439 0008 FFF7FEFF 		bl	validate
 10440              	.LVL1205:
4485:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 10441              		.loc 1 4485 2 is_stmt 1 view .LVU3548
4485:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 10442              		.loc 1 4485 5 is_stmt 0 view .LVU3549
 10443 000c 0546     		mov	r5, r0
 10444 000e E8B9     		cbnz	r0, .L796
4485:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 10445              		.loc 1 4485 27 discriminator 2 view .LVU3550
 10446 0010 657D     		ldrb	r5, [r4, #21]	@ zero_extendqisi2
 10447              	.LVL1206:
4485:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 10448              		.loc 1 4485 19 discriminator 2 view .LVU3551
 10449 0012 DDB9     		cbnz	r5, .L796
4486:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10450              		.loc 1 4486 2 is_stmt 1 view .LVU3552
4486:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10451              		.loc 1 4486 10 is_stmt 0 view .LVU3553
 10452 0014 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
4486:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10453              		.loc 1 4486 5 view .LVU3554
 10454 0016 13F0020F 		tst	r3, #2
 10455 001a 45D0     		beq	.L802
4488:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr == 0) {	/* When set file size to zero, remove entire cluster chain */
 10456              		.loc 1 4488 2 is_stmt 1 view .LVU3555
4488:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr == 0) {	/* When set file size to zero, remove entire cluster chain */
 10457              		.loc 1 4488 8 is_stmt 0 view .LVU3556
 10458 001c A369     		ldr	r3, [r4, #24]
4488:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr == 0) {	/* When set file size to zero, remove entire cluster chain */
ARM GAS  /tmp/ccBfkcjf.s 			page 343


 10459              		.loc 1 4488 24 view .LVU3557
 10460 001e E268     		ldr	r2, [r4, #12]
4488:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr == 0) {	/* When set file size to zero, remove entire cluster chain */
 10461              		.loc 1 4488 5 view .LVU3558
 10462 0020 9342     		cmp	r3, r2
 10463 0022 13D2     		bcs	.L796
4489:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = remove_chain(&fp->obj, fp->obj.sclust, 0);
 10464              		.loc 1 4489 3 is_stmt 1 view .LVU3559
4489:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = remove_chain(&fp->obj, fp->obj.sclust, 0);
 10465              		.loc 1 4489 6 is_stmt 0 view .LVU3560
 10466 0024 ABB9     		cbnz	r3, .L797
4490:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.sclust = 0;
 10467              		.loc 1 4490 4 is_stmt 1 view .LVU3561
4490:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.sclust = 0;
 10468              		.loc 1 4490 10 is_stmt 0 view .LVU3562
 10469 0026 0022     		movs	r2, #0
 10470 0028 A168     		ldr	r1, [r4, #8]
 10471 002a 2046     		mov	r0, r4
 10472 002c FFF7FEFF 		bl	remove_chain
 10473              	.LVL1207:
 10474 0030 0546     		mov	r5, r0
 10475              	.LVL1208:
4491:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {				/* When truncate a part of the file, remove remaining clusters */
 10476              		.loc 1 4491 4 is_stmt 1 view .LVU3563
4491:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {				/* When truncate a part of the file, remove remaining clusters */
 10477              		.loc 1 4491 19 is_stmt 0 view .LVU3564
 10478 0032 0023     		movs	r3, #0
 10479 0034 A360     		str	r3, [r4, #8]
 10480              	.LVL1209:
 10481              	.L798:
4501:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA_MODIFIED;
 10482              		.loc 1 4501 3 is_stmt 1 view .LVU3565
4501:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA_MODIFIED;
 10483              		.loc 1 4501 23 is_stmt 0 view .LVU3566
 10484 0036 A369     		ldr	r3, [r4, #24]
4501:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA_MODIFIED;
 10485              		.loc 1 4501 19 view .LVU3567
 10486 0038 E360     		str	r3, [r4, #12]
4502:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 10487              		.loc 1 4502 3 is_stmt 1 view .LVU3568
4502:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 10488              		.loc 1 4502 12 is_stmt 0 view .LVU3569
 10489 003a 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 10490 003c 43F04003 		orr	r3, r3, #64
 10491 0040 2375     		strb	r3, [r4, #20]
4504:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) {
 10492              		.loc 1 4504 3 is_stmt 1 view .LVU3570
4504:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) {
 10493              		.loc 1 4504 6 is_stmt 0 view .LVU3571
 10494 0042 15B9     		cbnz	r5, .L800
4504:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) {
 10495              		.loc 1 4504 20 discriminator 1 view .LVU3572
 10496 0044 13F0800F 		tst	r3, #128
 10497 0048 1DD1     		bne	.L807
 10498              	.L800:
4512:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10499              		.loc 1 4512 3 is_stmt 1 view .LVU3573
ARM GAS  /tmp/ccBfkcjf.s 			page 344


4512:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10500              		.loc 1 4512 6 is_stmt 0 view .LVU3574
 10501 004a 5DBB     		cbnz	r5, .L801
 10502              	.LVL1210:
 10503              	.L796:
4516:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10504              		.loc 1 4516 1 view .LVU3575
 10505 004c 2846     		mov	r0, r5
 10506 004e 03B0     		add	sp, sp, #12
 10507              	.LCFI109:
 10508              		.cfi_remember_state
 10509              		.cfi_def_cfa_offset 12
 10510              		@ sp needed
 10511 0050 30BD     		pop	{r4, r5, pc}
 10512              	.LVL1211:
 10513              	.L797:
 10514              	.LCFI110:
 10515              		.cfi_restore_state
4493:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 10516              		.loc 1 4493 4 is_stmt 1 view .LVU3576
4493:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 10517              		.loc 1 4493 10 is_stmt 0 view .LVU3577
 10518 0052 E169     		ldr	r1, [r4, #28]
 10519 0054 2046     		mov	r0, r4
 10520 0056 FFF7FEFF 		bl	get_fat
 10521              	.LVL1212:
4494:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == 0xFFFFFFFF) res = FR_DISK_ERR;
 10522              		.loc 1 4494 4 is_stmt 1 view .LVU3578
4495:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == 1) res = FR_INT_ERR;
 10523              		.loc 1 4495 4 view .LVU3579
4495:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == 1) res = FR_INT_ERR;
 10524              		.loc 1 4495 7 is_stmt 0 view .LVU3580
 10525 005a B0F1FF3F 		cmp	r0, #-1
 10526 005e 0ED0     		beq	.L808
 10527              	.L799:
 10528              	.LVL1213:
4496:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK && ncl < fs->n_fatent) {
 10529              		.loc 1 4496 4 is_stmt 1 view .LVU3581
4496:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK && ncl < fs->n_fatent) {
 10530              		.loc 1 4496 7 is_stmt 0 view .LVU3582
 10531 0060 0128     		cmp	r0, #1
 10532 0062 0ED0     		beq	.L804
4497:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = remove_chain(&fp->obj, ncl, fp->clust);
 10533              		.loc 1 4497 4 is_stmt 1 view .LVU3583
4497:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = remove_chain(&fp->obj, ncl, fp->clust);
 10534              		.loc 1 4497 7 is_stmt 0 view .LVU3584
 10535 0064 002D     		cmp	r5, #0
 10536 0066 E6D1     		bne	.L798
4497:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = remove_chain(&fp->obj, ncl, fp->clust);
 10537              		.loc 1 4497 32 discriminator 1 view .LVU3585
 10538 0068 019B     		ldr	r3, [sp, #4]
 10539 006a DB69     		ldr	r3, [r3, #28]
4497:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = remove_chain(&fp->obj, ncl, fp->clust);
 10540              		.loc 1 4497 21 discriminator 1 view .LVU3586
 10541 006c 8342     		cmp	r3, r0
 10542 006e E2D9     		bls	.L798
4498:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
ARM GAS  /tmp/ccBfkcjf.s 			page 345


 10543              		.loc 1 4498 5 is_stmt 1 view .LVU3587
4498:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10544              		.loc 1 4498 11 is_stmt 0 view .LVU3588
 10545 0070 E269     		ldr	r2, [r4, #28]
 10546 0072 0146     		mov	r1, r0
 10547 0074 2046     		mov	r0, r4
 10548              	.LVL1214:
4498:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10549              		.loc 1 4498 11 view .LVU3589
 10550 0076 FFF7FEFF 		bl	remove_chain
 10551              	.LVL1215:
4498:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10552              		.loc 1 4498 11 view .LVU3590
 10553 007a 0546     		mov	r5, r0
 10554              	.LVL1216:
4498:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10555              		.loc 1 4498 11 view .LVU3591
 10556 007c DBE7     		b	.L798
 10557              	.LVL1217:
 10558              	.L808:
4495:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == 1) res = FR_INT_ERR;
 10559              		.loc 1 4495 31 view .LVU3592
 10560 007e 0125     		movs	r5, #1
 10561 0080 EEE7     		b	.L799
 10562              	.LVL1218:
 10563              	.L804:
4496:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK && ncl < fs->n_fatent) {
 10564              		.loc 1 4496 22 view .LVU3593
 10565 0082 0225     		movs	r5, #2
 10566              	.LVL1219:
4496:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK && ncl < fs->n_fatent) {
 10567              		.loc 1 4496 22 view .LVU3594
 10568 0084 D7E7     		b	.L798
 10569              	.LVL1220:
 10570              	.L807:
4505:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
 10571              		.loc 1 4505 4 is_stmt 1 view .LVU3595
4505:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
 10572              		.loc 1 4505 8 is_stmt 0 view .LVU3596
 10573 0086 0123     		movs	r3, #1
 10574 0088 226A     		ldr	r2, [r4, #32]
 10575 008a 04F13001 		add	r1, r4, #48
 10576 008e 0198     		ldr	r0, [sp, #4]
 10577 0090 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 10578 0092 FFF7FEFF 		bl	disk_write
 10579              	.LVL1221:
4505:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
 10580              		.loc 1 4505 7 view .LVU3597
 10581 0096 20B9     		cbnz	r0, .L805
4508:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10582              		.loc 1 4508 5 is_stmt 1 view .LVU3598
4508:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10583              		.loc 1 4508 14 is_stmt 0 view .LVU3599
 10584 0098 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 10585 009a 03F07F03 		and	r3, r3, #127
 10586 009e 2375     		strb	r3, [r4, #20]
 10587 00a0 D3E7     		b	.L800
ARM GAS  /tmp/ccBfkcjf.s 			page 346


 10588              	.L805:
4506:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 10589              		.loc 1 4506 9 view .LVU3600
 10590 00a2 0125     		movs	r5, #1
 10591              	.LVL1222:
 10592              	.L801:
4512:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10593              		.loc 1 4512 21 is_stmt 1 discriminator 1 view .LVU3601
 10594 00a4 6575     		strb	r5, [r4, #21]
4512:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10595              		.loc 1 4512 21 discriminator 1 view .LVU3602
 10596 00a6 D1E7     		b	.L796
 10597              	.LVL1223:
 10598              	.L802:
4486:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10599              		.loc 1 4486 30 is_stmt 0 view .LVU3603
 10600 00a8 0725     		movs	r5, #7
 10601              	.LVL1224:
4486:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10602              		.loc 1 4486 30 view .LVU3604
 10603 00aa CFE7     		b	.L796
 10604              		.cfi_endproc
 10605              	.LFE405:
 10607              		.section	.text.f_unlink,"ax",%progbits
 10608              		.align	1
 10609              		.global	f_unlink
 10610              		.syntax unified
 10611              		.thumb
 10612              		.thumb_func
 10613              		.fpu fpv5-d16
 10615              	f_unlink:
 10616              	.LVL1225:
 10617              	.LFB406:
4528:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 10618              		.loc 1 4528 1 is_stmt 1 view -0
 10619              		.cfi_startproc
 10620              		@ args = 0, pretend = 0, frame = 120
 10621              		@ frame_needed = 0, uses_anonymous_args = 0
4528:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 10622              		.loc 1 4528 1 is_stmt 0 view .LVU3606
 10623 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 10624              	.LCFI111:
 10625              		.cfi_def_cfa_offset 20
 10626              		.cfi_offset 4, -20
 10627              		.cfi_offset 5, -16
 10628              		.cfi_offset 6, -12
 10629              		.cfi_offset 7, -8
 10630              		.cfi_offset 14, -4
 10631 0002 9FB0     		sub	sp, sp, #124
 10632              	.LCFI112:
 10633              		.cfi_def_cfa_offset 144
 10634 0004 0190     		str	r0, [sp, #4]
4529:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj, sdj;
 10635              		.loc 1 4529 2 is_stmt 1 view .LVU3607
4530:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dclst = 0;
 10636              		.loc 1 4530 2 view .LVU3608
4531:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
ARM GAS  /tmp/ccBfkcjf.s 			page 347


 10637              		.loc 1 4531 2 view .LVU3609
 10638              	.LVL1226:
4532:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 10639              		.loc 1 4532 2 view .LVU3610
4540:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
 10640              		.loc 1 4540 2 view .LVU3611
4540:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
 10641              		.loc 1 4540 8 is_stmt 0 view .LVU3612
 10642 0006 0222     		movs	r2, #2
 10643 0008 03A9     		add	r1, sp, #12
 10644 000a 01A8     		add	r0, sp, #4
 10645              	.LVL1227:
4540:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
 10646              		.loc 1 4540 8 view .LVU3613
 10647 000c FFF7FEFF 		bl	find_volume
 10648              	.LVL1228:
4541:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 10649              		.loc 1 4541 2 is_stmt 1 view .LVU3614
4541:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 10650              		.loc 1 4541 12 is_stmt 0 view .LVU3615
 10651 0010 039B     		ldr	r3, [sp, #12]
 10652 0012 1193     		str	r3, [sp, #68]
4542:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 10653              		.loc 1 4542 2 is_stmt 1 view .LVU3616
4542:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 10654              		.loc 1 4542 5 is_stmt 0 view .LVU3617
 10655 0014 0446     		mov	r4, r0
 10656 0016 10B1     		cbz	r0, .L819
 10657              	.LVL1229:
 10658              	.L810:
4607:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10659              		.loc 1 4607 16 is_stmt 1 view .LVU3618
4610:Middlewares/Third_Party/FatFs/src/ff.c **** }
 10660              		.loc 1 4610 2 view .LVU3619
4611:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10661              		.loc 1 4611 1 is_stmt 0 view .LVU3620
 10662 0018 2046     		mov	r0, r4
 10663 001a 1FB0     		add	sp, sp, #124
 10664              	.LCFI113:
 10665              		.cfi_remember_state
 10666              		.cfi_def_cfa_offset 20
 10667              		@ sp needed
 10668 001c F0BD     		pop	{r4, r5, r6, r7, pc}
 10669              	.LVL1230:
 10670              	.L819:
 10671              	.LCFI114:
 10672              		.cfi_restore_state
4543:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the file path */
 10673              		.loc 1 4543 18 is_stmt 1 view .LVU3621
4544:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT)) {
 10674              		.loc 1 4544 3 view .LVU3622
4544:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT)) {
 10675              		.loc 1 4544 9 is_stmt 0 view .LVU3623
 10676 001e 0199     		ldr	r1, [sp, #4]
 10677 0020 11A8     		add	r0, sp, #68
 10678              	.LVL1231:
4544:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT)) {
ARM GAS  /tmp/ccBfkcjf.s 			page 348


 10679              		.loc 1 4544 9 view .LVU3624
 10680 0022 FFF7FEFF 		bl	follow_path
 10681              	.LVL1232:
4545:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;			/* Cannot remove dot entry */
 10682              		.loc 1 4545 3 is_stmt 1 view .LVU3625
4549:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 10683              		.loc 1 4549 3 view .LVU3626
4549:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 10684              		.loc 1 4549 6 is_stmt 0 view .LVU3627
 10685 0026 0446     		mov	r4, r0
 10686 0028 20B9     		cbnz	r0, .L811
4549:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 10687              		.loc 1 4549 21 is_stmt 1 discriminator 1 view .LVU3628
4549:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 10688              		.loc 1 4549 27 is_stmt 0 discriminator 1 view .LVU3629
 10689 002a 0221     		movs	r1, #2
 10690 002c 11A8     		add	r0, sp, #68
 10691              	.LVL1233:
4549:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 10692              		.loc 1 4549 27 discriminator 1 view .LVU3630
 10693 002e FFF7FEFF 		bl	chk_lock
 10694              	.LVL1234:
 10695 0032 0446     		mov	r4, r0
 10696              	.LVL1235:
 10697              	.L811:
4551:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {
 10698              		.loc 1 4551 3 is_stmt 1 view .LVU3631
4551:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {
 10699              		.loc 1 4551 6 is_stmt 0 view .LVU3632
 10700 0034 002C     		cmp	r4, #0
 10701 0036 EFD1     		bne	.L810
4552:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;		/* Cannot remove the origin directory */
 10702              		.loc 1 4552 4 is_stmt 1 view .LVU3633
4552:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;		/* Cannot remove the origin directory */
 10703              		.loc 1 4552 8 is_stmt 0 view .LVU3634
 10704 0038 9DF97330 		ldrsb	r3, [sp, #115]
4552:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;		/* Cannot remove the origin directory */
 10705              		.loc 1 4552 7 view .LVU3635
 10706 003c 002B     		cmp	r3, #0
 10707 003e 1EDB     		blt	.L815
4555:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;		/* Cannot remove R/O object */
 10708              		.loc 1 4555 5 is_stmt 1 view .LVU3636
4555:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;		/* Cannot remove R/O object */
 10709              		.loc 1 4555 15 is_stmt 0 view .LVU3637
 10710 0040 9DF84A60 		ldrb	r6, [sp, #74]	@ zero_extendqisi2
4555:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;		/* Cannot remove R/O object */
 10711              		.loc 1 4555 8 view .LVU3638
 10712 0044 16F0010F 		tst	r6, #1
 10713 0048 2FD1     		bne	.L816
4559:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 10714              		.loc 1 4559 4 is_stmt 1 view .LVU3639
4569:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10715              		.loc 1 4569 6 view .LVU3640
4569:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10716              		.loc 1 4569 14 is_stmt 0 view .LVU3641
 10717 004a 039F     		ldr	r7, [sp, #12]
 10718 004c 1999     		ldr	r1, [sp, #100]
ARM GAS  /tmp/ccBfkcjf.s 			page 349


 10719 004e 3846     		mov	r0, r7
 10720 0050 FFF7FEFF 		bl	ld_clust
 10721              	.LVL1236:
 10722 0054 0546     		mov	r5, r0
 10723              	.LVL1237:
4571:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
 10724              		.loc 1 4571 5 is_stmt 1 view .LVU3642
4571:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
 10725              		.loc 1 4571 8 is_stmt 0 view .LVU3643
 10726 0056 16F0100F 		tst	r6, #16
 10727 005a 12D0     		beq	.L812
4578:Middlewares/Third_Party/FatFs/src/ff.c **** 						sdj.obj.sclust = dclst;
 10728              		.loc 1 4578 7 is_stmt 1 view .LVU3644
4578:Middlewares/Third_Party/FatFs/src/ff.c **** 						sdj.obj.sclust = dclst;
 10729              		.loc 1 4578 18 is_stmt 0 view .LVU3645
 10730 005c 0497     		str	r7, [sp, #16]
4579:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 10731              		.loc 1 4579 7 is_stmt 1 view .LVU3646
4579:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 10732              		.loc 1 4579 22 is_stmt 0 view .LVU3647
 10733 005e 0690     		str	r0, [sp, #24]
4586:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
 10734              		.loc 1 4586 7 is_stmt 1 view .LVU3648
4586:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
 10735              		.loc 1 4586 13 is_stmt 0 view .LVU3649
 10736 0060 0021     		movs	r1, #0
 10737 0062 04A8     		add	r0, sp, #16
 10738              	.LVL1238:
4586:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
 10739              		.loc 1 4586 13 view .LVU3650
 10740 0064 FFF7FEFF 		bl	dir_sdi
 10741              	.LVL1239:
4587:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = dir_read(&sdj, 0);			/* Read an item */
 10742              		.loc 1 4587 7 is_stmt 1 view .LVU3651
4587:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = dir_read(&sdj, 0);			/* Read an item */
 10743              		.loc 1 4587 10 is_stmt 0 view .LVU3652
 10744 0068 0446     		mov	r4, r0
 10745 006a 50B9     		cbnz	r0, .L812
4588:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK) res = FR_DENIED;	/* Not empty? */
 10746              		.loc 1 4588 8 is_stmt 1 view .LVU3653
4588:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK) res = FR_DENIED;	/* Not empty? */
 10747              		.loc 1 4588 14 is_stmt 0 view .LVU3654
 10748 006c 0021     		movs	r1, #0
 10749 006e 04A8     		add	r0, sp, #16
 10750              	.LVL1240:
4588:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK) res = FR_DENIED;	/* Not empty? */
 10751              		.loc 1 4588 14 view .LVU3655
 10752 0070 FFF7FEFF 		bl	dir_read
 10753              	.LVL1241:
4589:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_NO_FILE) res = FR_OK;	/* Empty? */
 10754              		.loc 1 4589 8 is_stmt 1 view .LVU3656
4589:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_NO_FILE) res = FR_OK;	/* Empty? */
 10755              		.loc 1 4589 11 is_stmt 0 view .LVU3657
 10756 0074 0446     		mov	r4, r0
 10757 0076 D8B1     		cbz	r0, .L817
4590:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 10758              		.loc 1 4590 8 is_stmt 1 view .LVU3658
ARM GAS  /tmp/ccBfkcjf.s 			page 350


4590:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 10759              		.loc 1 4590 11 is_stmt 0 view .LVU3659
 10760 0078 0428     		cmp	r0, #4
 10761 007a 02D1     		bne	.L812
 10762 007c 03E0     		b	.L813
 10763              	.LVL1242:
 10764              	.L815:
4531:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 10765              		.loc 1 4531 8 view .LVU3660
 10766 007e 0025     		movs	r5, #0
4553:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 10767              		.loc 1 4553 9 view .LVU3661
 10768 0080 0624     		movs	r4, #6
 10769              	.LVL1243:
 10770              	.L812:
4595:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&dj);			/* Remove the directory entry */
 10771              		.loc 1 4595 4 is_stmt 1 view .LVU3662
4595:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&dj);			/* Remove the directory entry */
 10772              		.loc 1 4595 7 is_stmt 0 view .LVU3663
 10773 0082 002C     		cmp	r4, #0
 10774 0084 C8D1     		bne	.L810
 10775              	.LVL1244:
 10776              	.L813:
4596:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && dclst) {	/* Remove the cluster chain if exist */
 10777              		.loc 1 4596 5 is_stmt 1 view .LVU3664
4596:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && dclst) {	/* Remove the cluster chain if exist */
 10778              		.loc 1 4596 11 is_stmt 0 view .LVU3665
 10779 0086 11A8     		add	r0, sp, #68
 10780 0088 FFF7FEFF 		bl	dir_remove
 10781              	.LVL1245:
4597:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 10782              		.loc 1 4597 5 is_stmt 1 view .LVU3666
4597:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 10783              		.loc 1 4597 13 is_stmt 0 view .LVU3667
 10784 008c 0446     		mov	r4, r0
4597:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 10785              		.loc 1 4597 22 view .LVU3668
 10786 008e B0FA80F0 		clz	r0, r0
 10787              	.LVL1246:
4597:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 10788              		.loc 1 4597 22 view .LVU3669
 10789 0092 4009     		lsrs	r0, r0, #5
 10790 0094 002D     		cmp	r5, #0
 10791 0096 08BF     		it	eq
 10792 0098 0020     		moveq	r0, #0
4597:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 10793              		.loc 1 4597 8 view .LVU3670
 10794 009a 58B9     		cbnz	r0, .L820
 10795              	.L814:
 10796              	.LVL1247:
4604:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10797              		.loc 1 4604 5 is_stmt 1 view .LVU3671
4604:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10798              		.loc 1 4604 8 is_stmt 0 view .LVU3672
 10799 009c 002C     		cmp	r4, #0
 10800 009e BBD1     		bne	.L810
4604:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
ARM GAS  /tmp/ccBfkcjf.s 			page 351


 10801              		.loc 1 4604 23 is_stmt 1 discriminator 1 view .LVU3673
4604:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10802              		.loc 1 4604 29 is_stmt 0 discriminator 1 view .LVU3674
 10803 00a0 0398     		ldr	r0, [sp, #12]
 10804 00a2 FFF7FEFF 		bl	sync_fs
 10805              	.LVL1248:
 10806 00a6 0446     		mov	r4, r0
 10807              	.LVL1249:
4604:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10808              		.loc 1 4604 29 discriminator 1 view .LVU3675
 10809 00a8 B6E7     		b	.L810
 10810              	.LVL1250:
 10811              	.L816:
4531:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 10812              		.loc 1 4531 8 view .LVU3676
 10813 00aa 0025     		movs	r5, #0
4556:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10814              		.loc 1 4556 10 view .LVU3677
 10815 00ac 0724     		movs	r4, #7
 10816              	.LVL1251:
4556:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10817              		.loc 1 4556 10 view .LVU3678
 10818 00ae E8E7     		b	.L812
 10819              	.LVL1252:
 10820              	.L817:
4589:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_NO_FILE) res = FR_OK;	/* Empty? */
 10821              		.loc 1 4589 30 view .LVU3679
 10822 00b0 0724     		movs	r4, #7
 10823 00b2 E6E7     		b	.L812
 10824              	.LVL1253:
 10825              	.L820:
4601:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 10826              		.loc 1 4601 6 is_stmt 1 view .LVU3680
4601:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 10827              		.loc 1 4601 12 is_stmt 0 view .LVU3681
 10828 00b4 0022     		movs	r2, #0
 10829 00b6 2946     		mov	r1, r5
 10830 00b8 11A8     		add	r0, sp, #68
 10831 00ba FFF7FEFF 		bl	remove_chain
 10832              	.LVL1254:
 10833 00be 0446     		mov	r4, r0
 10834              	.LVL1255:
4601:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 10835              		.loc 1 4601 12 view .LVU3682
 10836 00c0 ECE7     		b	.L814
 10837              		.cfi_endproc
 10838              	.LFE406:
 10840              		.section	.text.f_mkdir,"ax",%progbits
 10841              		.align	1
 10842              		.global	f_mkdir
 10843              		.syntax unified
 10844              		.thumb
 10845              		.thumb_func
 10846              		.fpu fpv5-d16
 10848              	f_mkdir:
 10849              	.LVL1256:
 10850              	.LFB407:
ARM GAS  /tmp/ccBfkcjf.s 			page 352


4623:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 10851              		.loc 1 4623 1 is_stmt 1 view -0
 10852              		.cfi_startproc
 10853              		@ args = 0, pretend = 0, frame = 64
 10854              		@ frame_needed = 0, uses_anonymous_args = 0
4623:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 10855              		.loc 1 4623 1 is_stmt 0 view .LVU3684
 10856 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 10857              	.LCFI115:
 10858              		.cfi_def_cfa_offset 36
 10859              		.cfi_offset 4, -36
 10860              		.cfi_offset 5, -32
 10861              		.cfi_offset 6, -28
 10862              		.cfi_offset 7, -24
 10863              		.cfi_offset 8, -20
 10864              		.cfi_offset 9, -16
 10865              		.cfi_offset 10, -12
 10866              		.cfi_offset 11, -8
 10867              		.cfi_offset 14, -4
 10868 0004 91B0     		sub	sp, sp, #68
 10869              	.LCFI116:
 10870              		.cfi_def_cfa_offset 104
 10871 0006 0190     		str	r0, [sp, #4]
4624:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
 10872              		.loc 1 4624 2 is_stmt 1 view .LVU3685
4625:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 10873              		.loc 1 4625 2 view .LVU3686
4626:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
 10874              		.loc 1 4626 2 view .LVU3687
4627:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n;
 10875              		.loc 1 4627 2 view .LVU3688
4628:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dsc, dcl, pcl, tm;
 10876              		.loc 1 4628 2 view .LVU3689
4629:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
 10877              		.loc 1 4629 2 view .LVU3690
4634:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
 10878              		.loc 1 4634 2 view .LVU3691
4634:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
 10879              		.loc 1 4634 8 is_stmt 0 view .LVU3692
 10880 0008 0222     		movs	r2, #2
 10881 000a 02A9     		add	r1, sp, #8
 10882 000c 01A8     		add	r0, sp, #4
 10883              	.LVL1257:
4634:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
 10884              		.loc 1 4634 8 view .LVU3693
 10885 000e FFF7FEFF 		bl	find_volume
 10886              	.LVL1258:
4635:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 10887              		.loc 1 4635 2 is_stmt 1 view .LVU3694
4635:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 10888              		.loc 1 4635 12 is_stmt 0 view .LVU3695
 10889 0012 029B     		ldr	r3, [sp, #8]
 10890 0014 0393     		str	r3, [sp, #12]
4636:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 10891              		.loc 1 4636 2 is_stmt 1 view .LVU3696
4636:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 10892              		.loc 1 4636 5 is_stmt 0 view .LVU3697
ARM GAS  /tmp/ccBfkcjf.s 			page 353


 10893 0016 0446     		mov	r4, r0
 10894 0018 18B1     		cbz	r0, .L839
 10895              	.LVL1259:
 10896              	.L822:
4704:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10897              		.loc 1 4704 16 is_stmt 1 view .LVU3698
4707:Middlewares/Third_Party/FatFs/src/ff.c **** }
 10898              		.loc 1 4707 2 view .LVU3699
4708:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10899              		.loc 1 4708 1 is_stmt 0 view .LVU3700
 10900 001a 2046     		mov	r0, r4
 10901 001c 11B0     		add	sp, sp, #68
 10902              	.LCFI117:
 10903              		.cfi_remember_state
 10904              		.cfi_def_cfa_offset 36
 10905              		@ sp needed
 10906 001e BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 10907              	.LVL1260:
 10908              	.L839:
 10909              	.LCFI118:
 10910              		.cfi_restore_state
4637:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);			/* Follow the file path */
 10911              		.loc 1 4637 18 is_stmt 1 view .LVU3701
4638:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Any object with same name is already existing */
 10912              		.loc 1 4638 3 view .LVU3702
4638:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Any object with same name is already existing */
 10913              		.loc 1 4638 9 is_stmt 0 view .LVU3703
 10914 0022 0199     		ldr	r1, [sp, #4]
 10915 0024 03A8     		add	r0, sp, #12
 10916              	.LVL1261:
4638:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Any object with same name is already existing */
 10917              		.loc 1 4638 9 view .LVU3704
 10918 0026 FFF7FEFF 		bl	follow_path
 10919              	.LVL1262:
4639:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_NO_FILE && (dj.fn[NSFLAG] & NS_DOT)) {
 10920              		.loc 1 4639 3 is_stmt 1 view .LVU3705
4639:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_NO_FILE && (dj.fn[NSFLAG] & NS_DOT)) {
 10921              		.loc 1 4639 6 is_stmt 0 view .LVU3706
 10922 002a 0028     		cmp	r0, #0
 10923 002c 00F09A80 		beq	.L832
4640:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
 10924              		.loc 1 4640 3 is_stmt 1 view .LVU3707
4643:Middlewares/Third_Party/FatFs/src/ff.c **** 			dcl = create_chain(&dj.obj, 0);		/* Allocate a cluster for the new directory table */
 10925              		.loc 1 4643 3 view .LVU3708
4643:Middlewares/Third_Party/FatFs/src/ff.c **** 			dcl = create_chain(&dj.obj, 0);		/* Allocate a cluster for the new directory table */
 10926              		.loc 1 4643 6 is_stmt 0 view .LVU3709
 10927 0030 0428     		cmp	r0, #4
 10928 0032 01D0     		beq	.L840
4638:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Any object with same name is already existing */
 10929              		.loc 1 4638 9 view .LVU3710
 10930 0034 0446     		mov	r4, r0
 10931 0036 F0E7     		b	.L822
 10932              	.L840:
4644:Middlewares/Third_Party/FatFs/src/ff.c **** 			dj.obj.objsize = (DWORD)fs->csize * SS(fs);
 10933              		.loc 1 4644 4 is_stmt 1 view .LVU3711
4644:Middlewares/Third_Party/FatFs/src/ff.c **** 			dj.obj.objsize = (DWORD)fs->csize * SS(fs);
 10934              		.loc 1 4644 10 is_stmt 0 view .LVU3712
ARM GAS  /tmp/ccBfkcjf.s 			page 354


 10935 0038 0021     		movs	r1, #0
 10936 003a 03A8     		add	r0, sp, #12
 10937              	.LVL1263:
4644:Middlewares/Third_Party/FatFs/src/ff.c **** 			dj.obj.objsize = (DWORD)fs->csize * SS(fs);
 10938              		.loc 1 4644 10 view .LVU3713
 10939 003c FFF7FEFF 		bl	create_chain
 10940              	.LVL1264:
4645:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 10941              		.loc 1 4645 4 is_stmt 1 view .LVU3714
4645:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 10942              		.loc 1 4645 30 is_stmt 0 view .LVU3715
 10943 0040 029A     		ldr	r2, [sp, #8]
 10944 0042 5389     		ldrh	r3, [r2, #10]
4645:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 10945              		.loc 1 4645 40 view .LVU3716
 10946 0044 9189     		ldrh	r1, [r2, #12]
4645:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 10947              		.loc 1 4645 38 view .LVU3717
 10948 0046 01FB03F3 		mul	r3, r1, r3
4645:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 10949              		.loc 1 4645 19 view .LVU3718
 10950 004a 0693     		str	r3, [sp, #24]
4646:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0) res = FR_DENIED;		/* No space to allocate a new cluster */
 10951              		.loc 1 4646 4 is_stmt 1 view .LVU3719
 10952              	.LVL1265:
4647:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 1) res = FR_INT_ERR;
 10953              		.loc 1 4647 4 view .LVU3720
4647:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 1) res = FR_INT_ERR;
 10954              		.loc 1 4647 7 is_stmt 0 view .LVU3721
 10955 004c 8046     		mov	r8, r0
 10956 004e 00B9     		cbnz	r0, .L823
4647:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 1) res = FR_INT_ERR;
 10957              		.loc 1 4647 22 view .LVU3722
 10958 0050 0724     		movs	r4, #7
 10959              	.L823:
 10960              	.LVL1266:
4648:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;
 10961              		.loc 1 4648 4 is_stmt 1 view .LVU3723
4648:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;
 10962              		.loc 1 4648 7 is_stmt 0 view .LVU3724
 10963 0052 B8F1010F 		cmp	r8, #1
 10964 0056 20D0     		beq	.L841
 10965              	.LVL1267:
 10966              	.L824:
4649:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) res = sync_window(fs);	/* Flush FAT */
 10967              		.loc 1 4649 4 is_stmt 1 view .LVU3725
4649:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) res = sync_window(fs);	/* Flush FAT */
 10968              		.loc 1 4649 7 is_stmt 0 view .LVU3726
 10969 0058 B8F1FF3F 		cmp	r8, #-1
 10970 005c 24D0     		beq	.L836
4650:Middlewares/Third_Party/FatFs/src/ff.c **** 			tm = GET_FATTIME();
 10971              		.loc 1 4650 4 is_stmt 1 view .LVU3727
4650:Middlewares/Third_Party/FatFs/src/ff.c **** 			tm = GET_FATTIME();
 10972              		.loc 1 4650 7 is_stmt 0 view .LVU3728
 10973 005e F4B1     		cbz	r4, .L842
 10974              	.LVL1268:
 10975              	.L825:
ARM GAS  /tmp/ccBfkcjf.s 			page 355


4651:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Initialize the new directory table */
 10976              		.loc 1 4651 4 is_stmt 1 view .LVU3729
4651:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Initialize the new directory table */
 10977              		.loc 1 4651 9 is_stmt 0 view .LVU3730
 10978 0060 FFF7FEFF 		bl	get_fattime
 10979              	.LVL1269:
 10980 0064 8246     		mov	r10, r0
 10981              	.LVL1270:
4652:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fs, dcl);
 10982              		.loc 1 4652 4 is_stmt 1 view .LVU3731
4652:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fs, dcl);
 10983              		.loc 1 4652 7 is_stmt 0 view .LVU3732
 10984 0066 0CB3     		cbz	r4, .L843
 10985              	.LVL1271:
 10986              	.L826:
4675:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_register(&dj);	/* Register the object to the directoy */
 10987              		.loc 1 4675 4 is_stmt 1 view .LVU3733
4675:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_register(&dj);	/* Register the object to the directoy */
 10988              		.loc 1 4675 7 is_stmt 0 view .LVU3734
 10989 0068 002C     		cmp	r4, #0
 10990 006a 70D0     		beq	.L844
 10991              	.L830:
4678:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 10992              		.loc 1 4678 4 is_stmt 1 view .LVU3735
4678:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 10993              		.loc 1 4678 7 is_stmt 0 view .LVU3736
 10994 006c 002C     		cmp	r4, #0
 10995 006e 73D1     		bne	.L831
4691:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);	/* Created time */
 10996              		.loc 1 4691 6 is_stmt 1 view .LVU3737
4691:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);	/* Created time */
 10997              		.loc 1 4691 10 is_stmt 0 view .LVU3738
 10998 0070 0B9C     		ldr	r4, [sp, #44]
 10999              	.LVL1272:
4692:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir, dcl);				/* Table start cluster */
 11000              		.loc 1 4692 6 is_stmt 1 view .LVU3739
 11001 0072 5146     		mov	r1, r10
 11002 0074 04F11600 		add	r0, r4, #22
 11003 0078 FFF7FEFF 		bl	st_dword
 11004              	.LVL1273:
4693:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] = AM_DIR;				/* Attribute */
 11005              		.loc 1 4693 6 view .LVU3740
 11006 007c 4246     		mov	r2, r8
 11007 007e 2146     		mov	r1, r4
 11008 0080 0298     		ldr	r0, [sp, #8]
 11009 0082 FFF7FEFF 		bl	st_clust
 11010              	.LVL1274:
4694:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 11011              		.loc 1 4694 6 view .LVU3741
4694:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 11012              		.loc 1 4694 20 is_stmt 0 view .LVU3742
 11013 0086 1023     		movs	r3, #16
 11014 0088 E372     		strb	r3, [r4, #11]
4695:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11015              		.loc 1 4695 6 is_stmt 1 view .LVU3743
4695:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11016              		.loc 1 4695 16 is_stmt 0 view .LVU3744
ARM GAS  /tmp/ccBfkcjf.s 			page 356


 11017 008a 029B     		ldr	r3, [sp, #8]
 11018 008c 0122     		movs	r2, #1
 11019 008e DA70     		strb	r2, [r3, #3]
4697:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);
 11020              		.loc 1 4697 5 is_stmt 1 view .LVU3745
4698:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11021              		.loc 1 4698 6 view .LVU3746
4698:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11022              		.loc 1 4698 12 is_stmt 0 view .LVU3747
 11023 0090 0298     		ldr	r0, [sp, #8]
 11024 0092 FFF7FEFF 		bl	sync_fs
 11025              	.LVL1275:
 11026 0096 0446     		mov	r4, r0
 11027              	.LVL1276:
4698:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11028              		.loc 1 4698 12 view .LVU3748
 11029 0098 BFE7     		b	.L822
 11030              	.LVL1277:
 11031              	.L841:
4648:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;
 11032              		.loc 1 4648 22 view .LVU3749
 11033 009a 0224     		movs	r4, #2
 11034              	.LVL1278:
4648:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;
 11035              		.loc 1 4648 22 view .LVU3750
 11036 009c DCE7     		b	.L824
 11037              	.LVL1279:
 11038              	.L842:
4650:Middlewares/Third_Party/FatFs/src/ff.c **** 			tm = GET_FATTIME();
 11039              		.loc 1 4650 22 is_stmt 1 discriminator 1 view .LVU3751
4650:Middlewares/Third_Party/FatFs/src/ff.c **** 			tm = GET_FATTIME();
 11040              		.loc 1 4650 28 is_stmt 0 discriminator 1 view .LVU3752
 11041 009e 1046     		mov	r0, r2
 11042              	.LVL1280:
4650:Middlewares/Third_Party/FatFs/src/ff.c **** 			tm = GET_FATTIME();
 11043              		.loc 1 4650 28 discriminator 1 view .LVU3753
 11044 00a0 FFF7FEFF 		bl	sync_window
 11045              	.LVL1281:
 11046 00a4 0446     		mov	r4, r0
 11047              	.LVL1282:
4650:Middlewares/Third_Party/FatFs/src/ff.c **** 			tm = GET_FATTIME();
 11048              		.loc 1 4650 28 discriminator 1 view .LVU3754
 11049 00a6 DBE7     		b	.L825
 11050              	.LVL1283:
 11051              	.L836:
4649:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) res = sync_window(fs);	/* Flush FAT */
 11052              		.loc 1 4649 31 view .LVU3755
 11053 00a8 0124     		movs	r4, #1
 11054              	.LVL1284:
4649:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) res = sync_window(fs);	/* Flush FAT */
 11055              		.loc 1 4649 31 view .LVU3756
 11056 00aa D9E7     		b	.L825
 11057              	.LVL1285:
 11058              	.L843:
4653:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = fs->win;
 11059              		.loc 1 4653 5 is_stmt 1 view .LVU3757
4653:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = fs->win;
ARM GAS  /tmp/ccBfkcjf.s 			page 357


 11060              		.loc 1 4653 11 is_stmt 0 view .LVU3758
 11061 00ac 029E     		ldr	r6, [sp, #8]
 11062 00ae 4146     		mov	r1, r8
 11063 00b0 3046     		mov	r0, r6
 11064              	.LVL1286:
4653:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = fs->win;
 11065              		.loc 1 4653 11 view .LVU3759
 11066 00b2 FFF7FEFF 		bl	clust2sect
 11067              	.LVL1287:
 11068 00b6 0546     		mov	r5, r0
 11069              	.LVL1288:
4654:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(dir, 0, SS(fs));
 11070              		.loc 1 4654 5 is_stmt 1 view .LVU3760
4654:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(dir, 0, SS(fs));
 11071              		.loc 1 4654 9 is_stmt 0 view .LVU3761
 11072 00b8 06F13809 		add	r9, r6, #56
 11073              	.LVL1289:
4655:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 11074              		.loc 1 4655 5 is_stmt 1 view .LVU3762
 11075 00bc B289     		ldrh	r2, [r6, #12]
 11076 00be 0021     		movs	r1, #0
 11077 00c0 4846     		mov	r0, r9
 11078              	.LVL1290:
4655:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 11079              		.loc 1 4655 5 is_stmt 0 view .LVU3763
 11080 00c2 FFF7FEFF 		bl	mem_set
 11081              	.LVL1291:
4656:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dir + DIR_Name, ' ', 11);	/* Create "." entry */
 11082              		.loc 1 4656 5 is_stmt 1 view .LVU3764
4657:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Name] = '.';
 11083              		.loc 1 4657 6 view .LVU3765
 11084 00c6 0B22     		movs	r2, #11
 11085 00c8 2021     		movs	r1, #32
 11086 00ca 4846     		mov	r0, r9
 11087 00cc FFF7FEFF 		bl	mem_set
 11088              	.LVL1292:
4658:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] = AM_DIR;
 11089              		.loc 1 4658 6 view .LVU3766
4658:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] = AM_DIR;
 11090              		.loc 1 4658 20 is_stmt 0 view .LVU3767
 11091 00d0 4FF02E0B 		mov	fp, #46
 11092 00d4 86F838B0 		strb	fp, [r6, #56]
4659:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);
 11093              		.loc 1 4659 6 is_stmt 1 view .LVU3768
4659:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);
 11094              		.loc 1 4659 20 is_stmt 0 view .LVU3769
 11095 00d8 1023     		movs	r3, #16
 11096 00da 86F84330 		strb	r3, [r6, #67]
4660:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir, dcl);
 11097              		.loc 1 4660 6 is_stmt 1 view .LVU3770
 11098 00de 5146     		mov	r1, r10
 11099 00e0 06F14E00 		add	r0, r6, #78
 11100 00e4 FFF7FEFF 		bl	st_dword
 11101              	.LVL1293:
4661:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(dir + SZDIRE, dir, SZDIRE); 	/* Create ".." entry */
 11102              		.loc 1 4661 6 view .LVU3771
 11103 00e8 4246     		mov	r2, r8
ARM GAS  /tmp/ccBfkcjf.s 			page 358


 11104 00ea 4946     		mov	r1, r9
 11105 00ec 0298     		ldr	r0, [sp, #8]
 11106 00ee FFF7FEFF 		bl	st_clust
 11107              	.LVL1294:
4662:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[SZDIRE + 1] = '.'; pcl = dj.obj.sclust;
 11108              		.loc 1 4662 6 view .LVU3772
4662:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[SZDIRE + 1] = '.'; pcl = dj.obj.sclust;
 11109              		.loc 1 4662 18 is_stmt 0 view .LVU3773
 11110 00f2 06F15807 		add	r7, r6, #88
4662:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[SZDIRE + 1] = '.'; pcl = dj.obj.sclust;
 11111              		.loc 1 4662 6 view .LVU3774
 11112 00f6 2022     		movs	r2, #32
 11113 00f8 4946     		mov	r1, r9
 11114 00fa 3846     		mov	r0, r7
 11115 00fc FFF7FEFF 		bl	mem_cpy
 11116              	.LVL1295:
4663:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fs->fs_type == FS_FAT32 && pcl == fs->dirbase) pcl = 0;
 11117              		.loc 1 4663 6 is_stmt 1 view .LVU3775
4663:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fs->fs_type == FS_FAT32 && pcl == fs->dirbase) pcl = 0;
 11118              		.loc 1 4663 22 is_stmt 0 view .LVU3776
 11119 0100 86F859B0 		strb	fp, [r6, #89]
4663:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fs->fs_type == FS_FAT32 && pcl == fs->dirbase) pcl = 0;
 11120              		.loc 1 4663 29 is_stmt 1 view .LVU3777
4663:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fs->fs_type == FS_FAT32 && pcl == fs->dirbase) pcl = 0;
 11121              		.loc 1 4663 33 is_stmt 0 view .LVU3778
 11122 0104 059A     		ldr	r2, [sp, #20]
 11123              	.LVL1296:
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir + SZDIRE, pcl);
 11124              		.loc 1 4664 6 is_stmt 1 view .LVU3779
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir + SZDIRE, pcl);
 11125              		.loc 1 4664 12 is_stmt 0 view .LVU3780
 11126 0106 0298     		ldr	r0, [sp, #8]
 11127 0108 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir + SZDIRE, pcl);
 11128              		.loc 1 4664 9 view .LVU3781
 11129 010a 032B     		cmp	r3, #3
 11130 010c 1AD0     		beq	.L845
 11131              	.LVL1297:
 11132              	.L827:
4665:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11133              		.loc 1 4665 6 is_stmt 1 view .LVU3782
 11134 010e 3946     		mov	r1, r7
 11135 0110 FFF7FEFF 		bl	st_clust
 11136              	.LVL1298:
4667:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->winsect = dsc++;
 11137              		.loc 1 4667 5 view .LVU3783
4667:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->winsect = dsc++;
 11138              		.loc 1 4667 16 is_stmt 0 view .LVU3784
 11139 0114 029B     		ldr	r3, [sp, #8]
 11140 0116 5E89     		ldrh	r6, [r3, #10]
 11141              	.LVL1299:
 11142              	.L828:
4667:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->winsect = dsc++;
 11143              		.loc 1 4667 25 is_stmt 1 discriminator 1 view .LVU3785
4667:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->winsect = dsc++;
 11144              		.loc 1 4667 5 is_stmt 0 discriminator 1 view .LVU3786
 11145 0118 002E     		cmp	r6, #0
ARM GAS  /tmp/ccBfkcjf.s 			page 359


 11146 011a A5D0     		beq	.L826
4668:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 11147              		.loc 1 4668 6 is_stmt 1 view .LVU3787
4668:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 11148              		.loc 1 4668 23 is_stmt 0 view .LVU3788
 11149 011c 6F1C     		adds	r7, r5, #1
 11150              	.LVL1300:
4668:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 11151              		.loc 1 4668 8 view .LVU3789
 11152 011e 029B     		ldr	r3, [sp, #8]
4668:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 11153              		.loc 1 4668 18 view .LVU3790
 11154 0120 5D63     		str	r5, [r3, #52]
4669:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_window(fs);
 11155              		.loc 1 4669 6 is_stmt 1 view .LVU3791
4669:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_window(fs);
 11156              		.loc 1 4669 16 is_stmt 0 view .LVU3792
 11157 0122 0122     		movs	r2, #1
 11158 0124 DA70     		strb	r2, [r3, #3]
4670:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
 11159              		.loc 1 4670 6 is_stmt 1 view .LVU3793
4670:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
 11160              		.loc 1 4670 12 is_stmt 0 view .LVU3794
 11161 0126 0298     		ldr	r0, [sp, #8]
 11162 0128 FFF7FEFF 		bl	sync_window
 11163              	.LVL1301:
4671:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dir, 0, SS(fs));
 11164              		.loc 1 4671 6 is_stmt 1 view .LVU3795
4671:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dir, 0, SS(fs));
 11165              		.loc 1 4671 9 is_stmt 0 view .LVU3796
 11166 012c 0446     		mov	r4, r0
 11167 012e 0028     		cmp	r0, #0
 11168 0130 9AD1     		bne	.L826
4672:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11169              		.loc 1 4672 6 is_stmt 1 discriminator 2 view .LVU3797
 11170 0132 029B     		ldr	r3, [sp, #8]
 11171 0134 9A89     		ldrh	r2, [r3, #12]
 11172 0136 0021     		movs	r1, #0
 11173 0138 4846     		mov	r0, r9
 11174              	.LVL1302:
4672:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11175              		.loc 1 4672 6 is_stmt 0 discriminator 2 view .LVU3798
 11176 013a FFF7FEFF 		bl	mem_set
 11177              	.LVL1303:
4667:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->winsect = dsc++;
 11178              		.loc 1 4667 28 is_stmt 1 discriminator 2 view .LVU3799
4667:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->winsect = dsc++;
 11179              		.loc 1 4667 29 is_stmt 0 discriminator 2 view .LVU3800
 11180 013e 013E     		subs	r6, r6, #1
 11181              	.LVL1304:
4668:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 11182              		.loc 1 4668 23 discriminator 2 view .LVU3801
 11183 0140 3D46     		mov	r5, r7
 11184 0142 E9E7     		b	.L828
 11185              	.LVL1305:
 11186              	.L845:
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir + SZDIRE, pcl);
ARM GAS  /tmp/ccBfkcjf.s 			page 360


 11187              		.loc 1 4664 46 discriminator 1 view .LVU3802
 11188 0144 C36A     		ldr	r3, [r0, #44]
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir + SZDIRE, pcl);
 11189              		.loc 1 4664 34 discriminator 1 view .LVU3803
 11190 0146 9342     		cmp	r3, r2
 11191 0148 E1D1     		bne	.L827
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir + SZDIRE, pcl);
 11192              		.loc 1 4664 61 view .LVU3804
 11193 014a 0022     		movs	r2, #0
 11194              	.LVL1306:
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir + SZDIRE, pcl);
 11195              		.loc 1 4664 61 view .LVU3805
 11196 014c DFE7     		b	.L827
 11197              	.LVL1307:
 11198              	.L844:
4676:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11199              		.loc 1 4676 5 is_stmt 1 view .LVU3806
4676:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11200              		.loc 1 4676 11 is_stmt 0 view .LVU3807
 11201 014e 03A8     		add	r0, sp, #12
 11202 0150 FFF7FEFF 		bl	dir_register
 11203              	.LVL1308:
 11204 0154 0446     		mov	r4, r0
 11205              	.LVL1309:
4676:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11206              		.loc 1 4676 11 view .LVU3808
 11207 0156 89E7     		b	.L830
 11208              	.L831:
4701:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11209              		.loc 1 4701 5 is_stmt 1 view .LVU3809
 11210 0158 0022     		movs	r2, #0
 11211 015a 4146     		mov	r1, r8
 11212 015c 03A8     		add	r0, sp, #12
 11213 015e FFF7FEFF 		bl	remove_chain
 11214              	.LVL1310:
 11215 0162 5AE7     		b	.L822
 11216              	.LVL1311:
 11217              	.L832:
4639:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_NO_FILE && (dj.fn[NSFLAG] & NS_DOT)) {
 11218              		.loc 1 4639 25 is_stmt 0 view .LVU3810
 11219 0164 0824     		movs	r4, #8
 11220 0166 58E7     		b	.L822
 11221              		.cfi_endproc
 11222              	.LFE407:
 11224              		.section	.text.f_rename,"ax",%progbits
 11225              		.align	1
 11226              		.global	f_rename
 11227              		.syntax unified
 11228              		.thumb
 11229              		.thumb_func
 11230              		.fpu fpv5-d16
 11232              	f_rename:
 11233              	.LVL1312:
 11234              	.LFB408:
4721:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 11235              		.loc 1 4721 1 is_stmt 1 view -0
 11236              		.cfi_startproc
ARM GAS  /tmp/ccBfkcjf.s 			page 361


 11237              		@ args = 0, pretend = 0, frame = 144
 11238              		@ frame_needed = 0, uses_anonymous_args = 0
4721:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 11239              		.loc 1 4721 1 is_stmt 0 view .LVU3812
 11240 0000 30B5     		push	{r4, r5, lr}
 11241              	.LCFI119:
 11242              		.cfi_def_cfa_offset 12
 11243              		.cfi_offset 4, -12
 11244              		.cfi_offset 5, -8
 11245              		.cfi_offset 14, -4
 11246 0002 A5B0     		sub	sp, sp, #148
 11247              	.LCFI120:
 11248              		.cfi_def_cfa_offset 160
 11249 0004 0190     		str	r0, [sp, #4]
 11250 0006 0091     		str	r1, [sp]
4722:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR djo, djn;
 11251              		.loc 1 4722 2 is_stmt 1 view .LVU3813
4723:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 11252              		.loc 1 4723 2 view .LVU3814
4724:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE buf[_FS_EXFAT ? SZDIRE * 2 : 24], *dir;
 11253              		.loc 1 4724 2 view .LVU3815
4725:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dw;
 11254              		.loc 1 4725 2 view .LVU3816
4726:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
 11255              		.loc 1 4726 2 view .LVU3817
4730:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path_old, &fs, FA_WRITE);	/* Get logical drive of the old object */
 11256              		.loc 1 4730 2 view .LVU3818
 11257 0008 6846     		mov	r0, sp
 11258              	.LVL1313:
4730:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path_old, &fs, FA_WRITE);	/* Get logical drive of the old object */
 11259              		.loc 1 4730 2 is_stmt 0 view .LVU3819
 11260 000a FFF7FEFF 		bl	get_ldnumber
 11261              	.LVL1314:
4731:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 11262              		.loc 1 4731 2 is_stmt 1 view .LVU3820
4731:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 11263              		.loc 1 4731 8 is_stmt 0 view .LVU3821
 11264 000e 0222     		movs	r2, #2
 11265 0010 09A9     		add	r1, sp, #36
 11266 0012 01A8     		add	r0, sp, #4
 11267 0014 FFF7FEFF 		bl	find_volume
 11268              	.LVL1315:
4732:Middlewares/Third_Party/FatFs/src/ff.c **** 		djo.obj.fs = fs;
 11269              		.loc 1 4732 2 is_stmt 1 view .LVU3822
4732:Middlewares/Third_Party/FatFs/src/ff.c **** 		djo.obj.fs = fs;
 11270              		.loc 1 4732 5 is_stmt 0 view .LVU3823
 11271 0018 0446     		mov	r4, r0
 11272 001a 10B1     		cbz	r0, .L857
 11273              	.LVL1316:
 11274              	.L847:
4807:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 11275              		.loc 1 4807 16 is_stmt 1 view .LVU3824
4810:Middlewares/Third_Party/FatFs/src/ff.c **** }
 11276              		.loc 1 4810 2 view .LVU3825
4811:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11277              		.loc 1 4811 1 is_stmt 0 view .LVU3826
 11278 001c 2046     		mov	r0, r4
ARM GAS  /tmp/ccBfkcjf.s 			page 362


 11279 001e 25B0     		add	sp, sp, #148
 11280              	.LCFI121:
 11281              		.cfi_remember_state
 11282              		.cfi_def_cfa_offset 12
 11283              		@ sp needed
 11284 0020 30BD     		pop	{r4, r5, pc}
 11285              	.LVL1317:
 11286              	.L857:
 11287              	.LCFI122:
 11288              		.cfi_restore_state
4733:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 11289              		.loc 1 4733 3 is_stmt 1 view .LVU3827
4733:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 11290              		.loc 1 4733 14 is_stmt 0 view .LVU3828
 11291 0022 099B     		ldr	r3, [sp, #36]
 11292 0024 1793     		str	r3, [sp, #92]
4734:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&djo, path_old);		/* Check old object */
 11293              		.loc 1 4734 18 is_stmt 1 view .LVU3829
4735:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (djo.fn[NSFLAG] & (NS_DOT | NS_NONAME))) res = FR_INVALID_NAME;	/* Check vali
 11294              		.loc 1 4735 3 view .LVU3830
4735:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (djo.fn[NSFLAG] & (NS_DOT | NS_NONAME))) res = FR_INVALID_NAME;	/* Check vali
 11295              		.loc 1 4735 9 is_stmt 0 view .LVU3831
 11296 0026 0199     		ldr	r1, [sp, #4]
 11297 0028 17A8     		add	r0, sp, #92
 11298              	.LVL1318:
4735:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (djo.fn[NSFLAG] & (NS_DOT | NS_NONAME))) res = FR_INVALID_NAME;	/* Check vali
 11299              		.loc 1 4735 9 view .LVU3832
 11300 002a FFF7FEFF 		bl	follow_path
 11301              	.LVL1319:
4736:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 11302              		.loc 1 4736 3 is_stmt 1 view .LVU3833
4736:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 11303              		.loc 1 4736 6 is_stmt 0 view .LVU3834
 11304 002e 0446     		mov	r4, r0
 11305 0030 20B9     		cbnz	r0, .L848
4736:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 11306              		.loc 1 4736 30 discriminator 1 view .LVU3835
 11307 0032 9DF88B30 		ldrb	r3, [sp, #139]	@ zero_extendqisi2
4736:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 11308              		.loc 1 4736 20 discriminator 1 view .LVU3836
 11309 0036 13F0A00F 		tst	r3, #160
 11310 003a 1ED1     		bne	.L853
 11311              	.L848:
 11312              	.LVL1320:
4738:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = chk_lock(&djo, 2);
 11313              		.loc 1 4738 3 is_stmt 1 view .LVU3837
4738:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = chk_lock(&djo, 2);
 11314              		.loc 1 4738 6 is_stmt 0 view .LVU3838
 11315 003c 24B9     		cbnz	r4, .L849
4739:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 11316              		.loc 1 4739 4 is_stmt 1 view .LVU3839
4739:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 11317              		.loc 1 4739 10 is_stmt 0 view .LVU3840
 11318 003e 0221     		movs	r1, #2
 11319 0040 17A8     		add	r0, sp, #92
 11320 0042 FFF7FEFF 		bl	chk_lock
 11321              	.LVL1321:
ARM GAS  /tmp/ccBfkcjf.s 			page 363


 11322 0046 0446     		mov	r4, r0
 11323              	.LVL1322:
 11324              	.L849:
4742:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 11325              		.loc 1 4742 3 is_stmt 1 view .LVU3841
4742:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 11326              		.loc 1 4742 6 is_stmt 0 view .LVU3842
 11327 0048 002C     		cmp	r4, #0
 11328 004a E7D1     		bne	.L847
4769:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(&djn, &djo, sizeof (DIR));		/* Duplicate the directory object */
 11329              		.loc 1 4769 5 is_stmt 1 view .LVU3843
 11330 004c 1522     		movs	r2, #21
 11331 004e 1F99     		ldr	r1, [sp, #124]
 11332 0050 0B31     		adds	r1, r1, #11
 11333 0052 03A8     		add	r0, sp, #12
 11334 0054 FFF7FEFF 		bl	mem_cpy
 11335              	.LVL1323:
4770:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = follow_path(&djn, path_new);		/* Make sure if new object name is not in use */
 11336              		.loc 1 4770 5 view .LVU3844
 11337 0058 3422     		movs	r2, #52
 11338 005a 17A9     		add	r1, sp, #92
 11339 005c 0AA8     		add	r0, sp, #40
 11340 005e FFF7FEFF 		bl	mem_cpy
 11341              	.LVL1324:
4771:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {						/* Is new name already in use by any other object? */
 11342              		.loc 1 4771 5 view .LVU3845
4771:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {						/* Is new name already in use by any other object? */
 11343              		.loc 1 4771 11 is_stmt 0 view .LVU3846
 11344 0062 0099     		ldr	r1, [sp]
 11345 0064 0AA8     		add	r0, sp, #40
 11346 0066 FFF7FEFF 		bl	follow_path
 11347              	.LVL1325:
4772:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = (djn.obj.sclust == djo.obj.sclust && djn.dptr == djo.dptr) ? FR_NO_FILE : FR_EXIST;
 11348              		.loc 1 4772 5 is_stmt 1 view .LVU3847
4772:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = (djn.obj.sclust == djo.obj.sclust && djn.dptr == djo.dptr) ? FR_NO_FILE : FR_EXIST;
 11349              		.loc 1 4772 8 is_stmt 0 view .LVU3848
 11350 006a 0446     		mov	r4, r0
 11351 006c 68B9     		cbnz	r0, .L850
4773:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11352              		.loc 1 4773 6 is_stmt 1 view .LVU3849
4773:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11353              		.loc 1 4773 84 is_stmt 0 view .LVU3850
 11354 006e 0C9A     		ldr	r2, [sp, #48]
 11355 0070 199B     		ldr	r3, [sp, #100]
 11356 0072 9A42     		cmp	r2, r3
 11357 0074 03D0     		beq	.L858
 11358 0076 0824     		movs	r4, #8
 11359 0078 09E0     		b	.L851
 11360              	.L853:
4736:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 11361              		.loc 1 4736 68 view .LVU3851
 11362 007a 0624     		movs	r4, #6
 11363 007c E4E7     		b	.L849
 11364              	.L858:
4773:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11365              		.loc 1 4773 46 discriminator 1 view .LVU3852
 11366 007e 0F9A     		ldr	r2, [sp, #60]
ARM GAS  /tmp/ccBfkcjf.s 			page 364


 11367 0080 1C9B     		ldr	r3, [sp, #112]
 11368 0082 9A42     		cmp	r2, r3
 11369 0084 10D0     		beq	.L852
4773:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11370              		.loc 1 4773 84 view .LVU3853
 11371 0086 0824     		movs	r4, #8
 11372 0088 01E0     		b	.L851
 11373              	.L850:
4775:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&djn);			/* Register the new entry */
 11374              		.loc 1 4775 5 is_stmt 1 view .LVU3854
4775:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&djn);			/* Register the new entry */
 11375              		.loc 1 4775 8 is_stmt 0 view .LVU3855
 11376 008a 0428     		cmp	r0, #4
 11377 008c 0CD0     		beq	.L852
 11378              	.LVL1326:
 11379              	.L851:
4799:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&djo);		/* Remove old entry */
 11380              		.loc 1 4799 4 is_stmt 1 view .LVU3856
4799:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&djo);		/* Remove old entry */
 11381              		.loc 1 4799 7 is_stmt 0 view .LVU3857
 11382 008e 002C     		cmp	r4, #0
 11383 0090 C4D1     		bne	.L847
4800:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
 11384              		.loc 1 4800 5 is_stmt 1 view .LVU3858
4800:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
 11385              		.loc 1 4800 11 is_stmt 0 view .LVU3859
 11386 0092 17A8     		add	r0, sp, #92
 11387 0094 FFF7FEFF 		bl	dir_remove
 11388              	.LVL1327:
4801:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);
 11389              		.loc 1 4801 5 is_stmt 1 view .LVU3860
4801:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);
 11390              		.loc 1 4801 8 is_stmt 0 view .LVU3861
 11391 0098 0446     		mov	r4, r0
 11392 009a 0028     		cmp	r0, #0
 11393 009c BED1     		bne	.L847
4802:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11394              		.loc 1 4802 6 is_stmt 1 view .LVU3862
4802:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11395              		.loc 1 4802 12 is_stmt 0 view .LVU3863
 11396 009e 0998     		ldr	r0, [sp, #36]
 11397              	.LVL1328:
4802:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11398              		.loc 1 4802 12 view .LVU3864
 11399 00a0 FFF7FEFF 		bl	sync_fs
 11400              	.LVL1329:
 11401 00a4 0446     		mov	r4, r0
 11402              	.LVL1330:
4802:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11403              		.loc 1 4802 12 view .LVU3865
 11404 00a6 B9E7     		b	.L847
 11405              	.LVL1331:
 11406              	.L852:
4776:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
 11407              		.loc 1 4776 6 is_stmt 1 view .LVU3866
4776:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
 11408              		.loc 1 4776 12 is_stmt 0 view .LVU3867
ARM GAS  /tmp/ccBfkcjf.s 			page 365


 11409 00a8 0AA8     		add	r0, sp, #40
 11410 00aa FFF7FEFF 		bl	dir_register
 11411              	.LVL1332:
4777:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir = djn.dir;					/* Copy information about object except name */
 11412              		.loc 1 4777 6 is_stmt 1 view .LVU3868
4777:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir = djn.dir;					/* Copy information about object except name */
 11413              		.loc 1 4777 9 is_stmt 0 view .LVU3869
 11414 00ae 0446     		mov	r4, r0
 11415 00b0 0028     		cmp	r0, #0
 11416 00b2 ECD1     		bne	.L851
4778:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(dir + 13, buf + 2, 19);
 11417              		.loc 1 4778 7 is_stmt 1 view .LVU3870
4778:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(dir + 13, buf + 2, 19);
 11418              		.loc 1 4778 11 is_stmt 0 view .LVU3871
 11419 00b4 129D     		ldr	r5, [sp, #72]
 11420              	.LVL1333:
4779:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir[DIR_Attr] = buf[0] | AM_ARC;
 11421              		.loc 1 4779 7 is_stmt 1 view .LVU3872
 11422 00b6 1322     		movs	r2, #19
 11423 00b8 0DF10E01 		add	r1, sp, #14
 11424 00bc 05F10D00 		add	r0, r5, #13
 11425              	.LVL1334:
4779:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir[DIR_Attr] = buf[0] | AM_ARC;
 11426              		.loc 1 4779 7 is_stmt 0 view .LVU3873
 11427 00c0 FFF7FEFF 		bl	mem_cpy
 11428              	.LVL1335:
4780:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 11429              		.loc 1 4780 7 is_stmt 1 view .LVU3874
4780:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 11430              		.loc 1 4780 26 is_stmt 0 view .LVU3875
 11431 00c4 9DF80C30 		ldrb	r3, [sp, #12]	@ zero_extendqisi2
4780:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 11432              		.loc 1 4780 21 view .LVU3876
 11433 00c8 43F02003 		orr	r3, r3, #32
 11434 00cc EB72     		strb	r3, [r5, #11]
4781:Middlewares/Third_Party/FatFs/src/ff.c **** 						if ((dir[DIR_Attr] & AM_DIR) && djo.obj.sclust != djn.obj.sclust) {	/* Update .. entry in the
 11435              		.loc 1 4781 7 is_stmt 1 view .LVU3877
4781:Middlewares/Third_Party/FatFs/src/ff.c **** 						if ((dir[DIR_Attr] & AM_DIR) && djo.obj.sclust != djn.obj.sclust) {	/* Update .. entry in the
 11436              		.loc 1 4781 17 is_stmt 0 view .LVU3878
 11437 00ce 099B     		ldr	r3, [sp, #36]
 11438 00d0 0122     		movs	r2, #1
 11439 00d2 DA70     		strb	r2, [r3, #3]
4782:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(fs, ld_clust(fs, dir));
 11440              		.loc 1 4782 7 is_stmt 1 view .LVU3879
4782:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(fs, ld_clust(fs, dir));
 11441              		.loc 1 4782 15 is_stmt 0 view .LVU3880
 11442 00d4 EB7A     		ldrb	r3, [r5, #11]	@ zero_extendqisi2
4782:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(fs, ld_clust(fs, dir));
 11443              		.loc 1 4782 10 view .LVU3881
 11444 00d6 13F0100F 		tst	r3, #16
 11445 00da D8D0     		beq	.L851
4782:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(fs, ld_clust(fs, dir));
 11446              		.loc 1 4782 36 discriminator 1 view .LVU3882
 11447 00dc 199A     		ldr	r2, [sp, #100]
 11448 00de 0C9B     		ldr	r3, [sp, #48]
 11449 00e0 9A42     		cmp	r2, r3
 11450 00e2 D4D0     		beq	.L851
ARM GAS  /tmp/ccBfkcjf.s 			page 366


4783:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!dw) {
 11451              		.loc 1 4783 8 is_stmt 1 view .LVU3883
4783:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!dw) {
 11452              		.loc 1 4783 13 is_stmt 0 view .LVU3884
 11453 00e4 099C     		ldr	r4, [sp, #36]
 11454 00e6 2946     		mov	r1, r5
 11455 00e8 2046     		mov	r0, r4
 11456 00ea FFF7FEFF 		bl	ld_clust
 11457              	.LVL1336:
 11458 00ee 0146     		mov	r1, r0
 11459 00f0 2046     		mov	r0, r4
 11460 00f2 FFF7FEFF 		bl	clust2sect
 11461              	.LVL1337:
4784:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = FR_INT_ERR;
 11462              		.loc 1 4784 8 is_stmt 1 view .LVU3885
4784:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = FR_INT_ERR;
 11463              		.loc 1 4784 11 is_stmt 0 view .LVU3886
 11464 00f6 0146     		mov	r1, r0
 11465 00f8 08B9     		cbnz	r0, .L859
4785:Middlewares/Third_Party/FatFs/src/ff.c **** 							} else {
 11466              		.loc 1 4785 13 view .LVU3887
 11467 00fa 0224     		movs	r4, #2
 11468 00fc 8EE7     		b	.L847
 11469              	.L859:
4788:Middlewares/Third_Party/FatFs/src/ff.c **** 								dir = fs->win + SZDIRE * 1;	/* Ptr to .. entry */
 11470              		.loc 1 4788 9 is_stmt 1 view .LVU3888
4788:Middlewares/Third_Party/FatFs/src/ff.c **** 								dir = fs->win + SZDIRE * 1;	/* Ptr to .. entry */
 11471              		.loc 1 4788 15 is_stmt 0 view .LVU3889
 11472 00fe 2046     		mov	r0, r4
 11473              	.LVL1338:
4788:Middlewares/Third_Party/FatFs/src/ff.c **** 								dir = fs->win + SZDIRE * 1;	/* Ptr to .. entry */
 11474              		.loc 1 4788 15 view .LVU3890
 11475 0100 FFF7FEFF 		bl	move_window
 11476              	.LVL1339:
4789:Middlewares/Third_Party/FatFs/src/ff.c **** 								if (res == FR_OK && dir[1] == '.') {
 11477              		.loc 1 4789 9 is_stmt 1 view .LVU3891
4789:Middlewares/Third_Party/FatFs/src/ff.c **** 								if (res == FR_OK && dir[1] == '.') {
 11478              		.loc 1 4789 17 is_stmt 0 view .LVU3892
 11479 0104 099B     		ldr	r3, [sp, #36]
4789:Middlewares/Third_Party/FatFs/src/ff.c **** 								if (res == FR_OK && dir[1] == '.') {
 11480              		.loc 1 4789 13 view .LVU3893
 11481 0106 03F15801 		add	r1, r3, #88
 11482              	.LVL1340:
4790:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(fs, dir, djn.obj.sclust);
 11483              		.loc 1 4790 9 is_stmt 1 view .LVU3894
4790:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(fs, dir, djn.obj.sclust);
 11484              		.loc 1 4790 12 is_stmt 0 view .LVU3895
 11485 010a 0446     		mov	r4, r0
 11486 010c 0028     		cmp	r0, #0
 11487 010e BED1     		bne	.L851
4790:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(fs, dir, djn.obj.sclust);
 11488              		.loc 1 4790 32 discriminator 1 view .LVU3896
 11489 0110 93F85920 		ldrb	r2, [r3, #89]	@ zero_extendqisi2
4790:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(fs, dir, djn.obj.sclust);
 11490              		.loc 1 4790 26 discriminator 1 view .LVU3897
 11491 0114 2E2A     		cmp	r2, #46
 11492 0116 BAD1     		bne	.L851
ARM GAS  /tmp/ccBfkcjf.s 			page 367


4791:Middlewares/Third_Party/FatFs/src/ff.c **** 									fs->wflag = 1;
 11493              		.loc 1 4791 10 is_stmt 1 view .LVU3898
 11494 0118 0C9A     		ldr	r2, [sp, #48]
 11495 011a 1846     		mov	r0, r3
 11496              	.LVL1341:
4791:Middlewares/Third_Party/FatFs/src/ff.c **** 									fs->wflag = 1;
 11497              		.loc 1 4791 10 is_stmt 0 view .LVU3899
 11498 011c FFF7FEFF 		bl	st_clust
 11499              	.LVL1342:
4792:Middlewares/Third_Party/FatFs/src/ff.c **** 								}
 11500              		.loc 1 4792 10 is_stmt 1 view .LVU3900
4792:Middlewares/Third_Party/FatFs/src/ff.c **** 								}
 11501              		.loc 1 4792 20 is_stmt 0 view .LVU3901
 11502 0120 099B     		ldr	r3, [sp, #36]
 11503 0122 0122     		movs	r2, #1
 11504 0124 DA70     		strb	r2, [r3, #3]
 11505 0126 B2E7     		b	.L851
 11506              		.cfi_endproc
 11507              	.LFE408:
 11509              		.section	.rodata.f_mkfs.str1.4,"aMS",%progbits,1
 11510              		.align	2
 11511              	.LC2:
 11512 0000 EBFE904D 		.ascii	"\353\376\220MSDOS5.0\000"
 11512      53444F53 
 11512      352E3000 
 11513              		.align	2
 11514              	.LC3:
 11515 000c 4E4F204E 		.ascii	"NO NAME    FAT32   \000"
 11515      414D4520 
 11515      20202046 
 11515      41543332 
 11515      20202000 
 11516              		.align	2
 11517              	.LC4:
 11518 0020 4E4F204E 		.ascii	"NO NAME    FAT     \000"
 11518      414D4520 
 11518      20202046 
 11518      41542020 
 11518      20202000 
 11519              		.section	.text.f_mkfs,"ax",%progbits
 11520              		.align	1
 11521              		.global	f_mkfs
 11522              		.syntax unified
 11523              		.thumb
 11524              		.thumb_func
 11525              		.fpu fpv5-d16
 11527              	f_mkfs:
 11528              	.LVL1343:
 11529              	.LFB409:
5308:Middlewares/Third_Party/FatFs/src/ff.c **** 	const UINT n_fats = 1;		/* Number of FATs for FAT12/16/32 volume (1 or 2) */
 11530              		.loc 1 5308 1 is_stmt 1 view -0
 11531              		.cfi_startproc
 11532              		@ args = 4, pretend = 0, frame = 48
 11533              		@ frame_needed = 0, uses_anonymous_args = 0
5308:Middlewares/Third_Party/FatFs/src/ff.c **** 	const UINT n_fats = 1;		/* Number of FATs for FAT12/16/32 volume (1 or 2) */
 11534              		.loc 1 5308 1 is_stmt 0 view .LVU3903
 11535 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
ARM GAS  /tmp/ccBfkcjf.s 			page 368


 11536              	.LCFI123:
 11537              		.cfi_def_cfa_offset 36
 11538              		.cfi_offset 4, -36
 11539              		.cfi_offset 5, -32
 11540              		.cfi_offset 6, -28
 11541              		.cfi_offset 7, -24
 11542              		.cfi_offset 8, -20
 11543              		.cfi_offset 9, -16
 11544              		.cfi_offset 10, -12
 11545              		.cfi_offset 11, -8
 11546              		.cfi_offset 14, -4
 11547 0004 8DB0     		sub	sp, sp, #52
 11548              	.LCFI124:
 11549              		.cfi_def_cfa_offset 88
 11550 0006 0790     		str	r0, [sp, #28]
 11551 0008 8846     		mov	r8, r1
 11552 000a 1546     		mov	r5, r2
 11553 000c 1E46     		mov	r6, r3
5309:Middlewares/Third_Party/FatFs/src/ff.c **** 	const UINT n_rootdir = 512;	/* Number of root directory entries for FAT12/16 volume */
 11554              		.loc 1 5309 2 is_stmt 1 view .LVU3904
 11555              	.LVL1344:
5310:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const WORD cst[] = {1, 4, 16, 64, 256, 512, 0};	/* Cluster size boundary for FAT12/16 volum
 11556              		.loc 1 5310 2 view .LVU3905
5311:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const WORD cst32[] = {1, 2, 4, 8, 16, 32, 0};	/* Cluster size boundary for FAT32 volume (12
 11557              		.loc 1 5311 2 view .LVU3906
5312:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, sys, *buf, *pte, pdrv, part;
 11558              		.loc 1 5312 2 view .LVU3907
5313:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD ss;
 11559              		.loc 1 5313 2 view .LVU3908
5314:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD szb_buf, sz_buf, sz_blk, n_clst, pau, sect, nsect, n;
 11560              		.loc 1 5314 2 view .LVU3909
5315:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD b_vol, b_fat, b_data;				/* Base LBA for volume, fat, data */
 11561              		.loc 1 5315 2 view .LVU3910
5316:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sz_vol, sz_rsv, sz_fat, sz_dir;	/* Size for volume, fat, dir, data */
 11562              		.loc 1 5316 2 view .LVU3911
5317:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 11563              		.loc 1 5317 2 view .LVU3912
5318:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
 11564              		.loc 1 5318 2 view .LVU3913
5319:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
 11565              		.loc 1 5319 2 view .LVU3914
5320:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM || _FS_EXFAT
 11566              		.loc 1 5320 2 view .LVU3915
5327:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 11567              		.loc 1 5327 2 view .LVU3916
5327:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 11568              		.loc 1 5327 8 is_stmt 0 view .LVU3917
 11569 000e 07A8     		add	r0, sp, #28
 11570              	.LVL1345:
5327:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 11571              		.loc 1 5327 8 view .LVU3918
 11572 0010 FFF7FEFF 		bl	get_ldnumber
 11573              	.LVL1346:
5328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (FatFs[vol]) FatFs[vol]->fs_type = 0;	/* Clear the volume */
 11574              		.loc 1 5328 2 is_stmt 1 view .LVU3919
5328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (FatFs[vol]) FatFs[vol]->fs_type = 0;	/* Clear the volume */
 11575              		.loc 1 5328 5 is_stmt 0 view .LVU3920
ARM GAS  /tmp/ccBfkcjf.s 			page 369


 11576 0014 0028     		cmp	r0, #0
5328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (FatFs[vol]) FatFs[vol]->fs_type = 0;	/* Clear the volume */
 11577              		.loc 1 5328 5 view .LVU3921
 11578 0016 C0F2F982 		blt	.L904
5329:Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
 11579              		.loc 1 5329 2 is_stmt 1 view .LVU3922
5329:Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
 11580              		.loc 1 5329 11 is_stmt 0 view .LVU3923
 11581 001a A74B     		ldr	r3, .L957
 11582 001c 53F82030 		ldr	r3, [r3, r0, lsl #2]
5329:Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
 11583              		.loc 1 5329 5 view .LVU3924
 11584 0020 0BB1     		cbz	r3, .L862
5329:Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
 11585              		.loc 1 5329 18 is_stmt 1 discriminator 1 view .LVU3925
5329:Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
 11586              		.loc 1 5329 38 is_stmt 0 discriminator 1 view .LVU3926
 11587 0022 0022     		movs	r2, #0
 11588 0024 1A70     		strb	r2, [r3]
 11589              	.L862:
5330:Middlewares/Third_Party/FatFs/src/ff.c **** 	part = LD2PT(vol);	/* Partition (0:create as new, 1-4:get from partition table) */
 11590              		.loc 1 5330 2 is_stmt 1 view .LVU3927
5330:Middlewares/Third_Party/FatFs/src/ff.c **** 	part = LD2PT(vol);	/* Partition (0:create as new, 1-4:get from partition table) */
 11591              		.loc 1 5330 7 is_stmt 0 view .LVU3928
 11592 0026 C4B2     		uxtb	r4, r0
 11593              	.LVL1347:
5331:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11594              		.loc 1 5331 2 is_stmt 1 view .LVU3929
5334:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
 11595              		.loc 1 5334 2 view .LVU3930
5334:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
 11596              		.loc 1 5334 9 is_stmt 0 view .LVU3931
 11597 0028 2046     		mov	r0, r4
 11598              	.LVL1348:
5334:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
 11599              		.loc 1 5334 9 view .LVU3932
 11600 002a FFF7FEFF 		bl	disk_initialize
 11601              	.LVL1349:
5335:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
 11602              		.loc 1 5335 2 is_stmt 1 view .LVU3933
5335:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
 11603              		.loc 1 5335 5 is_stmt 0 view .LVU3934
 11604 002e 10F0010F 		tst	r0, #1
 11605 0032 40F0ED82 		bne	.L905
5336:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_BLOCK_SIZE, &sz_blk) != RES_OK || !sz_blk || sz_blk > 32768 || (sz_blk & 
 11606              		.loc 1 5336 2 is_stmt 1 view .LVU3935
5336:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_BLOCK_SIZE, &sz_blk) != RES_OK || !sz_blk || sz_blk > 32768 || (sz_blk & 
 11607              		.loc 1 5336 5 is_stmt 0 view .LVU3936
 11608 0036 10F0040F 		tst	r0, #4
 11609 003a 40F0EB82 		bne	.L906
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 11610              		.loc 1 5337 2 is_stmt 1 view .LVU3937
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 11611              		.loc 1 5337 6 is_stmt 0 view .LVU3938
 11612 003e 0AAA     		add	r2, sp, #40
 11613 0040 0321     		movs	r1, #3
 11614 0042 2046     		mov	r0, r4
ARM GAS  /tmp/ccBfkcjf.s 			page 370


 11615              	.LVL1350:
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 11616              		.loc 1 5337 6 view .LVU3939
 11617 0044 FFF7FEFF 		bl	disk_ioctl
 11618              	.LVL1351:
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 11619              		.loc 1 5337 5 view .LVU3940
 11620 0048 38B9     		cbnz	r0, .L863
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 11621              		.loc 1 5337 61 discriminator 2 view .LVU3941
 11622 004a 0A9B     		ldr	r3, [sp, #40]
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 11623              		.loc 1 5337 58 discriminator 2 view .LVU3942
 11624 004c 2BB1     		cbz	r3, .L863
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 11625              		.loc 1 5337 69 discriminator 4 view .LVU3943
 11626 004e B3F5004F 		cmp	r3, #32768
 11627 0052 02D8     		bhi	.L863
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 11628              		.loc 1 5337 108 discriminator 6 view .LVU3944
 11629 0054 5A1E     		subs	r2, r3, #1
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 11630              		.loc 1 5337 87 discriminator 6 view .LVU3945
 11631 0056 1342     		tst	r3, r2
 11632 0058 01D0     		beq	.L864
 11633              	.L863:
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 11634              		.loc 1 5337 115 is_stmt 1 discriminator 7 view .LVU3946
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 11635              		.loc 1 5337 122 is_stmt 0 discriminator 7 view .LVU3947
 11636 005a 0123     		movs	r3, #1
 11637 005c 0A93     		str	r3, [sp, #40]
 11638              	.L864:
5339:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ss > _MAX_SS || ss < _MIN_SS || (ss & (ss - 1))) return FR_DISK_ERR;
 11639              		.loc 1 5339 2 is_stmt 1 view .LVU3948
5339:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ss > _MAX_SS || ss < _MIN_SS || (ss & (ss - 1))) return FR_DISK_ERR;
 11640              		.loc 1 5339 6 is_stmt 0 view .LVU3949
 11641 005e 0DF12E02 		add	r2, sp, #46
 11642 0062 0221     		movs	r1, #2
 11643 0064 2046     		mov	r0, r4
 11644 0066 FFF7FEFF 		bl	disk_ioctl
 11645              	.LVL1352:
5339:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ss > _MAX_SS || ss < _MIN_SS || (ss & (ss - 1))) return FR_DISK_ERR;
 11646              		.loc 1 5339 5 view .LVU3950
 11647 006a 0028     		cmp	r0, #0
 11648 006c 40F0D682 		bne	.L907
5340:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 11649              		.loc 1 5340 2 is_stmt 1 view .LVU3951
5340:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 11650              		.loc 1 5340 19 is_stmt 0 view .LVU3952
 11651 0070 BDF82E70 		ldrh	r7, [sp, #46]
 11652 0074 A7F50073 		sub	r3, r7, #512
 11653 0078 9BB2     		uxth	r3, r3
5340:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 11654              		.loc 1 5340 5 view .LVU3953
 11655 007a B3F5606F 		cmp	r3, #3584
 11656 007e 00F2CF82 		bhi	.L908
ARM GAS  /tmp/ccBfkcjf.s 			page 371


5340:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 11657              		.loc 1 5340 48 discriminator 2 view .LVU3954
 11658 0082 7B1E     		subs	r3, r7, #1
5340:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 11659              		.loc 1 5340 35 discriminator 2 view .LVU3955
 11660 0084 1F42     		tst	r7, r3
 11661 0086 40F0CD82 		bne	.L909
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
 11662              		.loc 1 5344 2 is_stmt 1 view .LVU3956
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
 11663              		.loc 1 5344 5 is_stmt 0 view .LVU3957
 11664 008a 15B1     		cbz	r5, .L865
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
 11665              		.loc 1 5344 15 discriminator 1 view .LVU3958
 11666 008c AF42     		cmp	r7, r5
 11667 008e 00F2CB82 		bhi	.L910
 11668              	.L865:
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
 11669              		.loc 1 5344 27 discriminator 4 view .LVU3959
 11670 0092 B5F1807F 		cmp	r5, #16777216
 11671 0096 00F2C982 		bhi	.L911
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
 11672              		.loc 1 5344 58 discriminator 6 view .LVU3960
 11673 009a 6B1E     		subs	r3, r5, #1
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
 11674              		.loc 1 5344 45 discriminator 6 view .LVU3961
 11675 009c 2B40     		ands	r3, r3, r5
 11676 009e 0193     		str	r3, [sp, #4]
 11677 00a0 40F0C682 		bne	.L912
5345:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11678              		.loc 1 5345 2 is_stmt 1 view .LVU3962
5345:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11679              		.loc 1 5345 5 is_stmt 0 view .LVU3963
 11680 00a4 B5FBF7F5 		udiv	r5, r5, r7
 11681              	.LVL1353:
5348:Middlewares/Third_Party/FatFs/src/ff.c **** 	sz_buf = len / ss;		/* Size of working buffer (sector) */
 11682              		.loc 1 5348 2 is_stmt 1 view .LVU3964
5349:Middlewares/Third_Party/FatFs/src/ff.c **** 	szb_buf = sz_buf * ss;	/* Size of working buffer (byte) */
 11683              		.loc 1 5349 2 view .LVU3965
5349:Middlewares/Third_Party/FatFs/src/ff.c **** 	szb_buf = sz_buf * ss;	/* Size of working buffer (byte) */
 11684              		.loc 1 5349 9 is_stmt 0 view .LVU3966
 11685 00a8 169B     		ldr	r3, [sp, #88]
 11686 00aa B3FBF7F9 		udiv	r9, r3, r7
 11687              	.LVL1354:
5350:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!szb_buf) return FR_MKFS_ABORTED;
 11688              		.loc 1 5350 2 is_stmt 1 view .LVU3967
5350:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!szb_buf) return FR_MKFS_ABORTED;
 11689              		.loc 1 5350 10 is_stmt 0 view .LVU3968
 11690 00ae 09FB07F7 		mul	r7, r9, r7
 11691              	.LVL1355:
5351:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11692              		.loc 1 5351 2 is_stmt 1 view .LVU3969
5351:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11693              		.loc 1 5351 5 is_stmt 0 view .LVU3970
 11694 00b2 002F     		cmp	r7, #0
 11695 00b4 00F0BE82 		beq	.L913
5354:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Get partition information from partition table in the MBR */
ARM GAS  /tmp/ccBfkcjf.s 			page 372


 11696              		.loc 1 5354 2 is_stmt 1 view .LVU3971
5364:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = (opt & FM_SFD) ? 0 : 63;		/* Volume start sector */
 11697              		.loc 1 5364 3 view .LVU3972
5364:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = (opt & FM_SFD) ? 0 : 63;		/* Volume start sector */
 11698              		.loc 1 5364 7 is_stmt 0 view .LVU3973
 11699 00b8 09AA     		add	r2, sp, #36
 11700 00ba 0121     		movs	r1, #1
 11701 00bc 2046     		mov	r0, r4
 11702 00be FFF7FEFF 		bl	disk_ioctl
 11703              	.LVL1356:
5364:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = (opt & FM_SFD) ? 0 : 63;		/* Volume start sector */
 11704              		.loc 1 5364 6 view .LVU3974
 11705 00c2 0028     		cmp	r0, #0
 11706 00c4 40F0B882 		bne	.L914
5365:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < b_vol) return FR_MKFS_ABORTED;
 11707              		.loc 1 5365 3 is_stmt 1 view .LVU3975
5365:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < b_vol) return FR_MKFS_ABORTED;
 11708              		.loc 1 5365 30 is_stmt 0 view .LVU3976
 11709 00c8 18F00802 		ands	r2, r8, #8
 11710 00cc 0292     		str	r2, [sp, #8]
 11711 00ce 7AD0     		beq	.L915
 11712 00d0 019B     		ldr	r3, [sp, #4]
 11713 00d2 0093     		str	r3, [sp]
 11714              	.L866:
 11715              	.LVL1357:
5366:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_vol -= b_vol;						/* Volume size */
 11716              		.loc 1 5366 3 is_stmt 1 discriminator 4 view .LVU3977
5366:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_vol -= b_vol;						/* Volume size */
 11717              		.loc 1 5366 14 is_stmt 0 discriminator 4 view .LVU3978
 11718 00d4 099A     		ldr	r2, [sp, #36]
5366:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_vol -= b_vol;						/* Volume size */
 11719              		.loc 1 5366 6 discriminator 4 view .LVU3979
 11720 00d6 009B     		ldr	r3, [sp]
 11721 00d8 9A42     		cmp	r2, r3
 11722 00da C0F0AF82 		bcc	.L916
5367:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 11723              		.loc 1 5367 3 is_stmt 1 view .LVU3980
5367:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 11724              		.loc 1 5367 10 is_stmt 0 view .LVU3981
 11725 00de D21A     		subs	r2, r2, r3
 11726 00e0 0992     		str	r2, [sp, #36]
5369:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11727              		.loc 1 5369 2 is_stmt 1 view .LVU3982
5369:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11728              		.loc 1 5369 5 is_stmt 0 view .LVU3983
 11729 00e2 7F2A     		cmp	r2, #127
 11730 00e4 40F2AC82 		bls	.L917
5372:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_EXFAT && (opt & FM_EXFAT)) {	/* exFAT possible? */
 11731              		.loc 1 5372 2 is_stmt 1 view .LVU3984
5373:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((opt & FM_ANY) == FM_EXFAT || sz_vol >= 0x4000000 || au > 128) {	/* exFAT only, vol >= 64Ms 
 11732              		.loc 1 5373 3 view .LVU3985
5378:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (opt & FM_FAT32) {	/* FAT32 possible? */
 11733              		.loc 1 5378 3 view .LVU3986
5378:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (opt & FM_FAT32) {	/* FAT32 possible? */
 11734              		.loc 1 5378 6 is_stmt 0 view .LVU3987
 11735 00e8 802D     		cmp	r5, #128
 11736 00ea 00F2AB82 		bhi	.L918
ARM GAS  /tmp/ccBfkcjf.s 			page 373


5379:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((opt & FM_ANY) == FM_FAT32 || !(opt & FM_FAT)) {	/* FAT32 only or no-FAT? */
 11737              		.loc 1 5379 3 is_stmt 1 view .LVU3988
5379:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((opt & FM_ANY) == FM_FAT32 || !(opt & FM_FAT)) {	/* FAT32 only or no-FAT? */
 11738              		.loc 1 5379 6 is_stmt 0 view .LVU3989
 11739 00ee 18F00201 		ands	r1, r8, #2
 11740 00f2 06D0     		beq	.L867
5380:Middlewares/Third_Party/FatFs/src/ff.c **** 				fmt = FS_FAT32; break;
 11741              		.loc 1 5380 4 is_stmt 1 view .LVU3990
5380:Middlewares/Third_Party/FatFs/src/ff.c **** 				fmt = FS_FAT32; break;
 11742              		.loc 1 5380 7 is_stmt 0 view .LVU3991
 11743 00f4 08F00703 		and	r3, r8, #7
 11744 00f8 022B     		cmp	r3, #2
 11745 00fa 67D0     		beq	.L919
5380:Middlewares/Third_Party/FatFs/src/ff.c **** 				fmt = FS_FAT32; break;
 11746              		.loc 1 5380 35 discriminator 1 view .LVU3992
 11747 00fc 18F0010F 		tst	r8, #1
 11748 0100 6AD0     		beq	.L920
 11749              	.L867:
5384:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT16;
 11750              		.loc 1 5384 3 is_stmt 1 view .LVU3993
5384:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT16;
 11751              		.loc 1 5384 6 is_stmt 0 view .LVU3994
 11752 0102 18F0010F 		tst	r8, #1
 11753 0106 00F09F82 		beq	.L921
5385:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (0);
 11754              		.loc 1 5385 7 view .LVU3995
 11755 010a 4FF0020B 		mov	fp, #2
 11756 010e 0394     		str	r4, [sp, #12]
 11757 0110 CDF81090 		str	r9, [sp, #16]
 11758              	.LVL1358:
 11759              	.L869:
5386:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11760              		.loc 1 5386 10 is_stmt 1 view .LVU3996
5552:Middlewares/Third_Party/FatFs/src/ff.c **** 			pau = au;
 11761              		.loc 1 5552 3 view .LVU3997
5553:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Pre-determine number of clusters and FAT sub-type */
 11762              		.loc 1 5553 4 view .LVU3998
5555:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!pau) {	/* au auto-selection */
 11763              		.loc 1 5555 4 view .LVU3999
5555:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!pau) {	/* au auto-selection */
 11764              		.loc 1 5555 7 is_stmt 0 view .LVU4000
 11765 0114 BBF1030F 		cmp	fp, #3
 11766 0118 68D0     		beq	.L887
5566:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = sz_vol / 0x1000;	/* Volume size in unit of 4KS */
 11767              		.loc 1 5566 5 is_stmt 1 view .LVU4001
5566:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = sz_vol / 0x1000;	/* Volume size in unit of 4KS */
 11768              		.loc 1 5566 8 is_stmt 0 view .LVU4002
 11769 011a 002D     		cmp	r5, #0
 11770 011c 00F08F80 		beq	.L946
 11771 0120 AA46     		mov	r10, r5
 11772              	.LVL1359:
 11773              	.L875:
5570:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst > MAX_FAT12) {
 11774              		.loc 1 5570 5 is_stmt 1 view .LVU4003
5570:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst > MAX_FAT12) {
 11775              		.loc 1 5570 12 is_stmt 0 view .LVU4004
 11776 0122 B2FBFAF3 		udiv	r3, r2, r10
ARM GAS  /tmp/ccBfkcjf.s 			page 374


 11777              	.LVL1360:
5571:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = n_clst * 2 + 4;		/* FAT size [byte] */
 11778              		.loc 1 5571 5 is_stmt 1 view .LVU4005
5571:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = n_clst * 2 + 4;		/* FAT size [byte] */
 11779              		.loc 1 5571 8 is_stmt 0 view .LVU4006
 11780 0126 40F6F570 		movw	r0, #4085
 11781 012a 8342     		cmp	r3, r0
 11782 012c 40F29880 		bls	.L878
5572:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 11783              		.loc 1 5572 6 is_stmt 1 view .LVU4007
5572:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 11784              		.loc 1 5572 21 is_stmt 0 view .LVU4008
 11785 0130 03F10208 		add	r8, r3, #2
5572:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 11786              		.loc 1 5572 8 view .LVU4009
 11787 0134 4FEA4808 		lsl	r8, r8, #1
 11788              	.LVL1361:
 11789              	.L879:
5577:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 1;						/* Number of reserved sectors */
 11790              		.loc 1 5577 5 is_stmt 1 view .LVU4010
5577:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 1;						/* Number of reserved sectors */
 11791              		.loc 1 5577 17 is_stmt 0 view .LVU4011
 11792 0138 BDF82E30 		ldrh	r3, [sp, #46]
 11793 013c 9844     		add	r8, r8, r3
 11794              	.LVL1362:
5577:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 1;						/* Number of reserved sectors */
 11795              		.loc 1 5577 22 view .LVU4012
 11796 013e 08F1FF38 		add	r8, r8, #-1
5577:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 1;						/* Number of reserved sectors */
 11797              		.loc 1 5577 12 view .LVU4013
 11798 0142 B8FBF3F8 		udiv	r8, r8, r3
 11799              	.LVL1363:
5578:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_dir = (DWORD)n_rootdir * SZDIRE / ss;	/* Rootdir size [sector] */
 11800              		.loc 1 5578 5 is_stmt 1 view .LVU4014
5579:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11801              		.loc 1 5579 5 view .LVU4015
5579:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11802              		.loc 1 5579 12 is_stmt 0 view .LVU4016
 11803 0146 4FF4804C 		mov	ip, #16384
 11804 014a BCFBF3FC 		udiv	ip, ip, r3
 11805              	.LVL1364:
5578:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_dir = (DWORD)n_rootdir * SZDIRE / ss;	/* Rootdir size [sector] */
 11806              		.loc 1 5578 12 view .LVU4017
 11807 014e 4FF0010E 		mov	lr, #1
 11808              	.LVL1365:
 11809              	.L874:
5581:Middlewares/Third_Party/FatFs/src/ff.c **** 			b_data = b_fat + sz_fat * n_fats + sz_dir;	/* Data base */
 11810              		.loc 1 5581 4 is_stmt 1 view .LVU4018
5581:Middlewares/Third_Party/FatFs/src/ff.c **** 			b_data = b_fat + sz_fat * n_fats + sz_dir;	/* Data base */
 11811              		.loc 1 5581 10 is_stmt 0 view .LVU4019
 11812 0152 009B     		ldr	r3, [sp]
 11813 0154 0EEB0309 		add	r9, lr, r3
 11814              	.LVL1366:
5582:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11815              		.loc 1 5582 4 is_stmt 1 view .LVU4020
5582:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11816              		.loc 1 5582 19 is_stmt 0 view .LVU4021
ARM GAS  /tmp/ccBfkcjf.s 			page 375


 11817 0158 08EB0903 		add	r3, r8, r9
5582:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11818              		.loc 1 5582 11 view .LVU4022
 11819 015c 6344     		add	r3, r3, ip
 11820              	.LVL1367:
5585:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {		/* FAT32: Move FAT base */
 11821              		.loc 1 5585 4 is_stmt 1 view .LVU4023
5585:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {		/* FAT32: Move FAT base */
 11822              		.loc 1 5585 17 is_stmt 0 view .LVU4024
 11823 015e 0A9C     		ldr	r4, [sp, #40]
 11824 0160 E018     		adds	r0, r4, r3
5585:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {		/* FAT32: Move FAT base */
 11825              		.loc 1 5585 26 view .LVU4025
 11826 0162 0138     		subs	r0, r0, #1
5585:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {		/* FAT32: Move FAT base */
 11827              		.loc 1 5585 33 view .LVU4026
 11828 0164 6442     		rsbs	r4, r4, #0
5585:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {		/* FAT32: Move FAT base */
 11829              		.loc 1 5585 31 view .LVU4027
 11830 0166 0440     		ands	r4, r4, r0
5585:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {		/* FAT32: Move FAT base */
 11831              		.loc 1 5585 6 view .LVU4028
 11832 0168 E41A     		subs	r4, r4, r3
 11833              	.LVL1368:
5586:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv += n; b_fat += n;
 11834              		.loc 1 5586 4 is_stmt 1 view .LVU4029
5586:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv += n; b_fat += n;
 11835              		.loc 1 5586 7 is_stmt 0 view .LVU4030
 11836 016a BBF1030F 		cmp	fp, #3
 11837 016e 00F08280 		beq	.L947
5589:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11838              		.loc 1 5589 5 is_stmt 1 view .LVU4031
5589:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11839              		.loc 1 5589 12 is_stmt 0 view .LVU4032
 11840 0172 A044     		add	r8, r8, r4
 11841              	.LVL1369:
 11842              	.L881:
5593:Middlewares/Third_Party/FatFs/src/ff.c **** 			n_clst = (sz_vol - sz_rsv - sz_fat * n_fats - sz_dir) / pau;
 11843              		.loc 1 5593 4 is_stmt 1 view .LVU4033
5593:Middlewares/Third_Party/FatFs/src/ff.c **** 			n_clst = (sz_vol - sz_rsv - sz_fat * n_fats - sz_dir) / pau;
 11844              		.loc 1 5593 24 is_stmt 0 view .LVU4034
 11845 0174 03EB0A13 		add	r3, r3, r10, lsl #4
 11846              	.LVL1370:
5593:Middlewares/Third_Party/FatFs/src/ff.c **** 			n_clst = (sz_vol - sz_rsv - sz_fat * n_fats - sz_dir) / pau;
 11847              		.loc 1 5593 35 view .LVU4035
 11848 0178 0098     		ldr	r0, [sp]
 11849 017a 1B1A     		subs	r3, r3, r0
5593:Middlewares/Third_Party/FatFs/src/ff.c **** 			n_clst = (sz_vol - sz_rsv - sz_fat * n_fats - sz_dir) / pau;
 11850              		.loc 1 5593 7 view .LVU4036
 11851 017c 9A42     		cmp	r2, r3
 11852 017e C0F07382 		bcc	.L925
5594:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 11853              		.loc 1 5594 4 is_stmt 1 view .LVU4037
5594:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 11854              		.loc 1 5594 21 is_stmt 0 view .LVU4038
 11855 0182 A2EB0E03 		sub	r3, r2, lr
5594:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
ARM GAS  /tmp/ccBfkcjf.s 			page 376


 11856              		.loc 1 5594 30 view .LVU4039
 11857 0186 A3EB0803 		sub	r3, r3, r8
5594:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 11858              		.loc 1 5594 48 view .LVU4040
 11859 018a A3EB0C03 		sub	r3, r3, ip
5594:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 11860              		.loc 1 5594 11 view .LVU4041
 11861 018e B3FBFAF3 		udiv	r3, r3, r10
 11862              	.LVL1371:
5595:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst <= MAX_FAT16) {	/* Too few clusters for FAT32 */
 11863              		.loc 1 5595 4 is_stmt 1 view .LVU4042
5595:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst <= MAX_FAT16) {	/* Too few clusters for FAT32 */
 11864              		.loc 1 5595 7 is_stmt 0 view .LVU4043
 11865 0192 BBF1030F 		cmp	fp, #3
 11866 0196 71D0     		beq	.L948
 11867              	.L882:
5601:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst > MAX_FAT16) {	/* Too many clusters for FAT16 */
 11868              		.loc 1 5601 4 is_stmt 1 view .LVU4044
5601:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst > MAX_FAT16) {	/* Too many clusters for FAT16 */
 11869              		.loc 1 5601 7 is_stmt 0 view .LVU4045
 11870 0198 BBF1020F 		cmp	fp, #2
 11871 019c 40F09680 		bne	.L884
5602:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (pau * 2) <= 64) {
 11872              		.loc 1 5602 5 is_stmt 1 view .LVU4046
5602:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (pau * 2) <= 64) {
 11873              		.loc 1 5602 8 is_stmt 0 view .LVU4047
 11874 01a0 4FF6F570 		movw	r0, #65525
 11875 01a4 8342     		cmp	r3, r0
 11876 01a6 78D9     		bls	.L885
5603:Middlewares/Third_Party/FatFs/src/ff.c **** 						au = pau * 2; continue;		/* Adjust cluster size and retry */
 11877              		.loc 1 5603 6 is_stmt 1 view .LVU4048
5603:Middlewares/Third_Party/FatFs/src/ff.c **** 						au = pau * 2; continue;		/* Adjust cluster size and retry */
 11878              		.loc 1 5603 9 is_stmt 0 view .LVU4049
 11879 01a8 1DB9     		cbnz	r5, .L886
5603:Middlewares/Third_Party/FatFs/src/ff.c **** 						au = pau * 2; continue;		/* Adjust cluster size and retry */
 11880              		.loc 1 5603 22 discriminator 1 view .LVU4050
 11881 01aa 4FEA4A03 		lsl	r3, r10, #1
 11882              	.LVL1372:
5603:Middlewares/Third_Party/FatFs/src/ff.c **** 						au = pau * 2; continue;		/* Adjust cluster size and retry */
 11883              		.loc 1 5603 14 discriminator 1 view .LVU4051
 11884 01ae 402B     		cmp	r3, #64
 11885 01b0 18D9     		bls	.L927
 11886              	.L886:
5606:Middlewares/Third_Party/FatFs/src/ff.c **** 						fmt = FS_FAT32; continue;	/* Switch type to FAT32 and retry */
 11887              		.loc 1 5606 6 is_stmt 1 view .LVU4052
5606:Middlewares/Third_Party/FatFs/src/ff.c **** 						fmt = FS_FAT32; continue;	/* Switch type to FAT32 and retry */
 11888              		.loc 1 5606 9 is_stmt 0 view .LVU4053
 11889 01b2 C9B9     		cbnz	r1, .L928
5609:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 11890              		.loc 1 5609 6 is_stmt 1 view .LVU4054
5609:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 11891              		.loc 1 5609 9 is_stmt 0 view .LVU4055
 11892 01b4 002D     		cmp	r5, #0
 11893 01b6 40F05B82 		bne	.L929
5609:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 11894              		.loc 1 5609 21 discriminator 1 view .LVU4056
 11895 01ba 4FEA4A05 		lsl	r5, r10, #1
ARM GAS  /tmp/ccBfkcjf.s 			page 377


 11896              	.LVL1373:
5609:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 11897              		.loc 1 5609 14 discriminator 1 view .LVU4057
 11898 01be 802D     		cmp	r5, #128
 11899 01c0 A8D9     		bls	.L869
5610:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11900              		.loc 1 5610 13 view .LVU4058
 11901 01c2 0E20     		movs	r0, #14
 11902 01c4 27E2     		b	.L861
 11903              	.LVL1374:
 11904              	.L915:
5365:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < b_vol) return FR_MKFS_ABORTED;
 11905              		.loc 1 5365 30 view .LVU4059
 11906 01c6 3F23     		movs	r3, #63
 11907 01c8 0093     		str	r3, [sp]
 11908 01ca 83E7     		b	.L866
 11909              	.LVL1375:
 11910              	.L919:
5381:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11911              		.loc 1 5381 9 view .LVU4060
 11912 01cc 4FF0030B 		mov	fp, #3
 11913 01d0 0394     		str	r4, [sp, #12]
 11914 01d2 CDF81090 		str	r9, [sp, #16]
 11915 01d6 9DE7     		b	.L869
 11916              	.L920:
5381:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11917              		.loc 1 5381 9 view .LVU4061
 11918 01d8 4FF0030B 		mov	fp, #3
 11919 01dc 0394     		str	r4, [sp, #12]
 11920 01de CDF81090 		str	r9, [sp, #16]
 11921 01e2 97E7     		b	.L869
 11922              	.LVL1376:
 11923              	.L927:
5604:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 11924              		.loc 1 5604 10 view .LVU4062
 11925 01e4 1D46     		mov	r5, r3
 11926 01e6 95E7     		b	.L869
 11927              	.L928:
5607:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 11928              		.loc 1 5607 11 view .LVU4063
 11929 01e8 4FF0030B 		mov	fp, #3
 11930              	.LVL1377:
 11931              	.L887:
5556:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = sz_vol / 0x20000;	/* Volume size in unit of 128KS */
 11932              		.loc 1 5556 5 is_stmt 1 view .LVU4064
5556:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = sz_vol / 0x20000;	/* Volume size in unit of 128KS */
 11933              		.loc 1 5556 8 is_stmt 0 view .LVU4065
 11934 01ec BDB1     		cbz	r5, .L949
 11935 01ee AA46     		mov	r10, r5
 11936              	.L871:
 11937              	.LVL1378:
5560:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_fat = (n_clst * 4 + 8 + ss - 1) / ss;	/* FAT size [sector] */
 11938              		.loc 1 5560 5 is_stmt 1 view .LVU4066
5560:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_fat = (n_clst * 4 + 8 + ss - 1) / ss;	/* FAT size [sector] */
 11939              		.loc 1 5560 12 is_stmt 0 view .LVU4067
 11940 01f0 B2FBFAF3 		udiv	r3, r2, r10
 11941              	.LVL1379:
ARM GAS  /tmp/ccBfkcjf.s 			page 378


5561:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 32;	/* Number of reserved sectors */
 11942              		.loc 1 5561 5 is_stmt 1 view .LVU4068
5561:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 32;	/* Number of reserved sectors */
 11943              		.loc 1 5561 26 is_stmt 0 view .LVU4069
 11944 01f4 03F10208 		add	r8, r3, #2
5561:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 32;	/* Number of reserved sectors */
 11945              		.loc 1 5561 30 view .LVU4070
 11946 01f8 BDF82E00 		ldrh	r0, [sp, #46]
 11947 01fc 00EB8808 		add	r8, r0, r8, lsl #2
5561:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 32;	/* Number of reserved sectors */
 11948              		.loc 1 5561 35 view .LVU4071
 11949 0200 08F1FF38 		add	r8, r8, #-1
5561:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 32;	/* Number of reserved sectors */
 11950              		.loc 1 5561 12 view .LVU4072
 11951 0204 B8FBF0F8 		udiv	r8, r8, r0
 11952              	.LVL1380:
5562:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_dir = 0;		/* No static directory */
 11953              		.loc 1 5562 5 is_stmt 1 view .LVU4073
5563:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst <= MAX_FAT16 || n_clst > MAX_FAT32) return FR_MKFS_ABORTED;
 11954              		.loc 1 5563 5 view .LVU4074
5564:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* FAT12/16 volume */
 11955              		.loc 1 5564 5 view .LVU4075
5564:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* FAT12/16 volume */
 11956              		.loc 1 5564 29 is_stmt 0 view .LVU4076
 11957 0208 2C48     		ldr	r0, .L957+4
 11958 020a 1844     		add	r0, r0, r3
5564:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* FAT12/16 volume */
 11959              		.loc 1 5564 8 view .LVU4077
 11960 020c 2C4B     		ldr	r3, .L957+8
 11961              	.LVL1381:
5564:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* FAT12/16 volume */
 11962              		.loc 1 5564 8 view .LVU4078
 11963 020e 9842     		cmp	r0, r3
 11964 0210 00F22882 		bhi	.L923
5563:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst <= MAX_FAT16 || n_clst > MAX_FAT32) return FR_MKFS_ABORTED;
 11965              		.loc 1 5563 12 view .LVU4079
 11966 0214 DDF804C0 		ldr	ip, [sp, #4]
5562:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_dir = 0;		/* No static directory */
 11967              		.loc 1 5562 12 view .LVU4080
 11968 0218 4FF0200E 		mov	lr, #32
 11969 021c 99E7     		b	.L874
 11970              	.LVL1382:
 11971              	.L949:
5557:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (i = 0, pau = 1; cst32[i] && cst32[i] <= n; i++, pau <<= 1) ;	/* Get from table */
 11972              		.loc 1 5557 6 is_stmt 1 view .LVU4081
5557:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (i = 0, pau = 1; cst32[i] && cst32[i] <= n; i++, pau <<= 1) ;	/* Get from table */
 11973              		.loc 1 5557 8 is_stmt 0 view .LVU4082
 11974 021e 540C     		lsrs	r4, r2, #17
 11975              	.LVL1383:
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11976              		.loc 1 5558 6 is_stmt 1 view .LVU4083
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11977              		.loc 1 5558 13 is_stmt 0 view .LVU4084
 11978 0220 2846     		mov	r0, r5
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11979              		.loc 1 5558 22 view .LVU4085
 11980 0222 4FF0010A 		mov	r10, #1
ARM GAS  /tmp/ccBfkcjf.s 			page 379


5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11981              		.loc 1 5558 6 view .LVU4086
 11982 0226 02E0     		b	.L872
 11983              	.LVL1384:
 11984              	.L873:
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11985              		.loc 1 5558 70 is_stmt 1 discriminator 4 view .LVU4087
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11986              		.loc 1 5558 54 discriminator 4 view .LVU4088
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11987              		.loc 1 5558 55 is_stmt 0 discriminator 4 view .LVU4089
 11988 0228 0130     		adds	r0, r0, #1
 11989              	.LVL1385:
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11990              		.loc 1 5558 63 discriminator 4 view .LVU4090
 11991 022a 4FEA4A0A 		lsl	r10, r10, #1
 11992              	.LVL1386:
 11993              	.L872:
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11994              		.loc 1 5558 27 is_stmt 1 discriminator 1 view .LVU4091
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11995              		.loc 1 5558 32 is_stmt 0 discriminator 1 view .LVU4092
 11996 022e 254B     		ldr	r3, .L957+12
 11997 0230 33F81030 		ldrh	r3, [r3, r0, lsl #1]
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11998              		.loc 1 5558 6 discriminator 1 view .LVU4093
 11999 0234 002B     		cmp	r3, #0
 12000 0236 DBD0     		beq	.L871
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12001              		.loc 1 5558 36 discriminator 3 view .LVU4094
 12002 0238 A342     		cmp	r3, r4
 12003 023a F5D9     		bls	.L873
 12004 023c D8E7     		b	.L871
 12005              	.LVL1387:
 12006              	.L946:
5567:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (i = 0, pau = 1; cst[i] && cst[i] <= n; i++, pau <<= 1) ;	/* Get from table */
 12007              		.loc 1 5567 6 is_stmt 1 view .LVU4095
5567:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (i = 0, pau = 1; cst[i] && cst[i] <= n; i++, pau <<= 1) ;	/* Get from table */
 12008              		.loc 1 5567 8 is_stmt 0 view .LVU4096
 12009 023e 140B     		lsrs	r4, r2, #12
 12010              	.LVL1388:
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12011              		.loc 1 5568 6 is_stmt 1 view .LVU4097
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12012              		.loc 1 5568 13 is_stmt 0 view .LVU4098
 12013 0240 2846     		mov	r0, r5
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12014              		.loc 1 5568 22 view .LVU4099
 12015 0242 4FF0010A 		mov	r10, #1
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12016              		.loc 1 5568 6 view .LVU4100
 12017 0246 02E0     		b	.L876
 12018              	.LVL1389:
 12019              	.L877:
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12020              		.loc 1 5568 66 is_stmt 1 discriminator 4 view .LVU4101
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
ARM GAS  /tmp/ccBfkcjf.s 			page 380


 12021              		.loc 1 5568 50 discriminator 4 view .LVU4102
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12022              		.loc 1 5568 51 is_stmt 0 discriminator 4 view .LVU4103
 12023 0248 0130     		adds	r0, r0, #1
 12024              	.LVL1390:
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12025              		.loc 1 5568 59 discriminator 4 view .LVU4104
 12026 024a 4FEA4A0A 		lsl	r10, r10, #1
 12027              	.LVL1391:
 12028              	.L876:
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12029              		.loc 1 5568 27 is_stmt 1 discriminator 1 view .LVU4105
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12030              		.loc 1 5568 30 is_stmt 0 discriminator 1 view .LVU4106
 12031 024e 1E4B     		ldr	r3, .L957+16
 12032 0250 33F81030 		ldrh	r3, [r3, r0, lsl #1]
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12033              		.loc 1 5568 6 discriminator 1 view .LVU4107
 12034 0254 002B     		cmp	r3, #0
 12035 0256 3FF464AF 		beq	.L875
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12036              		.loc 1 5568 34 discriminator 3 view .LVU4108
 12037 025a A342     		cmp	r3, r4
 12038 025c F4D9     		bls	.L877
 12039 025e 60E7     		b	.L875
 12040              	.LVL1392:
 12041              	.L878:
5574:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = (n_clst * 3 + 1) / 2 + 3;	/* FAT size [byte] */
 12042              		.loc 1 5574 6 is_stmt 1 view .LVU4109
5575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12043              		.loc 1 5575 6 view .LVU4110
5575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12044              		.loc 1 5575 18 is_stmt 0 view .LVU4111
 12045 0260 03EB4303 		add	r3, r3, r3, lsl #1
 12046              	.LVL1393:
5575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12047              		.loc 1 5575 22 view .LVU4112
 12048 0264 03F10108 		add	r8, r3, #1
5575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12049              		.loc 1 5575 27 view .LVU4113
 12050 0268 4FEA5808 		lsr	r8, r8, #1
5575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12051              		.loc 1 5575 8 view .LVU4114
 12052 026c 08F10308 		add	r8, r8, #3
 12053              	.LVL1394:
5574:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = (n_clst * 3 + 1) / 2 + 3;	/* FAT size [byte] */
 12054              		.loc 1 5574 10 view .LVU4115
 12055 0270 4FF0010B 		mov	fp, #1
 12056 0274 60E7     		b	.L879
 12057              	.LVL1395:
 12058              	.L947:
5587:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* FAT12/16: Expand FAT size */
 12059              		.loc 1 5587 5 is_stmt 1 view .LVU4116
5587:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* FAT12/16: Expand FAT size */
 12060              		.loc 1 5587 12 is_stmt 0 view .LVU4117
 12061 0276 A644     		add	lr, lr, r4
 12062              	.LVL1396:
ARM GAS  /tmp/ccBfkcjf.s 			page 381


5587:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* FAT12/16: Expand FAT size */
 12063              		.loc 1 5587 18 is_stmt 1 view .LVU4118
5587:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* FAT12/16: Expand FAT size */
 12064              		.loc 1 5587 24 is_stmt 0 view .LVU4119
 12065 0278 A144     		add	r9, r9, r4
 12066              	.LVL1397:
5587:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* FAT12/16: Expand FAT size */
 12067              		.loc 1 5587 24 view .LVU4120
 12068 027a 7BE7     		b	.L881
 12069              	.LVL1398:
 12070              	.L948:
5596:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (au = pau / 2) != 0) continue;	/* Adjust cluster size and retry */
 12071              		.loc 1 5596 5 is_stmt 1 view .LVU4121
5596:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (au = pau / 2) != 0) continue;	/* Adjust cluster size and retry */
 12072              		.loc 1 5596 8 is_stmt 0 view .LVU4122
 12073 027c 4FF6F570 		movw	r0, #65525
 12074 0280 8342     		cmp	r3, r0
 12075 0282 89D8     		bhi	.L882
5597:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 12076              		.loc 1 5597 6 is_stmt 1 view .LVU4123
5597:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 12077              		.loc 1 5597 9 is_stmt 0 view .LVU4124
 12078 0284 002D     		cmp	r5, #0
 12079 0286 40F0F181 		bne	.L926
5597:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 12080              		.loc 1 5597 21 discriminator 1 view .LVU4125
 12081 028a 4FEA5A05 		lsr	r5, r10, #1
 12082              	.LVL1399:
5597:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 12083              		.loc 1 5597 14 discriminator 1 view .LVU4126
 12084 028e BAF1010F 		cmp	r10, #1
 12085 0292 3FF63FAF 		bhi	.L869
5598:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12086              		.loc 1 5598 13 view .LVU4127
 12087 0296 0E20     		movs	r0, #14
 12088 0298 BDE1     		b	.L861
 12089              	.LVL1400:
 12090              	.L885:
5612:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (au = pau * 2) <= 128) continue;	/* Adjust cluster size and retry */
 12091              		.loc 1 5612 5 is_stmt 1 view .LVU4128
5612:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (au = pau * 2) <= 128) continue;	/* Adjust cluster size and retry */
 12092              		.loc 1 5612 9 is_stmt 0 view .LVU4129
 12093 029a 40F6F570 		movw	r0, #4085
 12094 029e 8342     		cmp	r3, r0
 12095 02a0 14D8     		bhi	.L884
5613:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 12096              		.loc 1 5613 6 is_stmt 1 view .LVU4130
5613:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 12097              		.loc 1 5613 9 is_stmt 0 view .LVU4131
 12098 02a2 002D     		cmp	r5, #0
 12099 02a4 40F0E681 		bne	.L930
5613:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 12100              		.loc 1 5613 21 discriminator 1 view .LVU4132
 12101 02a8 4FEA4A05 		lsl	r5, r10, #1
 12102              	.LVL1401:
5613:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 12103              		.loc 1 5613 14 discriminator 1 view .LVU4133
ARM GAS  /tmp/ccBfkcjf.s 			page 382


 12104 02ac 802D     		cmp	r5, #128
 12105 02ae 7FF631AF 		bls	.L869
5614:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12106              		.loc 1 5614 13 view .LVU4134
 12107 02b2 0E20     		movs	r0, #14
 12108 02b4 AFE1     		b	.L861
 12109              	.L958:
 12110 02b6 00BF     		.align	2
 12111              	.L957:
 12112 02b8 00000000 		.word	.LANCHOR2
 12113 02bc 0A00FFFF 		.word	-65526
 12114 02c0 FFFFFE0F 		.word	268369919
 12115 02c4 00000000 		.word	.LANCHOR6
 12116 02c8 00000000 		.word	.LANCHOR7
 12117              	.LVL1402:
 12118              	.L884:
5617:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12119              		.loc 1 5617 24 view .LVU4135
 12120 02cc CDF818C0 		str	ip, [sp, #24]
 12121 02d0 7546     		mov	r5, lr
 12122 02d2 CDF81490 		str	r9, [sp, #20]
 12123 02d6 039C     		ldr	r4, [sp, #12]
 12124              	.LVL1403:
5617:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12125              		.loc 1 5617 24 view .LVU4136
 12126 02d8 DDF81090 		ldr	r9, [sp, #16]
 12127              	.LVL1404:
5617:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12128              		.loc 1 5617 24 view .LVU4137
 12129 02dc 0493     		str	r3, [sp, #16]
 12130              	.LVL1405:
5617:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12131              		.loc 1 5617 4 is_stmt 1 view .LVU4138
5617:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12132              		.loc 1 5617 24 is_stmt 0 view .LVU4139
 12133 02de 40F6F572 		movw	r2, #4085
 12134 02e2 1946     		mov	r1, r3
 12135 02e4 BBF1010F 		cmp	fp, #1
 12136 02e8 14BF     		ite	ne
 12137 02ea 0023     		movne	r3, #0
 12138              	.LVL1406:
5617:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12139              		.loc 1 5617 24 view .LVU4140
 12140 02ec 0123     		moveq	r3, #1
 12141 02ee 9142     		cmp	r1, r2
 12142 02f0 98BF     		it	ls
 12143 02f2 0023     		movls	r3, #0
5617:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12144              		.loc 1 5617 7 view .LVU4141
 12145 02f4 002B     		cmp	r3, #0
 12146 02f6 40F0BF81 		bne	.L931
 12147              	.LVL1407:
5620:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (1);
 12148              		.loc 1 5620 4 is_stmt 1 view .LVU4142
5628:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(buf + BS_JmpBoot, "\xEB\xFE\x90" "MSDOS5.0", 11);/* Boot jump code (x86), OEM name */
 12149              		.loc 1 5628 3 view .LVU4143
 12150 02fa BDF82E20 		ldrh	r2, [sp, #46]
ARM GAS  /tmp/ccBfkcjf.s 			page 383


 12151 02fe 0021     		movs	r1, #0
 12152              	.LVL1408:
5628:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(buf + BS_JmpBoot, "\xEB\xFE\x90" "MSDOS5.0", 11);/* Boot jump code (x86), OEM name */
 12153              		.loc 1 5628 3 is_stmt 0 view .LVU4144
 12154 0300 3046     		mov	r0, r6
 12155 0302 FFF7FEFF 		bl	mem_set
 12156              	.LVL1409:
5629:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_BytsPerSec, ss);				/* Sector size [byte] */
 12157              		.loc 1 5629 3 is_stmt 1 view .LVU4145
 12158 0306 0B22     		movs	r2, #11
 12159 0308 D049     		ldr	r1, .L959
 12160 030a 3046     		mov	r0, r6
 12161 030c FFF7FEFF 		bl	mem_cpy
 12162              	.LVL1410:
5630:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[BPB_SecPerClus] = (BYTE)pau;				/* Cluster size [sector] */
 12163              		.loc 1 5630 3 view .LVU4146
 12164 0310 BDF82E10 		ldrh	r1, [sp, #46]
 12165 0314 06F10B00 		add	r0, r6, #11
 12166 0318 FFF7FEFF 		bl	st_word
 12167              	.LVL1411:
5631:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_RsvdSecCnt, (WORD)sz_rsv);	/* Size of reserved area */
 12168              		.loc 1 5631 3 view .LVU4147
5631:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_RsvdSecCnt, (WORD)sz_rsv);	/* Size of reserved area */
 12169              		.loc 1 5631 23 is_stmt 0 view .LVU4148
 12170 031c 86F80DA0 		strb	r10, [r6, #13]
5632:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[BPB_NumFATs] = (BYTE)n_fats;				/* Number of FATs */
 12171              		.loc 1 5632 3 is_stmt 1 view .LVU4149
 12172 0320 A9B2     		uxth	r1, r5
 12173 0322 06F10E00 		add	r0, r6, #14
 12174 0326 FFF7FEFF 		bl	st_word
 12175              	.LVL1412:
5633:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_RootEntCnt, (WORD)((fmt == FS_FAT32) ? 0 : n_rootdir));	/* Number of root direc
 12176              		.loc 1 5633 3 view .LVU4150
5633:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_RootEntCnt, (WORD)((fmt == FS_FAT32) ? 0 : n_rootdir));	/* Number of root direc
 12177              		.loc 1 5633 20 is_stmt 0 view .LVU4151
 12178 032a 0123     		movs	r3, #1
 12179 032c 3374     		strb	r3, [r6, #16]
5634:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < 0x10000) {
 12180              		.loc 1 5634 3 is_stmt 1 view .LVU4152
 12181 032e 06F11100 		add	r0, r6, #17
 12182 0332 BBF1030F 		cmp	fp, #3
 12183 0336 7DD0     		beq	.L950
 12184 0338 4FF40071 		mov	r1, #512
 12185              	.L888:
5634:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < 0x10000) {
 12186              		.loc 1 5634 3 is_stmt 0 discriminator 4 view .LVU4153
 12187 033c FFF7FEFF 		bl	st_word
 12188              	.LVL1413:
5635:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_TotSec16, (WORD)sz_vol);	/* Volume size in 16-bit LBA */
 12189              		.loc 1 5635 3 is_stmt 1 discriminator 4 view .LVU4154
5635:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_TotSec16, (WORD)sz_vol);	/* Volume size in 16-bit LBA */
 12190              		.loc 1 5635 14 is_stmt 0 discriminator 4 view .LVU4155
 12191 0340 0999     		ldr	r1, [sp, #36]
5635:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_TotSec16, (WORD)sz_vol);	/* Volume size in 16-bit LBA */
 12192              		.loc 1 5635 6 discriminator 4 view .LVU4156
 12193 0342 B1F5803F 		cmp	r1, #65536
 12194 0346 77D2     		bcs	.L889
ARM GAS  /tmp/ccBfkcjf.s 			page 384


5636:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 12195              		.loc 1 5636 4 is_stmt 1 view .LVU4157
 12196 0348 89B2     		uxth	r1, r1
 12197 034a 06F11300 		add	r0, r6, #19
 12198 034e FFF7FEFF 		bl	st_word
 12199              	.LVL1414:
 12200              	.L890:
5640:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_SecPerTrk, 63);				/* Number of sectors per track (for int13) */
 12201              		.loc 1 5640 3 view .LVU4158
5640:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_SecPerTrk, 63);				/* Number of sectors per track (for int13) */
 12202              		.loc 1 5640 18 is_stmt 0 view .LVU4159
 12203 0352 F823     		movs	r3, #248
 12204 0354 7375     		strb	r3, [r6, #21]
5641:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_NumHeads, 255);				/* Number of heads (for int13) */
 12205              		.loc 1 5641 3 is_stmt 1 view .LVU4160
 12206 0356 3F21     		movs	r1, #63
 12207 0358 06F11800 		add	r0, r6, #24
 12208 035c FFF7FEFF 		bl	st_word
 12209              	.LVL1415:
5642:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + BPB_HiddSec, b_vol);				/* Volume offset in the physical drive [sector] */
 12210              		.loc 1 5642 3 view .LVU4161
 12211 0360 FF21     		movs	r1, #255
 12212 0362 06F11A00 		add	r0, r6, #26
 12213 0366 FFF7FEFF 		bl	st_word
 12214              	.LVL1416:
5643:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
 12215              		.loc 1 5643 3 view .LVU4162
 12216 036a 0099     		ldr	r1, [sp]
 12217 036c 06F11C00 		add	r0, r6, #28
 12218 0370 FFF7FEFF 		bl	st_dword
 12219              	.LVL1417:
5644:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BS_VolID32, GET_FATTIME());	/* VSN */
 12220              		.loc 1 5644 3 view .LVU4163
5644:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BS_VolID32, GET_FATTIME());	/* VSN */
 12221              		.loc 1 5644 6 is_stmt 0 view .LVU4164
 12222 0374 BBF1030F 		cmp	fp, #3
 12223 0378 63D0     		beq	.L951
5654:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_FATSz16, (WORD)sz_fat);	/* FAT size [sector] */
 12224              		.loc 1 5654 4 is_stmt 1 view .LVU4165
 12225 037a FFF7FEFF 		bl	get_fattime
 12226              	.LVL1418:
 12227 037e 0146     		mov	r1, r0
 12228 0380 06F12700 		add	r0, r6, #39
 12229 0384 FFF7FEFF 		bl	st_dword
 12230              	.LVL1419:
5655:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_DrvNum] = 0x80;						/* Drive number (for int13) */
 12231              		.loc 1 5655 4 view .LVU4166
 12232 0388 1FFA88F1 		uxth	r1, r8
 12233 038c 06F11600 		add	r0, r6, #22
 12234 0390 FFF7FEFF 		bl	st_word
 12235              	.LVL1420:
5656:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_BootSig] = 0x29;						/* Extended boot signature */
 12236              		.loc 1 5656 4 view .LVU4167
5656:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_BootSig] = 0x29;						/* Extended boot signature */
 12237              		.loc 1 5656 19 is_stmt 0 view .LVU4168
 12238 0394 8023     		movs	r3, #128
 12239 0396 86F82430 		strb	r3, [r6, #36]
ARM GAS  /tmp/ccBfkcjf.s 			page 385


5657:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(buf + BS_VolLab, "NO NAME    " "FAT     ", 19);	/* Volume label, FAT signature */
 12240              		.loc 1 5657 4 is_stmt 1 view .LVU4169
5657:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(buf + BS_VolLab, "NO NAME    " "FAT     ", 19);	/* Volume label, FAT signature */
 12241              		.loc 1 5657 20 is_stmt 0 view .LVU4170
 12242 039a 2923     		movs	r3, #41
 12243 039c 86F82630 		strb	r3, [r6, #38]
5658:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 12244              		.loc 1 5658 4 is_stmt 1 view .LVU4171
 12245 03a0 1322     		movs	r2, #19
 12246 03a2 AB49     		ldr	r1, .L959+4
 12247 03a4 06F12B00 		add	r0, r6, #43
 12248 03a8 FFF7FEFF 		bl	mem_cpy
 12249              	.LVL1421:
 12250              	.L892:
5660:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(pdrv, buf, b_vol, 1) != RES_OK) return FR_DISK_ERR;	/* Write it to the VBR sector 
 12251              		.loc 1 5660 3 view .LVU4172
 12252 03ac 06F5FF73 		add	r3, r6, #510
 12253 03b0 0393     		str	r3, [sp, #12]
 12254              	.LVL1422:
5660:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(pdrv, buf, b_vol, 1) != RES_OK) return FR_DISK_ERR;	/* Write it to the VBR sector 
 12255              		.loc 1 5660 3 is_stmt 0 view .LVU4173
 12256 03b2 4AF65521 		movw	r1, #43605
 12257 03b6 1846     		mov	r0, r3
 12258 03b8 FFF7FEFF 		bl	st_word
 12259              	.LVL1423:
5661:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12260              		.loc 1 5661 3 is_stmt 1 view .LVU4174
5661:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12261              		.loc 1 5661 7 is_stmt 0 view .LVU4175
 12262 03bc 0123     		movs	r3, #1
 12263 03be 009A     		ldr	r2, [sp]
 12264 03c0 3146     		mov	r1, r6
 12265 03c2 2046     		mov	r0, r4
 12266 03c4 FFF7FEFF 		bl	disk_write
 12267              	.LVL1424:
5661:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12268              		.loc 1 5661 6 view .LVU4176
 12269 03c8 0028     		cmp	r0, #0
 12270 03ca 40F05781 		bne	.L933
5664:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 6, 1);		/* Write backup VBR (VBR + 6) */
 12271              		.loc 1 5664 3 is_stmt 1 view .LVU4177
5664:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 6, 1);		/* Write backup VBR (VBR + 6) */
 12272              		.loc 1 5664 6 is_stmt 0 view .LVU4178
 12273 03ce BBF1030F 		cmp	fp, #3
 12274 03d2 5ED0     		beq	.L952
 12275              	.LVL1425:
 12276              	.L893:
5677:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_fat;		/* FAT start sector */
 12277              		.loc 1 5677 3 is_stmt 1 view .LVU4179
 12278 03d4 3A46     		mov	r2, r7
 12279 03d6 0021     		movs	r1, #0
 12280 03d8 3046     		mov	r0, r6
 12281 03da FFF7FEFF 		bl	mem_set
 12282              	.LVL1426:
5678:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < n_fats; i++) {			/* Initialize FATs each */
 12283              		.loc 1 5678 3 view .LVU4180
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
ARM GAS  /tmp/ccBfkcjf.s 			page 386


 12284              		.loc 1 5679 3 view .LVU4181
 12285              	.L894:
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 12286              		.loc 1 5679 15 discriminator 1 view .LVU4182
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 12287              		.loc 1 5679 3 is_stmt 0 discriminator 1 view .LVU4183
 12288 03de 019B     		ldr	r3, [sp, #4]
 12289 03e0 002B     		cmp	r3, #0
 12290 03e2 00F08980 		beq	.L899
5697:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 12291              		.loc 1 5697 3 is_stmt 1 view .LVU4184
5697:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 12292              		.loc 1 5697 35 is_stmt 0 view .LVU4185
 12293 03e6 BBF1030F 		cmp	fp, #3
 12294 03ea 00F0C080 		beq	.L953
 12295 03ee 069F     		ldr	r7, [sp, #24]
 12296 03f0 DDF81480 		ldr	r8, [sp, #20]
 12297              	.LVL1427:
 12298              	.L901:
5698:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (nsect > sz_buf) ? sz_buf : nsect;
 12299              		.loc 1 5698 3 is_stmt 1 view .LVU4186
5699:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect, (UINT)n) != RES_OK) return FR_DISK_ERR;
 12300              		.loc 1 5699 4 view .LVU4187
5699:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect, (UINT)n) != RES_OK) return FR_DISK_ERR;
 12301              		.loc 1 5699 6 is_stmt 0 view .LVU4188
 12302 03f4 3D46     		mov	r5, r7
 12303 03f6 4F45     		cmp	r7, r9
 12304 03f8 28BF     		it	cs
 12305 03fa 4D46     		movcs	r5, r9
 12306              	.LVL1428:
5700:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
 12307              		.loc 1 5700 4 is_stmt 1 view .LVU4189
5700:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
 12308              		.loc 1 5700 8 is_stmt 0 view .LVU4190
 12309 03fc 2B46     		mov	r3, r5
 12310 03fe 4246     		mov	r2, r8
 12311 0400 3146     		mov	r1, r6
 12312 0402 2046     		mov	r0, r4
 12313 0404 FFF7FEFF 		bl	disk_write
 12314              	.LVL1429:
5700:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
 12315              		.loc 1 5700 7 view .LVU4191
 12316 0408 0028     		cmp	r0, #0
 12317 040a 40F03B81 		bne	.L936
5701:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
 12318              		.loc 1 5701 4 is_stmt 1 view .LVU4192
5701:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
 12319              		.loc 1 5701 9 is_stmt 0 view .LVU4193
 12320 040e A844     		add	r8, r8, r5
 12321              	.LVL1430:
5701:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
 12322              		.loc 1 5701 15 is_stmt 1 view .LVU4194
5702:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 12323              		.loc 1 5702 11 view .LVU4195
5702:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 12324              		.loc 1 5702 3 is_stmt 0 view .LVU4196
 12325 0410 7F1B     		subs	r7, r7, r5
ARM GAS  /tmp/ccBfkcjf.s 			page 387


 12326              	.LVL1431:
5702:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 12327              		.loc 1 5702 3 view .LVU4197
 12328 0412 EFD1     		bne	.L901
5706:Middlewares/Third_Party/FatFs/src/ff.c **** 		sys = 0x07;			/* HPFS/NTFS/exFAT */
 12329              		.loc 1 5706 2 is_stmt 1 view .LVU4198
5709:Middlewares/Third_Party/FatFs/src/ff.c **** 			sys = 0x0C;		/* FAT32X */
 12330              		.loc 1 5709 3 view .LVU4199
5709:Middlewares/Third_Party/FatFs/src/ff.c **** 			sys = 0x0C;		/* FAT32X */
 12331              		.loc 1 5709 6 is_stmt 0 view .LVU4200
 12332 0414 BBF1030F 		cmp	fp, #3
 12333 0418 00F0B080 		beq	.L937
5712:Middlewares/Third_Party/FatFs/src/ff.c **** 				sys = 0x06;	/* FAT12/16 (>=64KS) */
 12334              		.loc 1 5712 4 is_stmt 1 view .LVU4201
5712:Middlewares/Third_Party/FatFs/src/ff.c **** 				sys = 0x06;	/* FAT12/16 (>=64KS) */
 12335              		.loc 1 5712 15 is_stmt 0 view .LVU4202
 12336 041c 099B     		ldr	r3, [sp, #36]
5712:Middlewares/Third_Party/FatFs/src/ff.c **** 				sys = 0x06;	/* FAT12/16 (>=64KS) */
 12337              		.loc 1 5712 7 view .LVU4203
 12338 041e B3F5803F 		cmp	r3, #65536
 12339 0422 80F0F080 		bcs	.L938
5715:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 12340              		.loc 1 5715 5 is_stmt 1 view .LVU4204
5715:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 12341              		.loc 1 5715 9 is_stmt 0 view .LVU4205
 12342 0426 BBF1020F 		cmp	fp, #2
 12343 042a 00F0A480 		beq	.L954
 12344 042e 4FF00108 		mov	r8, #1
 12345              	.LVL1432:
5715:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 12346              		.loc 1 5715 9 view .LVU4206
 12347 0432 A5E0     		b	.L902
 12348              	.LVL1433:
 12349              	.L950:
5634:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < 0x10000) {
 12350              		.loc 1 5634 3 view .LVU4207
 12351 0434 0021     		movs	r1, #0
 12352 0436 81E7     		b	.L888
 12353              	.L889:
5638:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 12354              		.loc 1 5638 4 is_stmt 1 view .LVU4208
 12355 0438 06F12000 		add	r0, r6, #32
 12356 043c FFF7FEFF 		bl	st_dword
 12357              	.LVL1434:
 12358 0440 87E7     		b	.L890
 12359              	.L951:
5645:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_FATSz32, sz_fat);		/* FAT size [sector] */
 12360              		.loc 1 5645 4 view .LVU4209
 12361 0442 FFF7FEFF 		bl	get_fattime
 12362              	.LVL1435:
 12363 0446 0146     		mov	r1, r0
 12364 0448 06F14300 		add	r0, r6, #67
 12365 044c FFF7FEFF 		bl	st_dword
 12366              	.LVL1436:
5646:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_RootClus32, 2);			/* Root directory cluster # (2) */
 12367              		.loc 1 5646 4 view .LVU4210
 12368 0450 4146     		mov	r1, r8
ARM GAS  /tmp/ccBfkcjf.s 			page 388


 12369 0452 06F12400 		add	r0, r6, #36
 12370 0456 FFF7FEFF 		bl	st_dword
 12371              	.LVL1437:
5647:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_FSInfo32, 1);				/* Offset of FSINFO sector (VBR + 1) */
 12372              		.loc 1 5647 4 view .LVU4211
 12373 045a 0221     		movs	r1, #2
 12374 045c 06F12C00 		add	r0, r6, #44
 12375 0460 FFF7FEFF 		bl	st_dword
 12376              	.LVL1438:
5648:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_BkBootSec32, 6);			/* Offset of backup VBR (VBR + 6) */
 12377              		.loc 1 5648 4 view .LVU4212
 12378 0464 0121     		movs	r1, #1
 12379 0466 06F13000 		add	r0, r6, #48
 12380 046a FFF7FEFF 		bl	st_word
 12381              	.LVL1439:
5649:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_DrvNum32] = 0x80;					/* Drive number (for int13) */
 12382              		.loc 1 5649 4 view .LVU4213
 12383 046e 0621     		movs	r1, #6
 12384 0470 06F13200 		add	r0, r6, #50
 12385 0474 FFF7FEFF 		bl	st_word
 12386              	.LVL1440:
5650:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_BootSig32] = 0x29;					/* Extended boot signature */
 12387              		.loc 1 5650 4 view .LVU4214
5650:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_BootSig32] = 0x29;					/* Extended boot signature */
 12388              		.loc 1 5650 21 is_stmt 0 view .LVU4215
 12389 0478 8023     		movs	r3, #128
 12390 047a 86F84030 		strb	r3, [r6, #64]
5651:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(buf + BS_VolLab32, "NO NAME    " "FAT32   ", 19);	/* Volume label, FAT signature */
 12391              		.loc 1 5651 4 is_stmt 1 view .LVU4216
5651:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(buf + BS_VolLab32, "NO NAME    " "FAT32   ", 19);	/* Volume label, FAT signature */
 12392              		.loc 1 5651 22 is_stmt 0 view .LVU4217
 12393 047e 2923     		movs	r3, #41
 12394 0480 86F84230 		strb	r3, [r6, #66]
5652:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 12395              		.loc 1 5652 4 is_stmt 1 view .LVU4218
 12396 0484 1322     		movs	r2, #19
 12397 0486 7349     		ldr	r1, .L959+8
 12398 0488 06F14700 		add	r0, r6, #71
 12399 048c FFF7FEFF 		bl	mem_cpy
 12400              	.LVL1441:
 12401 0490 8CE7     		b	.L892
 12402              	.LVL1442:
 12403              	.L952:
5665:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
 12404              		.loc 1 5665 4 view .LVU4219
 12405 0492 0123     		movs	r3, #1
 12406 0494 009D     		ldr	r5, [sp]
 12407              	.LVL1443:
5665:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
 12408              		.loc 1 5665 4 is_stmt 0 view .LVU4220
 12409 0496 AA1D     		adds	r2, r5, #6
 12410 0498 3146     		mov	r1, r6
 12411 049a 2046     		mov	r0, r4
 12412 049c FFF7FEFF 		bl	disk_write
 12413              	.LVL1444:
5666:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_LeadSig, 0x41615252);
 12414              		.loc 1 5666 4 is_stmt 1 view .LVU4221
ARM GAS  /tmp/ccBfkcjf.s 			page 389


 12415 04a0 BDF82E20 		ldrh	r2, [sp, #46]
 12416 04a4 0021     		movs	r1, #0
 12417 04a6 3046     		mov	r0, r6
 12418 04a8 FFF7FEFF 		bl	mem_set
 12419              	.LVL1445:
5667:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_StrucSig, 0x61417272);
 12420              		.loc 1 5667 4 view .LVU4222
 12421 04ac 6A49     		ldr	r1, .L959+12
 12422 04ae 3046     		mov	r0, r6
 12423 04b0 FFF7FEFF 		bl	st_dword
 12424              	.LVL1446:
5668:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_Free_Count, n_clst - 1);	/* Number of free clusters */
 12425              		.loc 1 5668 4 view .LVU4223
 12426 04b4 6949     		ldr	r1, .L959+16
 12427 04b6 06F5F270 		add	r0, r6, #484
 12428 04ba FFF7FEFF 		bl	st_dword
 12429              	.LVL1447:
5669:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_Nxt_Free, 2);			/* Last allocated cluster# */
 12430              		.loc 1 5669 4 view .LVU4224
 12431 04be 049B     		ldr	r3, [sp, #16]
 12432 04c0 591E     		subs	r1, r3, #1
 12433 04c2 06F5F470 		add	r0, r6, #488
 12434 04c6 FFF7FEFF 		bl	st_dword
 12435              	.LVL1448:
5670:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BS_55AA, 0xAA55);
 12436              		.loc 1 5670 4 view .LVU4225
 12437 04ca 0221     		movs	r1, #2
 12438 04cc 06F5F670 		add	r0, r6, #492
 12439 04d0 FFF7FEFF 		bl	st_dword
 12440              	.LVL1449:
5671:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 7, 1);		/* Write backup FSINFO (VBR + 7) */
 12441              		.loc 1 5671 4 view .LVU4226
 12442 04d4 4AF65521 		movw	r1, #43605
 12443 04d8 0398     		ldr	r0, [sp, #12]
 12444 04da FFF7FEFF 		bl	st_word
 12445              	.LVL1450:
5672:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 1, 1);		/* Write original FSINFO (VBR + 1) */
 12446              		.loc 1 5672 4 view .LVU4227
 12447 04de 0123     		movs	r3, #1
 12448 04e0 EA1D     		adds	r2, r5, #7
 12449 04e2 3146     		mov	r1, r6
 12450 04e4 2046     		mov	r0, r4
 12451 04e6 FFF7FEFF 		bl	disk_write
 12452              	.LVL1451:
5673:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 12453              		.loc 1 5673 4 view .LVU4228
 12454 04ea 0123     		movs	r3, #1
 12455 04ec EA18     		adds	r2, r5, r3
 12456 04ee 3146     		mov	r1, r6
 12457 04f0 2046     		mov	r0, r4
 12458 04f2 FFF7FEFF 		bl	disk_write
 12459              	.LVL1452:
 12460 04f6 6DE7     		b	.L893
 12461              	.LVL1453:
 12462              	.L899:
5680:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 0, 0xFFFFFFF8);	/* Entry 0 */
 12463              		.loc 1 5680 4 view .LVU4229
ARM GAS  /tmp/ccBfkcjf.s 			page 390


5680:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 0, 0xFFFFFFF8);	/* Entry 0 */
 12464              		.loc 1 5680 7 is_stmt 0 view .LVU4230
 12465 04f8 BBF1030F 		cmp	fp, #3
 12466 04fc 24D0     		beq	.L955
5685:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 12467              		.loc 1 5685 5 is_stmt 1 view .LVU4231
 12468 04fe BBF1010F 		cmp	fp, #1
 12469 0502 32D0     		beq	.L956
 12470 0504 6FF00701 		mvn	r1, #7
 12471              	.L897:
5685:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 12472              		.loc 1 5685 5 is_stmt 0 discriminator 4 view .LVU4232
 12473 0508 3046     		mov	r0, r6
 12474 050a FFF7FEFF 		bl	st_dword
 12475              	.LVL1454:
 12476              	.L896:
5685:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 12477              		.loc 1 5685 5 view .LVU4233
 12478 050e 4546     		mov	r5, r8
 12479              	.L898:
 12480              	.LVL1455:
5688:Middlewares/Third_Party/FatFs/src/ff.c **** 				n = (nsect > sz_buf) ? sz_buf : nsect;
 12481              		.loc 1 5688 4 is_stmt 1 view .LVU4234
5689:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(pdrv, buf, sect, (UINT)n) != RES_OK) return FR_DISK_ERR;
 12482              		.loc 1 5689 5 view .LVU4235
5689:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(pdrv, buf, sect, (UINT)n) != RES_OK) return FR_DISK_ERR;
 12483              		.loc 1 5689 7 is_stmt 0 view .LVU4236
 12484 0510 2F46     		mov	r7, r5
 12485 0512 4D45     		cmp	r5, r9
 12486 0514 28BF     		it	cs
 12487 0516 4F46     		movcs	r7, r9
 12488              	.LVL1456:
5690:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(buf, 0, ss);
 12489              		.loc 1 5690 5 is_stmt 1 view .LVU4237
5690:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(buf, 0, ss);
 12490              		.loc 1 5690 9 is_stmt 0 view .LVU4238
 12491 0518 3B46     		mov	r3, r7
 12492 051a 059A     		ldr	r2, [sp, #20]
 12493 051c 3146     		mov	r1, r6
 12494 051e 2046     		mov	r0, r4
 12495 0520 FFF7FEFF 		bl	disk_write
 12496              	.LVL1457:
5690:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(buf, 0, ss);
 12497              		.loc 1 5690 8 view .LVU4239
 12498 0524 0028     		cmp	r0, #0
 12499 0526 40F0AB80 		bne	.L935
5691:Middlewares/Third_Party/FatFs/src/ff.c **** 				sect += n; nsect -= n;
 12500              		.loc 1 5691 5 is_stmt 1 view .LVU4240
 12501 052a BDF82E20 		ldrh	r2, [sp, #46]
 12502 052e 0021     		movs	r1, #0
 12503 0530 3046     		mov	r0, r6
 12504 0532 FFF7FEFF 		bl	mem_set
 12505              	.LVL1458:
5692:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (nsect);
 12506              		.loc 1 5692 5 view .LVU4241
5692:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (nsect);
 12507              		.loc 1 5692 10 is_stmt 0 view .LVU4242
ARM GAS  /tmp/ccBfkcjf.s 			page 391


 12508 0536 059B     		ldr	r3, [sp, #20]
 12509 0538 3B44     		add	r3, r3, r7
 12510 053a 0593     		str	r3, [sp, #20]
 12511              	.LVL1459:
5692:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (nsect);
 12512              		.loc 1 5692 16 is_stmt 1 view .LVU4243
5693:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 12513              		.loc 1 5693 12 view .LVU4244
5693:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 12514              		.loc 1 5693 4 is_stmt 0 view .LVU4245
 12515 053c ED1B     		subs	r5, r5, r7
 12516              	.LVL1460:
5693:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 12517              		.loc 1 5693 4 view .LVU4246
 12518 053e E7D1     		bne	.L898
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 12519              		.loc 1 5679 27 is_stmt 1 discriminator 2 view .LVU4247
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 12520              		.loc 1 5679 28 is_stmt 0 discriminator 2 view .LVU4248
 12521 0540 019B     		ldr	r3, [sp, #4]
 12522              	.LVL1461:
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 12523              		.loc 1 5679 28 discriminator 2 view .LVU4249
 12524 0542 0133     		adds	r3, r3, #1
 12525 0544 0193     		str	r3, [sp, #4]
 12526              	.LVL1462:
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 12527              		.loc 1 5679 28 discriminator 2 view .LVU4250
 12528 0546 4AE7     		b	.L894
 12529              	.LVL1463:
 12530              	.L955:
5681:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 4, 0xFFFFFFFF);	/* Entry 1 */
 12531              		.loc 1 5681 5 is_stmt 1 view .LVU4251
 12532 0548 6FF00701 		mvn	r1, #7
 12533 054c 3046     		mov	r0, r6
 12534 054e FFF7FEFF 		bl	st_dword
 12535              	.LVL1464:
5682:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 8, 0x0FFFFFFF);	/* Entry 2 (root directory) */
 12536              		.loc 1 5682 5 view .LVU4252
 12537 0552 4FF0FF31 		mov	r1, #-1
 12538 0556 301D     		adds	r0, r6, #4
 12539 0558 FFF7FEFF 		bl	st_dword
 12540              	.LVL1465:
5683:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 12541              		.loc 1 5683 5 view .LVU4253
 12542 055c 6FF07041 		mvn	r1, #-268435456
 12543 0560 06F10800 		add	r0, r6, #8
 12544 0564 FFF7FEFF 		bl	st_dword
 12545              	.LVL1466:
 12546 0568 D1E7     		b	.L896
 12547              	.LVL1467:
 12548              	.L956:
5685:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 12549              		.loc 1 5685 5 is_stmt 0 view .LVU4254
 12550 056a 3D49     		ldr	r1, .L959+20
 12551 056c CCE7     		b	.L897
 12552              	.L953:
ARM GAS  /tmp/ccBfkcjf.s 			page 392


5697:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 12553              		.loc 1 5697 35 view .LVU4255
 12554 056e 5746     		mov	r7, r10
 12555 0570 DDF81480 		ldr	r8, [sp, #20]
 12556              	.LVL1468:
5697:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 12557              		.loc 1 5697 35 view .LVU4256
 12558 0574 3EE7     		b	.L901
 12559              	.LVL1469:
 12560              	.L954:
5715:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 12561              		.loc 1 5715 9 view .LVU4257
 12562 0576 4FF00408 		mov	r8, #4
 12563              	.LVL1470:
5715:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 12564              		.loc 1 5715 9 view .LVU4258
 12565 057a 01E0     		b	.L902
 12566              	.LVL1471:
 12567              	.L937:
5710:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 12568              		.loc 1 5710 8 view .LVU4259
 12569 057c 4FF00C08 		mov	r8, #12
 12570              	.LVL1472:
 12571              	.L902:
5721:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update system ID in the partition table */
 12572              		.loc 1 5721 2 is_stmt 1 view .LVU4260
5727:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
 12573              		.loc 1 5727 3 view .LVU4261
5727:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
 12574              		.loc 1 5727 6 is_stmt 0 view .LVU4262
 12575 0580 029B     		ldr	r3, [sp, #8]
 12576 0582 C3BB     		cbnz	r3, .L903
5728:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BS_55AA, 0xAA55);		/* MBR signature */
 12577              		.loc 1 5728 4 is_stmt 1 view .LVU4263
 12578 0584 BDF82E20 		ldrh	r2, [sp, #46]
 12579 0588 0021     		movs	r1, #0
 12580 058a 3046     		mov	r0, r6
 12581 058c FFF7FEFF 		bl	mem_set
 12582              	.LVL1473:
5729:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte = buf + MBR_Table;				/* Create partition table for single partition in the drive */
 12583              		.loc 1 5729 4 view .LVU4264
 12584 0590 4AF65521 		movw	r1, #43605
 12585 0594 0398     		ldr	r0, [sp, #12]
 12586 0596 FFF7FEFF 		bl	st_word
 12587              	.LVL1474:
5730:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_Boot] = 0;					/* Boot indicator */
 12588              		.loc 1 5730 4 view .LVU4265
5731:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StHead] = 1;				/* Start head */
 12589              		.loc 1 5731 4 view .LVU4266
5731:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StHead] = 1;				/* Start head */
 12590              		.loc 1 5731 18 is_stmt 0 view .LVU4267
 12591 059a 0025     		movs	r5, #0
 12592              	.LVL1475:
5731:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StHead] = 1;				/* Start head */
 12593              		.loc 1 5731 18 view .LVU4268
 12594 059c 86F8BE51 		strb	r5, [r6, #446]
5732:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StSec] = 1;					/* Start sector */
ARM GAS  /tmp/ccBfkcjf.s 			page 393


 12595              		.loc 1 5732 4 is_stmt 1 view .LVU4269
5732:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StSec] = 1;					/* Start sector */
 12596              		.loc 1 5732 20 is_stmt 0 view .LVU4270
 12597 05a0 0127     		movs	r7, #1
 12598              	.LVL1476:
5732:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StSec] = 1;					/* Start sector */
 12599              		.loc 1 5732 20 view .LVU4271
 12600 05a2 86F8BF71 		strb	r7, [r6, #447]
5733:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StCyl] = 0;					/* Start cylinder */
 12601              		.loc 1 5733 4 is_stmt 1 view .LVU4272
5733:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StCyl] = 0;					/* Start cylinder */
 12602              		.loc 1 5733 19 is_stmt 0 view .LVU4273
 12603 05a6 86F8C071 		strb	r7, [r6, #448]
5734:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_System] = sys;				/* System type */
 12604              		.loc 1 5734 4 is_stmt 1 view .LVU4274
5734:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_System] = sys;				/* System type */
 12605              		.loc 1 5734 19 is_stmt 0 view .LVU4275
 12606 05aa 86F8C151 		strb	r5, [r6, #449]
5735:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (b_vol + sz_vol) / (63 * 255);	/* (End CHS may be invalid) */
 12607              		.loc 1 5735 4 is_stmt 1 view .LVU4276
5735:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (b_vol + sz_vol) / (63 * 255);	/* (End CHS may be invalid) */
 12608              		.loc 1 5735 20 is_stmt 0 view .LVU4277
 12609 05ae 86F8C281 		strb	r8, [r6, #450]
5736:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdHead] = 254;				/* End head */
 12610              		.loc 1 5736 4 is_stmt 1 view .LVU4278
5736:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdHead] = 254;				/* End head */
 12611              		.loc 1 5736 15 is_stmt 0 view .LVU4279
 12612 05b2 099B     		ldr	r3, [sp, #36]
 12613 05b4 0099     		ldr	r1, [sp]
 12614 05b6 0B44     		add	r3, r3, r1
5736:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdHead] = 254;				/* End head */
 12615              		.loc 1 5736 6 view .LVU4280
 12616 05b8 43F6C162 		movw	r2, #16065
 12617 05bc B3FBF2F3 		udiv	r3, r3, r2
 12618              	.LVL1477:
5737:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdSec] = (BYTE)(n >> 2 | 63);	/* End sector */
 12619              		.loc 1 5737 4 is_stmt 1 view .LVU4281
5737:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdSec] = (BYTE)(n >> 2 | 63);	/* End sector */
 12620              		.loc 1 5737 20 is_stmt 0 view .LVU4282
 12621 05c0 FE22     		movs	r2, #254
 12622 05c2 86F8C321 		strb	r2, [r6, #451]
5738:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdCyl] = (BYTE)n;			/* End cylinder */
 12623              		.loc 1 5738 4 is_stmt 1 view .LVU4283
5738:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdCyl] = (BYTE)n;			/* End cylinder */
 12624              		.loc 1 5738 30 is_stmt 0 view .LVU4284
 12625 05c6 9A08     		lsrs	r2, r3, #2
5738:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdCyl] = (BYTE)n;			/* End cylinder */
 12626              		.loc 1 5738 21 view .LVU4285
 12627 05c8 42F03F02 		orr	r2, r2, #63
5738:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdCyl] = (BYTE)n;			/* End cylinder */
 12628              		.loc 1 5738 19 view .LVU4286
 12629 05cc 86F8C421 		strb	r2, [r6, #452]
5739:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(pte + PTE_StLba, b_vol);	/* Start offset in LBA */
 12630              		.loc 1 5739 4 is_stmt 1 view .LVU4287
5739:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(pte + PTE_StLba, b_vol);	/* Start offset in LBA */
 12631              		.loc 1 5739 19 is_stmt 0 view .LVU4288
 12632 05d0 86F8C531 		strb	r3, [r6, #453]
ARM GAS  /tmp/ccBfkcjf.s 			page 394


5740:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(pte + PTE_SizLba, sz_vol);	/* Size in sectors */
 12633              		.loc 1 5740 4 is_stmt 1 view .LVU4289
 12634 05d4 06F5E370 		add	r0, r6, #454
 12635 05d8 FFF7FEFF 		bl	st_dword
 12636              	.LVL1478:
5741:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, 0, 1) != RES_OK) return FR_DISK_ERR;	/* Write it to the MBR */
 12637              		.loc 1 5741 4 view .LVU4290
 12638 05dc 0999     		ldr	r1, [sp, #36]
 12639 05de 06F5E570 		add	r0, r6, #458
 12640 05e2 FFF7FEFF 		bl	st_dword
 12641              	.LVL1479:
5742:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 12642              		.loc 1 5742 4 view .LVU4291
5742:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 12643              		.loc 1 5742 8 is_stmt 0 view .LVU4292
 12644 05e6 3B46     		mov	r3, r7
 12645 05e8 2A46     		mov	r2, r5
 12646 05ea 3146     		mov	r1, r6
 12647 05ec 2046     		mov	r0, r4
 12648 05ee FFF7FEFF 		bl	disk_write
 12649              	.LVL1480:
5742:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 12650              		.loc 1 5742 7 view .LVU4293
 12651 05f2 0028     		cmp	r0, #0
 12652 05f4 48D1     		bne	.L940
 12653              	.LVL1481:
 12654              	.L903:
5746:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12655              		.loc 1 5746 2 is_stmt 1 view .LVU4294
5746:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12656              		.loc 1 5746 6 is_stmt 0 view .LVU4295
 12657 05f6 0022     		movs	r2, #0
 12658 05f8 1146     		mov	r1, r2
 12659 05fa 2046     		mov	r0, r4
 12660 05fc FFF7FEFF 		bl	disk_ioctl
 12661              	.LVL1482:
5746:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12662              		.loc 1 5746 5 view .LVU4296
 12663 0600 48B1     		cbz	r0, .L861
5746:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12664              		.loc 1 5746 55 view .LVU4297
 12665 0602 0120     		movs	r0, #1
 12666 0604 07E0     		b	.L861
 12667              	.LVL1483:
 12668              	.L938:
5713:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 12669              		.loc 1 5713 9 view .LVU4298
 12670 0606 4FF00608 		mov	r8, #6
 12671              	.LVL1484:
5713:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 12672              		.loc 1 5713 9 view .LVU4299
 12673 060a B9E7     		b	.L902
 12674              	.LVL1485:
 12675              	.L904:
5328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (FatFs[vol]) FatFs[vol]->fs_type = 0;	/* Clear the volume */
 12676              		.loc 1 5328 22 view .LVU4300
 12677 060c 0B20     		movs	r0, #11
ARM GAS  /tmp/ccBfkcjf.s 			page 395


 12678              	.LVL1486:
5328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (FatFs[vol]) FatFs[vol]->fs_type = 0;	/* Clear the volume */
 12679              		.loc 1 5328 22 view .LVU4301
 12680 060e 02E0     		b	.L861
 12681              	.LVL1487:
 12682              	.L905:
5335:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
 12683              		.loc 1 5335 32 view .LVU4302
 12684 0610 0320     		movs	r0, #3
 12685              	.LVL1488:
5335:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
 12686              		.loc 1 5335 32 view .LVU4303
 12687 0612 00E0     		b	.L861
 12688              	.LVL1489:
 12689              	.L906:
5336:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_BLOCK_SIZE, &sz_blk) != RES_OK || !sz_blk || sz_blk > 32768 || (sz_blk & 
 12690              		.loc 1 5336 33 view .LVU4304
 12691 0614 0A20     		movs	r0, #10
 12692              	.LVL1490:
 12693              	.L861:
5749:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12694              		.loc 1 5749 1 view .LVU4305
 12695 0616 0DB0     		add	sp, sp, #52
 12696              	.LCFI125:
 12697              		.cfi_remember_state
 12698              		.cfi_def_cfa_offset 36
 12699              		@ sp needed
 12700 0618 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 12701              	.LVL1491:
 12702              	.L907:
 12703              	.LCFI126:
 12704              		.cfi_restore_state
5339:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ss > _MAX_SS || ss < _MIN_SS || (ss & (ss - 1))) return FR_DISK_ERR;
 12705              		.loc 1 5339 63 view .LVU4306
 12706 061c 0120     		movs	r0, #1
 12707 061e FAE7     		b	.L861
 12708              	.L908:
5340:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 12709              		.loc 1 5340 62 view .LVU4307
 12710 0620 0120     		movs	r0, #1
 12711 0622 F8E7     		b	.L861
 12712              	.L909:
 12713 0624 0120     		movs	r0, #1
 12714 0626 F6E7     		b	.L861
 12715              	.L910:
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
 12716              		.loc 1 5344 72 view .LVU4308
 12717 0628 1320     		movs	r0, #19
 12718 062a F4E7     		b	.L861
 12719              	.L911:
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
 12720              		.loc 1 5344 72 view .LVU4309
 12721 062c 1320     		movs	r0, #19
 12722 062e F2E7     		b	.L861
 12723              	.L912:
 12724 0630 1320     		movs	r0, #19
 12725 0632 F0E7     		b	.L861
ARM GAS  /tmp/ccBfkcjf.s 			page 396


 12726              	.LVL1492:
 12727              	.L913:
5351:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12728              		.loc 1 5351 23 view .LVU4310
 12729 0634 0E20     		movs	r0, #14
 12730 0636 EEE7     		b	.L861
 12731              	.L914:
5364:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = (opt & FM_SFD) ? 0 : 63;		/* Volume start sector */
 12732              		.loc 1 5364 69 view .LVU4311
 12733 0638 0120     		movs	r0, #1
 12734 063a ECE7     		b	.L861
 12735              	.LVL1493:
 12736              	.L916:
5366:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_vol -= b_vol;						/* Volume size */
 12737              		.loc 1 5366 30 view .LVU4312
 12738 063c 0E20     		movs	r0, #14
 12739 063e EAE7     		b	.L861
 12740              	.L917:
5369:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12741              		.loc 1 5369 27 view .LVU4313
 12742 0640 0E20     		movs	r0, #14
 12743 0642 E8E7     		b	.L861
 12744              	.L918:
5378:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (opt & FM_FAT32) {	/* FAT32 possible? */
 12745              		.loc 1 5378 24 view .LVU4314
 12746 0644 1320     		movs	r0, #19
 12747 0646 E6E7     		b	.L861
 12748              	.LVL1494:
 12749              	.L921:
5384:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT16;
 12750              		.loc 1 5384 31 view .LVU4315
 12751 0648 1320     		movs	r0, #19
 12752 064a E4E7     		b	.L861
 12753              	.L960:
 12754              		.align	2
 12755              	.L959:
 12756 064c 00000000 		.word	.LC2
 12757 0650 20000000 		.word	.LC4
 12758 0654 0C000000 		.word	.LC3
 12759 0658 52526141 		.word	1096897106
 12760 065c 72724161 		.word	1631679090
 12761 0660 F8FFFF00 		.word	16777208
 12762              	.LVL1495:
 12763              	.L923:
5564:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* FAT12/16 volume */
 12764              		.loc 1 5564 59 view .LVU4316
 12765 0664 0E20     		movs	r0, #14
 12766 0666 D6E7     		b	.L861
 12767              	.LVL1496:
 12768              	.L925:
5593:Middlewares/Third_Party/FatFs/src/ff.c **** 			n_clst = (sz_vol - sz_rsv - sz_fat * n_fats - sz_dir) / pau;
 12769              		.loc 1 5593 51 view .LVU4317
 12770 0668 0E20     		movs	r0, #14
 12771 066a D4E7     		b	.L861
 12772              	.LVL1497:
 12773              	.L926:
5598:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
ARM GAS  /tmp/ccBfkcjf.s 			page 397


 12774              		.loc 1 5598 13 view .LVU4318
 12775 066c 0E20     		movs	r0, #14
 12776 066e D2E7     		b	.L861
 12777              	.LVL1498:
 12778              	.L929:
5610:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12779              		.loc 1 5610 13 view .LVU4319
 12780 0670 0E20     		movs	r0, #14
 12781 0672 D0E7     		b	.L861
 12782              	.LVL1499:
 12783              	.L930:
5614:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12784              		.loc 1 5614 13 view .LVU4320
 12785 0674 0E20     		movs	r0, #14
 12786 0676 CEE7     		b	.L861
 12787              	.LVL1500:
 12788              	.L931:
5617:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12789              		.loc 1 5617 54 view .LVU4321
 12790 0678 0E20     		movs	r0, #14
 12791 067a CCE7     		b	.L861
 12792              	.LVL1501:
 12793              	.L933:
5661:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12794              		.loc 1 5661 57 view .LVU4322
 12795 067c 0120     		movs	r0, #1
 12796 067e CAE7     		b	.L861
 12797              	.LVL1502:
 12798              	.L935:
5690:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(buf, 0, ss);
 12799              		.loc 1 5690 64 view .LVU4323
 12800 0680 0120     		movs	r0, #1
 12801 0682 C8E7     		b	.L861
 12802              	.LVL1503:
 12803              	.L936:
5700:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
 12804              		.loc 1 5700 63 view .LVU4324
 12805 0684 0120     		movs	r0, #1
 12806 0686 C6E7     		b	.L861
 12807              	.LVL1504:
 12808              	.L940:
5742:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 12809              		.loc 1 5742 54 view .LVU4325
 12810 0688 0120     		movs	r0, #1
 12811 068a C4E7     		b	.L861
 12812              		.cfi_endproc
 12813              	.LFE409:
 12815              		.section	.text.f_gets,"ax",%progbits
 12816              		.align	1
 12817              		.global	f_gets
 12818              		.syntax unified
 12819              		.thumb
 12820              		.thumb_func
 12821              		.fpu fpv5-d16
 12823              	f_gets:
 12824              	.LVL1505:
 12825              	.LFB410:
ARM GAS  /tmp/ccBfkcjf.s 			page 398


5835:Middlewares/Third_Party/FatFs/src/ff.c **** 	int n = 0;
 12826              		.loc 1 5835 1 is_stmt 1 view -0
 12827              		.cfi_startproc
 12828              		@ args = 0, pretend = 0, frame = 8
 12829              		@ frame_needed = 0, uses_anonymous_args = 0
5835:Middlewares/Third_Party/FatFs/src/ff.c **** 	int n = 0;
 12830              		.loc 1 5835 1 is_stmt 0 view .LVU4327
 12831 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 12832              	.LCFI127:
 12833              		.cfi_def_cfa_offset 24
 12834              		.cfi_offset 4, -24
 12835              		.cfi_offset 5, -20
 12836              		.cfi_offset 6, -16
 12837              		.cfi_offset 7, -12
 12838              		.cfi_offset 8, -8
 12839              		.cfi_offset 14, -4
 12840 0004 82B0     		sub	sp, sp, #8
 12841              	.LCFI128:
 12842              		.cfi_def_cfa_offset 32
 12843 0006 8046     		mov	r8, r0
 12844 0008 0E46     		mov	r6, r1
 12845 000a 1746     		mov	r7, r2
5836:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c, *p = buff;
 12846              		.loc 1 5836 2 is_stmt 1 view .LVU4328
 12847              	.LVL1506:
5837:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE s[2];
 12848              		.loc 1 5837 2 view .LVU4329
5838:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rc;
 12849              		.loc 1 5838 2 view .LVU4330
5839:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12850              		.loc 1 5839 2 view .LVU4331
5842:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
 12851              		.loc 1 5842 2 view .LVU4332
5837:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE s[2];
 12852              		.loc 1 5837 12 is_stmt 0 view .LVU4333
 12853 000c 0446     		mov	r4, r0
5836:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c, *p = buff;
 12854              		.loc 1 5836 6 view .LVU4334
 12855 000e 0025     		movs	r5, #0
5842:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
 12856              		.loc 1 5842 8 view .LVU4335
 12857 0010 01E0     		b	.L962
 12858              	.LVL1507:
 12859              	.L967:
5842:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
 12860              		.loc 1 5842 8 view .LVU4336
 12861 0012 A446     		mov	ip, r4
 12862              	.LVL1508:
 12863              	.L964:
5842:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
 12864              		.loc 1 5842 8 view .LVU4337
 12865 0014 6446     		mov	r4, ip
 12866              	.LVL1509:
 12867              	.L962:
5842:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
 12868              		.loc 1 5842 8 is_stmt 1 view .LVU4338
5842:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
ARM GAS  /tmp/ccBfkcjf.s 			page 399


 12869              		.loc 1 5842 17 is_stmt 0 view .LVU4339
 12870 0016 731E     		subs	r3, r6, #1
5842:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
 12871              		.loc 1 5842 8 view .LVU4340
 12872 0018 AB42     		cmp	r3, r5
 12873 001a 13DD     		ble	.L963
5887:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
 12874              		.loc 1 5887 3 is_stmt 1 view .LVU4341
 12875 001c 6B46     		mov	r3, sp
 12876 001e 0122     		movs	r2, #1
 12877 0020 01A9     		add	r1, sp, #4
 12878 0022 3846     		mov	r0, r7
 12879 0024 FFF7FEFF 		bl	f_read
 12880              	.LVL1510:
5888:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
 12881              		.loc 1 5888 3 view .LVU4342
5888:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
 12882              		.loc 1 5888 10 is_stmt 0 view .LVU4343
 12883 0028 009B     		ldr	r3, [sp]
5888:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
 12884              		.loc 1 5888 6 view .LVU4344
 12885 002a 012B     		cmp	r3, #1
 12886 002c 0AD1     		bne	.L963
5889:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 12887              		.loc 1 5889 3 is_stmt 1 view .LVU4345
5889:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 12888              		.loc 1 5889 5 is_stmt 0 view .LVU4346
 12889 002e 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 12890              	.LVL1511:
5891:Middlewares/Third_Party/FatFs/src/ff.c **** 		*p++ = c;
 12891              		.loc 1 5891 3 is_stmt 1 view .LVU4347
5891:Middlewares/Third_Party/FatFs/src/ff.c **** 		*p++ = c;
 12892              		.loc 1 5891 6 is_stmt 0 view .LVU4348
 12893 0032 0D2B     		cmp	r3, #13
 12894 0034 EDD0     		beq	.L967
5892:Middlewares/Third_Party/FatFs/src/ff.c **** 		n++;
 12895              		.loc 1 5892 3 is_stmt 1 view .LVU4349
5892:Middlewares/Third_Party/FatFs/src/ff.c **** 		n++;
 12896              		.loc 1 5892 5 is_stmt 0 view .LVU4350
 12897 0036 A446     		mov	ip, r4
 12898              	.LVL1512:
5892:Middlewares/Third_Party/FatFs/src/ff.c **** 		n++;
 12899              		.loc 1 5892 8 view .LVU4351
 12900 0038 0CF8013B 		strb	r3, [ip], #1
 12901              	.LVL1513:
5893:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '\n') break;		/* Break on EOL */
 12902              		.loc 1 5893 3 is_stmt 1 view .LVU4352
5893:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '\n') break;		/* Break on EOL */
 12903              		.loc 1 5893 4 is_stmt 0 view .LVU4353
 12904 003c 0135     		adds	r5, r5, #1
 12905              	.LVL1514:
5894:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 12906              		.loc 1 5894 3 is_stmt 1 view .LVU4354
5894:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 12907              		.loc 1 5894 6 is_stmt 0 view .LVU4355
 12908 003e 0A2B     		cmp	r3, #10
 12909 0040 E8D1     		bne	.L964
ARM GAS  /tmp/ccBfkcjf.s 			page 400


5892:Middlewares/Third_Party/FatFs/src/ff.c **** 		n++;
 12910              		.loc 1 5892 5 view .LVU4356
 12911 0042 6446     		mov	r4, ip
 12912              	.LVL1515:
 12913              	.L963:
5896:Middlewares/Third_Party/FatFs/src/ff.c **** 	return n ? buff : 0;			/* When no data read (eof or error), return with error. */
 12914              		.loc 1 5896 2 is_stmt 1 view .LVU4357
5896:Middlewares/Third_Party/FatFs/src/ff.c **** 	return n ? buff : 0;			/* When no data read (eof or error), return with error. */
 12915              		.loc 1 5896 5 is_stmt 0 view .LVU4358
 12916 0044 0023     		movs	r3, #0
 12917 0046 2370     		strb	r3, [r4]
5897:Middlewares/Third_Party/FatFs/src/ff.c **** }
 12918              		.loc 1 5897 2 is_stmt 1 view .LVU4359
5897:Middlewares/Third_Party/FatFs/src/ff.c **** }
 12919              		.loc 1 5897 18 is_stmt 0 view .LVU4360
 12920 0048 1DB1     		cbz	r5, .L969
5897:Middlewares/Third_Party/FatFs/src/ff.c **** }
 12921              		.loc 1 5897 18 view .LVU4361
 12922 004a 4046     		mov	r0, r8
 12923              	.L961:
5898:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12924              		.loc 1 5898 1 view .LVU4362
 12925 004c 02B0     		add	sp, sp, #8
 12926              	.LCFI129:
 12927              		.cfi_remember_state
 12928              		.cfi_def_cfa_offset 24
 12929              		@ sp needed
 12930 004e BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 12931              	.LVL1516:
 12932              	.L969:
 12933              	.LCFI130:
 12934              		.cfi_restore_state
5897:Middlewares/Third_Party/FatFs/src/ff.c **** }
 12935              		.loc 1 5897 18 view .LVU4363
 12936 0052 0020     		movs	r0, #0
 12937 0054 FAE7     		b	.L961
 12938              		.cfi_endproc
 12939              	.LFE410:
 12941              		.section	.text.f_putc,"ax",%progbits
 12942              		.align	1
 12943              		.global	f_putc
 12944              		.syntax unified
 12945              		.thumb
 12946              		.thumb_func
 12947              		.fpu fpv5-d16
 12949              	f_putc:
 12950              	.LVL1517:
 12951              	.LFB414:
5995:Middlewares/Third_Party/FatFs/src/ff.c **** 
5996:Middlewares/Third_Party/FatFs/src/ff.c **** 
5997:Middlewares/Third_Party/FatFs/src/ff.c **** 
5998:Middlewares/Third_Party/FatFs/src/ff.c **** int f_putc (
5999:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c,	/* A character to be output */
6000:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp		/* Pointer to the file object */
6001:Middlewares/Third_Party/FatFs/src/ff.c **** )
6002:Middlewares/Third_Party/FatFs/src/ff.c **** {
 12952              		.loc 1 6002 1 is_stmt 1 view -0
ARM GAS  /tmp/ccBfkcjf.s 			page 401


 12953              		.cfi_startproc
 12954              		@ args = 0, pretend = 0, frame = 80
 12955              		@ frame_needed = 0, uses_anonymous_args = 0
 12956              		.loc 1 6002 1 is_stmt 0 view .LVU4365
 12957 0000 10B5     		push	{r4, lr}
 12958              	.LCFI131:
 12959              		.cfi_def_cfa_offset 8
 12960              		.cfi_offset 4, -8
 12961              		.cfi_offset 14, -4
 12962 0002 94B0     		sub	sp, sp, #80
 12963              	.LCFI132:
 12964              		.cfi_def_cfa_offset 88
 12965 0004 0446     		mov	r4, r0
6003:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff pb;
 12966              		.loc 1 6003 2 is_stmt 1 view .LVU4366
6004:Middlewares/Third_Party/FatFs/src/ff.c **** 
6005:Middlewares/Third_Party/FatFs/src/ff.c **** 
6006:Middlewares/Third_Party/FatFs/src/ff.c **** 	putc_init(&pb, fp);
 12967              		.loc 1 6006 2 view .LVU4367
 12968 0006 01A8     		add	r0, sp, #4
 12969              	.LVL1518:
 12970              		.loc 1 6006 2 is_stmt 0 view .LVU4368
 12971 0008 FFF7FEFF 		bl	putc_init
 12972              	.LVL1519:
6007:Middlewares/Third_Party/FatFs/src/ff.c **** 	putc_bfd(&pb, c);	/* Put the character */
 12973              		.loc 1 6007 2 is_stmt 1 view .LVU4369
 12974 000c 2146     		mov	r1, r4
 12975 000e 01A8     		add	r0, sp, #4
 12976 0010 FFF7FEFF 		bl	putc_bfd
 12977              	.LVL1520:
6008:Middlewares/Third_Party/FatFs/src/ff.c **** 	return putc_flush(&pb);
 12978              		.loc 1 6008 2 view .LVU4370
 12979              		.loc 1 6008 9 is_stmt 0 view .LVU4371
 12980 0014 01A8     		add	r0, sp, #4
 12981 0016 FFF7FEFF 		bl	putc_flush
 12982              	.LVL1521:
6009:Middlewares/Third_Party/FatFs/src/ff.c **** }
 12983              		.loc 1 6009 1 view .LVU4372
 12984 001a 14B0     		add	sp, sp, #80
 12985              	.LCFI133:
 12986              		.cfi_def_cfa_offset 8
 12987              		@ sp needed
 12988 001c 10BD     		pop	{r4, pc}
 12989              		.cfi_endproc
 12990              	.LFE414:
 12992              		.section	.text.f_puts,"ax",%progbits
 12993              		.align	1
 12994              		.global	f_puts
 12995              		.syntax unified
 12996              		.thumb
 12997              		.thumb_func
 12998              		.fpu fpv5-d16
 13000              	f_puts:
 13001              	.LVL1522:
 13002              	.LFB415:
6010:Middlewares/Third_Party/FatFs/src/ff.c **** 
6011:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccBfkcjf.s 			page 402


6012:Middlewares/Third_Party/FatFs/src/ff.c **** 
6013:Middlewares/Third_Party/FatFs/src/ff.c **** 
6014:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
6015:Middlewares/Third_Party/FatFs/src/ff.c **** /* Put a string to the file                                              */
6016:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
6017:Middlewares/Third_Party/FatFs/src/ff.c **** 
6018:Middlewares/Third_Party/FatFs/src/ff.c **** int f_puts (
6019:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* str,	/* Pointer to the string to be output */
6020:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp				/* Pointer to the file object */
6021:Middlewares/Third_Party/FatFs/src/ff.c **** )
6022:Middlewares/Third_Party/FatFs/src/ff.c **** {
 13003              		.loc 1 6022 1 is_stmt 1 view -0
 13004              		.cfi_startproc
 13005              		@ args = 0, pretend = 0, frame = 80
 13006              		@ frame_needed = 0, uses_anonymous_args = 0
 13007              		.loc 1 6022 1 is_stmt 0 view .LVU4374
 13008 0000 10B5     		push	{r4, lr}
 13009              	.LCFI134:
 13010              		.cfi_def_cfa_offset 8
 13011              		.cfi_offset 4, -8
 13012              		.cfi_offset 14, -4
 13013 0002 94B0     		sub	sp, sp, #80
 13014              	.LCFI135:
 13015              		.cfi_def_cfa_offset 88
 13016 0004 0446     		mov	r4, r0
6023:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff pb;
 13017              		.loc 1 6023 2 is_stmt 1 view .LVU4375
6024:Middlewares/Third_Party/FatFs/src/ff.c **** 
6025:Middlewares/Third_Party/FatFs/src/ff.c **** 
6026:Middlewares/Third_Party/FatFs/src/ff.c **** 	putc_init(&pb, fp);
 13018              		.loc 1 6026 2 view .LVU4376
 13019 0006 01A8     		add	r0, sp, #4
 13020              	.LVL1523:
 13021              		.loc 1 6026 2 is_stmt 0 view .LVU4377
 13022 0008 FFF7FEFF 		bl	putc_init
 13023              	.LVL1524:
6027:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (*str) putc_bfd(&pb, *str++);		/* Put the string */
 13024              		.loc 1 6027 2 is_stmt 1 view .LVU4378
 13025              		.loc 1 6027 8 is_stmt 0 view .LVU4379
 13026 000c 03E0     		b	.L974
 13027              	.L975:
 13028              		.loc 1 6027 15 is_stmt 1 discriminator 2 view .LVU4380
 13029              		.loc 1 6027 33 is_stmt 0 discriminator 2 view .LVU4381
 13030 000e 0134     		adds	r4, r4, #1
 13031              	.LVL1525:
 13032              		.loc 1 6027 15 discriminator 2 view .LVU4382
 13033 0010 01A8     		add	r0, sp, #4
 13034 0012 FFF7FEFF 		bl	putc_bfd
 13035              	.LVL1526:
 13036              	.L974:
 13037              		.loc 1 6027 8 is_stmt 1 discriminator 1 view .LVU4383
 13038              		.loc 1 6027 9 is_stmt 0 discriminator 1 view .LVU4384
 13039 0016 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 13040              		.loc 1 6027 8 discriminator 1 view .LVU4385
 13041 0018 0029     		cmp	r1, #0
 13042 001a F8D1     		bne	.L975
6028:Middlewares/Third_Party/FatFs/src/ff.c **** 	return putc_flush(&pb);
ARM GAS  /tmp/ccBfkcjf.s 			page 403


 13043              		.loc 1 6028 2 is_stmt 1 view .LVU4386
 13044              		.loc 1 6028 9 is_stmt 0 view .LVU4387
 13045 001c 01A8     		add	r0, sp, #4
 13046 001e FFF7FEFF 		bl	putc_flush
 13047              	.LVL1527:
6029:Middlewares/Third_Party/FatFs/src/ff.c **** }
 13048              		.loc 1 6029 1 view .LVU4388
 13049 0022 14B0     		add	sp, sp, #80
 13050              	.LCFI136:
 13051              		.cfi_def_cfa_offset 8
 13052              		@ sp needed
 13053 0024 10BD     		pop	{r4, pc}
 13054              		.loc 1 6029 1 view .LVU4389
 13055              		.cfi_endproc
 13056              	.LFE415:
 13058              		.section	.text.f_printf,"ax",%progbits
 13059              		.align	1
 13060              		.global	f_printf
 13061              		.syntax unified
 13062              		.thumb
 13063              		.thumb_func
 13064              		.fpu fpv5-d16
 13066              	f_printf:
 13067              	.LVL1528:
 13068              	.LFB416:
6030:Middlewares/Third_Party/FatFs/src/ff.c **** 
6031:Middlewares/Third_Party/FatFs/src/ff.c **** 
6032:Middlewares/Third_Party/FatFs/src/ff.c **** 
6033:Middlewares/Third_Party/FatFs/src/ff.c **** 
6034:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
6035:Middlewares/Third_Party/FatFs/src/ff.c **** /* Put a formatted string to the file                                    */
6036:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
6037:Middlewares/Third_Party/FatFs/src/ff.c **** 
6038:Middlewares/Third_Party/FatFs/src/ff.c **** int f_printf (
6039:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,			/* Pointer to the file object */
6040:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* fmt,	/* Pointer to the format string */
6041:Middlewares/Third_Party/FatFs/src/ff.c **** 	...					/* Optional arguments... */
6042:Middlewares/Third_Party/FatFs/src/ff.c **** )
6043:Middlewares/Third_Party/FatFs/src/ff.c **** {
 13069              		.loc 1 6043 1 is_stmt 1 view -0
 13070              		.cfi_startproc
 13071              		@ args = 4, pretend = 12, frame = 112
 13072              		@ frame_needed = 0, uses_anonymous_args = 1
 13073              		.loc 1 6043 1 is_stmt 0 view .LVU4391
 13074 0000 0EB4     		push	{r1, r2, r3}
 13075              	.LCFI137:
 13076              		.cfi_def_cfa_offset 12
 13077              		.cfi_offset 1, -12
 13078              		.cfi_offset 2, -8
 13079              		.cfi_offset 3, -4
 13080 0002 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 13081              	.LCFI138:
 13082              		.cfi_def_cfa_offset 44
 13083              		.cfi_offset 4, -44
 13084              		.cfi_offset 5, -40
 13085              		.cfi_offset 6, -36
 13086              		.cfi_offset 7, -32
ARM GAS  /tmp/ccBfkcjf.s 			page 404


 13087              		.cfi_offset 8, -28
 13088              		.cfi_offset 9, -24
 13089              		.cfi_offset 10, -20
 13090              		.cfi_offset 14, -16
 13091 0006 9DB0     		sub	sp, sp, #116
 13092              	.LCFI139:
 13093              		.cfi_def_cfa_offset 160
 13094 0008 0146     		mov	r1, r0
 13095 000a 25AC     		add	r4, sp, #148
 13096 000c 54F8045B 		ldr	r5, [r4], #4
6044:Middlewares/Third_Party/FatFs/src/ff.c **** 	va_list arp;
 13097              		.loc 1 6044 2 is_stmt 1 view .LVU4392
6045:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff pb;
 13098              		.loc 1 6045 2 view .LVU4393
6046:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE f, r;
 13099              		.loc 1 6046 2 view .LVU4394
6047:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j, w;
 13100              		.loc 1 6047 2 view .LVU4395
6048:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD v;
 13101              		.loc 1 6048 2 view .LVU4396
6049:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c, d, str[32], *p;
 13102              		.loc 1 6049 2 view .LVU4397
6050:Middlewares/Third_Party/FatFs/src/ff.c **** 
6051:Middlewares/Third_Party/FatFs/src/ff.c **** 
6052:Middlewares/Third_Party/FatFs/src/ff.c **** 	putc_init(&pb, fp);
 13103              		.loc 1 6052 2 view .LVU4398
 13104 0010 08A8     		add	r0, sp, #32
 13105 0012 FFF7FEFF 		bl	putc_init
 13106              	.LVL1529:
6053:Middlewares/Third_Party/FatFs/src/ff.c **** 
6054:Middlewares/Third_Party/FatFs/src/ff.c **** 	va_start(arp, fmt);
 13107              		.loc 1 6054 2 view .LVU4399
 13108 0016 1B94     		str	r4, [sp, #108]
 13109              	.LVL1530:
 13110              	.L978:
6055:Middlewares/Third_Party/FatFs/src/ff.c **** 
6056:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
 13111              		.loc 1 6056 2 view .LVU4400
6057:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
 13112              		.loc 1 6057 3 view .LVU4401
 13113              		.loc 1 6057 11 is_stmt 0 view .LVU4402
 13114 0018 2C46     		mov	r4, r5
 13115              	.LVL1531:
 13116              		.loc 1 6057 5 view .LVU4403
 13117 001a 14F8011B 		ldrb	r1, [r4], #1	@ zero_extendqisi2
 13118              	.LVL1532:
6058:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) break;			/* End of string */
 13119              		.loc 1 6058 3 is_stmt 1 view .LVU4404
 13120              		.loc 1 6058 6 is_stmt 0 view .LVU4405
 13121 001e 0029     		cmp	r1, #0
 13122 0020 00F00481 		beq	.L979
6059:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != '%') {				/* Non escape character */
 13123              		.loc 1 6059 3 is_stmt 1 view .LVU4406
 13124              		.loc 1 6059 6 is_stmt 0 view .LVU4407
 13125 0024 2529     		cmp	r1, #37
 13126 0026 04D0     		beq	.L980
6060:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, c);
ARM GAS  /tmp/ccBfkcjf.s 			page 405


 13127              		.loc 1 6060 4 is_stmt 1 view .LVU4408
 13128 0028 08A8     		add	r0, sp, #32
 13129 002a FFF7FEFF 		bl	putc_bfd
 13130              	.LVL1533:
6061:Middlewares/Third_Party/FatFs/src/ff.c **** 			continue;
 13131              		.loc 1 6061 4 view .LVU4409
6057:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) break;			/* End of string */
 13132              		.loc 1 6057 11 is_stmt 0 view .LVU4410
 13133 002e 2546     		mov	r5, r4
 13134              		.loc 1 6061 4 view .LVU4411
 13135 0030 F2E7     		b	.L978
 13136              	.LVL1534:
 13137              	.L980:
6062:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
6063:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = f = 0;
 13138              		.loc 1 6063 3 is_stmt 1 view .LVU4412
6064:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
 13139              		.loc 1 6064 3 view .LVU4413
 13140              		.loc 1 6064 11 is_stmt 0 view .LVU4414
 13141 0032 0235     		adds	r5, r5, #2
 13142              	.LVL1535:
 13143              		.loc 1 6064 5 view .LVU4415
 13144 0034 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 13145              	.LVL1536:
6065:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '0') {				/* Flag: '0' padding */
 13146              		.loc 1 6065 3 is_stmt 1 view .LVU4416
 13147              		.loc 1 6065 6 is_stmt 0 view .LVU4417
 13148 0036 3029     		cmp	r1, #48
 13149 0038 04D0     		beq	.L1027
6066:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
6067:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
6068:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c == '-') {			/* Flag: left justified */
 13150              		.loc 1 6068 4 is_stmt 1 view .LVU4418
 13151              		.loc 1 6068 7 is_stmt 0 view .LVU4419
 13152 003a 2D29     		cmp	r1, #45
 13153 003c 06D0     		beq	.L1028
6063:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
 13154              		.loc 1 6063 9 view .LVU4420
 13155 003e 0026     		movs	r6, #0
 13156              	.LVL1537:
 13157              	.L983:
6063:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
 13158              		.loc 1 6063 9 view .LVU4421
 13159 0040 0024     		movs	r4, #0
 13160 0042 0EE0     		b	.L984
 13161              	.LVL1538:
 13162              	.L1027:
6066:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 13163              		.loc 1 6066 4 is_stmt 1 view .LVU4422
6066:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 13164              		.loc 1 6066 11 view .LVU4423
6066:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 13165              		.loc 1 6066 19 is_stmt 0 view .LVU4424
 13166 0044 A51C     		adds	r5, r4, #2
 13167              	.LVL1539:
6066:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 13168              		.loc 1 6066 13 view .LVU4425
ARM GAS  /tmp/ccBfkcjf.s 			page 406


 13169 0046 6178     		ldrb	r1, [r4, #1]	@ zero_extendqisi2
 13170              	.LVL1540:
6066:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 13171              		.loc 1 6066 6 view .LVU4426
 13172 0048 0126     		movs	r6, #1
 13173 004a F9E7     		b	.L983
 13174              	.LVL1541:
 13175              	.L1028:
6069:Middlewares/Third_Party/FatFs/src/ff.c **** 				f = 2; c = *fmt++;
 13176              		.loc 1 6069 5 is_stmt 1 view .LVU4427
 13177              		.loc 1 6069 12 view .LVU4428
 13178              		.loc 1 6069 20 is_stmt 0 view .LVU4429
 13179 004c A51C     		adds	r5, r4, #2
 13180              	.LVL1542:
 13181              		.loc 1 6069 14 view .LVU4430
 13182 004e 6178     		ldrb	r1, [r4, #1]	@ zero_extendqisi2
 13183              	.LVL1543:
 13184              		.loc 1 6069 7 view .LVU4431
 13185 0050 0226     		movs	r6, #2
 13186 0052 F5E7     		b	.L983
 13187              	.LVL1544:
 13188              	.L985:
6070:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
6071:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
6072:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (IsDigit(c)) {		/* Precision */
6073:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = w * 10 + c - '0';
 13189              		.loc 1 6073 4 is_stmt 1 view .LVU4432
 13190              		.loc 1 6073 10 is_stmt 0 view .LVU4433
 13191 0054 04EB8404 		add	r4, r4, r4, lsl #2
 13192              	.LVL1545:
 13193              		.loc 1 6073 15 view .LVU4434
 13194 0058 01EB4404 		add	r4, r1, r4, lsl #1
 13195              		.loc 1 6073 6 view .LVU4435
 13196 005c 303C     		subs	r4, r4, #48
 13197              	.LVL1546:
6074:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = *fmt++;
 13198              		.loc 1 6074 4 is_stmt 1 view .LVU4436
 13199              		.loc 1 6074 6 is_stmt 0 view .LVU4437
 13200 005e 15F8011B 		ldrb	r1, [r5], #1	@ zero_extendqisi2
 13201              	.LVL1547:
 13202              	.L984:
6072:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = w * 10 + c - '0';
 13203              		.loc 1 6072 9 is_stmt 1 view .LVU4438
6072:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = w * 10 + c - '0';
 13204              		.loc 1 6072 10 is_stmt 0 view .LVU4439
 13205 0062 A1F13003 		sub	r3, r1, #48
 13206 0066 DBB2     		uxtb	r3, r3
6072:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = w * 10 + c - '0';
 13207              		.loc 1 6072 9 view .LVU4440
 13208 0068 092B     		cmp	r3, #9
 13209 006a F3D9     		bls	.L985
6075:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
6076:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 'l' || c == 'L') {	/* Prefix: Size is long int */
 13210              		.loc 1 6076 3 is_stmt 1 view .LVU4441
 13211              		.loc 1 6076 6 is_stmt 0 view .LVU4442
 13212 006c 4C29     		cmp	r1, #76
 13213 006e 18BF     		it	ne
ARM GAS  /tmp/ccBfkcjf.s 			page 407


 13214 0070 6C29     		cmpne	r1, #108
 13215 0072 03D1     		bne	.L986
6077:Middlewares/Third_Party/FatFs/src/ff.c **** 			f |= 4; c = *fmt++;
 13216              		.loc 1 6077 4 is_stmt 1 view .LVU4443
 13217              		.loc 1 6077 6 is_stmt 0 view .LVU4444
 13218 0074 46F00406 		orr	r6, r6, #4
 13219              	.LVL1548:
 13220              		.loc 1 6077 12 is_stmt 1 view .LVU4445
 13221              		.loc 1 6077 14 is_stmt 0 view .LVU4446
 13222 0078 15F8011B 		ldrb	r1, [r5], #1	@ zero_extendqisi2
 13223              	.LVL1549:
 13224              	.L986:
6078:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
6079:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!c) break;
 13225              		.loc 1 6079 3 is_stmt 1 view .LVU4447
 13226              		.loc 1 6079 6 is_stmt 0 view .LVU4448
 13227 007c 0029     		cmp	r1, #0
 13228 007e 00F0D580 		beq	.L979
6080:Middlewares/Third_Party/FatFs/src/ff.c **** 		d = c;
 13229              		.loc 1 6080 3 is_stmt 1 view .LVU4449
 13230              	.LVL1550:
6081:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsLower(d)) d -= 0x20;
 13231              		.loc 1 6081 3 view .LVU4450
 13232              		.loc 1 6081 7 is_stmt 0 view .LVU4451
 13233 0082 A1F16103 		sub	r3, r1, #97
 13234 0086 DBB2     		uxtb	r3, r3
 13235              		.loc 1 6081 6 view .LVU4452
 13236 0088 192B     		cmp	r3, #25
 13237 008a 14D8     		bhi	.L1021
 13238              		.loc 1 6081 19 is_stmt 1 discriminator 1 view .LVU4453
 13239              		.loc 1 6081 21 is_stmt 0 discriminator 1 view .LVU4454
 13240 008c A1F12003 		sub	r3, r1, #32
 13241 0090 DBB2     		uxtb	r3, r3
 13242              	.LVL1551:
 13243              	.L987:
6082:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (d) {				/* Type is... */
 13244              		.loc 1 6082 3 is_stmt 1 view .LVU4455
 13245 0092 A3F14202 		sub	r2, r3, #66
 13246 0096 162A     		cmp	r2, #22
 13247 0098 5DD8     		bhi	.L988
 13248 009a DFE802F0 		tbb	[pc, r2]
 13249              	.L990:
 13250 009e 60       		.byte	(.L995-.L990)/2
 13251 009f 3D       		.byte	(.L994-.L990)/2
 13252 00a0 45       		.byte	(.L991-.L990)/2
 13253 00a1 5C       		.byte	(.L988-.L990)/2
 13254 00a2 5C       		.byte	(.L988-.L990)/2
 13255 00a3 5C       		.byte	(.L988-.L990)/2
 13256 00a4 5C       		.byte	(.L988-.L990)/2
 13257 00a5 5C       		.byte	(.L988-.L990)/2
 13258 00a6 5C       		.byte	(.L988-.L990)/2
 13259 00a7 5C       		.byte	(.L988-.L990)/2
 13260 00a8 5C       		.byte	(.L988-.L990)/2
 13261 00a9 5C       		.byte	(.L988-.L990)/2
 13262 00aa 5C       		.byte	(.L988-.L990)/2
 13263 00ab 62       		.byte	(.L1022-.L990)/2
 13264 00ac 5C       		.byte	(.L988-.L990)/2
ARM GAS  /tmp/ccBfkcjf.s 			page 408


 13265 00ad 5C       		.byte	(.L988-.L990)/2
 13266 00ae 5C       		.byte	(.L988-.L990)/2
 13267 00af 0E       		.byte	(.L992-.L990)/2
 13268 00b0 5C       		.byte	(.L988-.L990)/2
 13269 00b1 45       		.byte	(.L991-.L990)/2
 13270 00b2 5C       		.byte	(.L988-.L990)/2
 13271 00b3 5C       		.byte	(.L988-.L990)/2
 13272 00b4 5A       		.byte	(.L989-.L990)/2
 13273              	.LVL1552:
 13274 00b5 00       		.p2align 1
 13275              	.L1021:
6080:Middlewares/Third_Party/FatFs/src/ff.c **** 		d = c;
 13276              		.loc 1 6080 5 is_stmt 0 view .LVU4456
 13277 00b6 0B46     		mov	r3, r1
 13278 00b8 EBE7     		b	.L987
 13279              	.LVL1553:
 13280              	.L992:
6083:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'S' :					/* String */
6084:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = va_arg(arp, TCHAR*);
 13281              		.loc 1 6084 4 is_stmt 1 view .LVU4457
 13282              		.loc 1 6084 6 is_stmt 0 view .LVU4458
 13283 00ba 1B9B     		ldr	r3, [sp, #108]
 13284              	.LVL1554:
 13285              		.loc 1 6084 6 view .LVU4459
 13286 00bc 1A1D     		adds	r2, r3, #4
 13287 00be 1B92     		str	r2, [sp, #108]
 13288 00c0 D3F80080 		ldr	r8, [r3]
6085:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (j = 0; p[j]; j++) ;
 13289              		.loc 1 6085 4 is_stmt 1 view .LVU4460
 13290              	.LVL1555:
 13291              		.loc 1 6085 11 is_stmt 0 view .LVU4461
 13292 00c4 0027     		movs	r7, #0
 13293              		.loc 1 6085 4 view .LVU4462
 13294 00c6 00E0     		b	.L996
 13295              	.LVL1556:
 13296              	.L997:
 13297              		.loc 1 6085 27 is_stmt 1 discriminator 3 view .LVU4463
 13298              		.loc 1 6085 22 discriminator 3 view .LVU4464
 13299              		.loc 1 6085 23 is_stmt 0 discriminator 3 view .LVU4465
 13300 00c8 0137     		adds	r7, r7, #1
 13301              	.LVL1557:
 13302              	.L996:
 13303              		.loc 1 6085 16 is_stmt 1 discriminator 1 view .LVU4466
 13304              		.loc 1 6085 17 is_stmt 0 discriminator 1 view .LVU4467
 13305 00ca 18F80730 		ldrb	r3, [r8, r7]	@ zero_extendqisi2
 13306              		.loc 1 6085 4 discriminator 1 view .LVU4468
 13307 00ce 002B     		cmp	r3, #0
 13308 00d0 FAD1     		bne	.L997
6086:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(f & 2)) {
 13309              		.loc 1 6086 4 is_stmt 1 view .LVU4469
 13310              		.loc 1 6086 7 is_stmt 0 view .LVU4470
 13311 00d2 16F0020F 		tst	r6, #2
 13312 00d6 10D1     		bne	.L1001
 13313 00d8 05E0     		b	.L998
 13314              	.LVL1558:
 13315              	.L1000:
6087:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (j++ < w) putc_bfd(&pb, ' ');
ARM GAS  /tmp/ccBfkcjf.s 			page 409


 13316              		.loc 1 6087 21 is_stmt 1 discriminator 2 view .LVU4471
 13317 00da 2021     		movs	r1, #32
 13318 00dc 0DEB0100 		add	r0, sp, r1
 13319 00e0 FFF7FEFF 		bl	putc_bfd
 13320              	.LVL1559:
 13321              		.loc 1 6087 13 is_stmt 0 discriminator 2 view .LVU4472
 13322 00e4 3746     		mov	r7, r6
 13323              	.LVL1560:
 13324              	.L998:
 13325              		.loc 1 6087 11 is_stmt 1 discriminator 1 view .LVU4473
 13326              		.loc 1 6087 13 is_stmt 0 discriminator 1 view .LVU4474
 13327 00e6 7E1C     		adds	r6, r7, #1
 13328              	.LVL1561:
 13329              		.loc 1 6087 11 discriminator 1 view .LVU4475
 13330 00e8 A742     		cmp	r7, r4
 13331 00ea F6D3     		bcc	.L1000
 13332              		.loc 1 6087 13 view .LVU4476
 13333 00ec 3746     		mov	r7, r6
 13334 00ee 04E0     		b	.L1001
 13335              	.LVL1562:
 13336              	.L1002:
6088:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
6089:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (*p) putc_bfd(&pb, *p++);
 13337              		.loc 1 6089 15 is_stmt 1 discriminator 2 view .LVU4477
 13338              		.loc 1 6089 31 is_stmt 0 discriminator 2 view .LVU4478
 13339 00f0 08F10108 		add	r8, r8, #1
 13340              	.LVL1563:
 13341              		.loc 1 6089 15 discriminator 2 view .LVU4479
 13342 00f4 08A8     		add	r0, sp, #32
 13343 00f6 FFF7FEFF 		bl	putc_bfd
 13344              	.LVL1564:
 13345              	.L1001:
 13346              		.loc 1 6089 10 is_stmt 1 discriminator 1 view .LVU4480
 13347              		.loc 1 6089 11 is_stmt 0 discriminator 1 view .LVU4481
 13348 00fa 98F80010 		ldrb	r1, [r8]	@ zero_extendqisi2
 13349              		.loc 1 6089 10 discriminator 1 view .LVU4482
 13350 00fe 0029     		cmp	r1, #0
 13351 0100 F6D1     		bne	.L1002
 13352              		.loc 1 6089 10 discriminator 1 view .LVU4483
 13353 0102 05E0     		b	.L1003
 13354              	.LVL1565:
 13355              	.L1004:
6090:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (j++ < w) putc_bfd(&pb, ' ');
 13356              		.loc 1 6090 20 is_stmt 1 discriminator 2 view .LVU4484
 13357 0104 2021     		movs	r1, #32
 13358 0106 0DEB0100 		add	r0, sp, r1
 13359 010a FFF7FEFF 		bl	putc_bfd
 13360              	.LVL1566:
 13361              		.loc 1 6090 12 is_stmt 0 discriminator 2 view .LVU4485
 13362 010e 3746     		mov	r7, r6
 13363              	.LVL1567:
 13364              	.L1003:
 13365              		.loc 1 6090 10 is_stmt 1 discriminator 1 view .LVU4486
 13366              		.loc 1 6090 12 is_stmt 0 discriminator 1 view .LVU4487
 13367 0110 7E1C     		adds	r6, r7, #1
 13368              	.LVL1568:
 13369              		.loc 1 6090 10 discriminator 1 view .LVU4488
ARM GAS  /tmp/ccBfkcjf.s 			page 410


 13370 0112 A742     		cmp	r7, r4
 13371 0114 F6D3     		bcc	.L1004
 13372 0116 7FE7     		b	.L978
 13373              	.LVL1569:
 13374              	.L994:
6091:Middlewares/Third_Party/FatFs/src/ff.c **** 			continue;
6092:Middlewares/Third_Party/FatFs/src/ff.c **** 
6093:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'C' :					/* Character */
6094:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, (TCHAR)va_arg(arp, int)); continue;
 13375              		.loc 1 6094 4 is_stmt 1 view .LVU4489
 13376              		.loc 1 6094 25 is_stmt 0 view .LVU4490
 13377 0118 1B9B     		ldr	r3, [sp, #108]
 13378              	.LVL1570:
 13379              		.loc 1 6094 25 view .LVU4491
 13380 011a 1A1D     		adds	r2, r3, #4
 13381 011c 1B92     		str	r2, [sp, #108]
 13382              		.loc 1 6094 4 view .LVU4492
 13383 011e 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 13384              	.LVL1571:
 13385              		.loc 1 6094 4 view .LVU4493
 13386 0120 08A8     		add	r0, sp, #32
 13387 0122 FFF7FEFF 		bl	putc_bfd
 13388              	.LVL1572:
 13389              		.loc 1 6094 44 is_stmt 1 view .LVU4494
 13390              		.loc 1 6094 4 is_stmt 0 view .LVU4495
 13391 0126 77E7     		b	.L978
 13392              	.LVL1573:
 13393              	.L991:
6095:Middlewares/Third_Party/FatFs/src/ff.c **** 
6096:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'B' :					/* Binary */
6097:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 2; break;
6098:Middlewares/Third_Party/FatFs/src/ff.c **** 
6099:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'O' :					/* Octal */
6100:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 8; break;
6101:Middlewares/Third_Party/FatFs/src/ff.c **** 
6102:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'D' :					/* Signed decimal */
6103:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'U' :					/* Unsigned decimal */
6104:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 10; break;
 13394              		.loc 1 6104 4 is_stmt 1 view .LVU4496
 13395              		.loc 1 6104 12 view .LVU4497
 13396              		.loc 1 6104 6 is_stmt 0 view .LVU4498
 13397 0128 0A20     		movs	r0, #10
 13398              	.LVL1574:
 13399              	.L993:
6105:Middlewares/Third_Party/FatFs/src/ff.c **** 
6106:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'X' :					/* Hexdecimal */
6107:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 16; break;
6108:Middlewares/Third_Party/FatFs/src/ff.c **** 
6109:Middlewares/Third_Party/FatFs/src/ff.c **** 		default:					/* Unknown type (pass-through) */
6110:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, c); continue;
6111:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
6112:Middlewares/Third_Party/FatFs/src/ff.c **** 
6113:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Get an argument and put it in numeral */
6114:Middlewares/Third_Party/FatFs/src/ff.c **** 		v = (f & 4) ? (DWORD)va_arg(arp, long) : ((d == 'D') ? (DWORD)(long)va_arg(arp, int) : (DWORD)va_
 13400              		.loc 1 6114 3 is_stmt 1 view .LVU4499
 13401              		.loc 1 6114 42 is_stmt 0 view .LVU4500
 13402 012a 16F0040F 		tst	r6, #4
ARM GAS  /tmp/ccBfkcjf.s 			page 411


 13403 012e 1AD0     		beq	.L1005
 13404              		.loc 1 6114 24 view .LVU4501
 13405 0130 1B9A     		ldr	r2, [sp, #108]
 13406 0132 171D     		adds	r7, r2, #4
 13407 0134 1B97     		str	r7, [sp, #108]
 13408 0136 1268     		ldr	r2, [r2]
 13409              	.L1006:
 13410              	.LVL1575:
6115:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 13411              		.loc 1 6115 3 is_stmt 1 discriminator 8 view .LVU4502
 13412              		.loc 1 6115 16 is_stmt 0 discriminator 8 view .LVU4503
 13413 0138 D70F     		lsrs	r7, r2, #31
 13414 013a 442B     		cmp	r3, #68
 13415 013c 14BF     		ite	ne
 13416 013e 0027     		movne	r7, #0
 13417 0140 07F00107 		andeq	r7, r7, #1
 13418              		.loc 1 6115 6 discriminator 8 view .LVU4504
 13419 0144 17B1     		cbz	r7, .L1008
6116:Middlewares/Third_Party/FatFs/src/ff.c **** 			v = 0 - v;
 13420              		.loc 1 6116 4 is_stmt 1 view .LVU4505
 13421              		.loc 1 6116 6 is_stmt 0 view .LVU4506
 13422 0146 5242     		rsbs	r2, r2, #0
 13423              	.LVL1576:
6117:Middlewares/Third_Party/FatFs/src/ff.c **** 			f |= 8;
 13424              		.loc 1 6117 4 is_stmt 1 view .LVU4507
 13425              		.loc 1 6117 6 is_stmt 0 view .LVU4508
 13426 0148 46F00806 		orr	r6, r6, #8
 13427              	.LVL1577:
 13428              	.L1008:
6118:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
6119:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = 0;
 13429              		.loc 1 6119 3 is_stmt 1 view .LVU4509
 13430              		.loc 1 6119 5 is_stmt 0 view .LVU4510
 13431 014c 4FF0000C 		mov	ip, #0
 13432 0150 25E0     		b	.L1011
 13433              	.LVL1578:
 13434              	.L989:
6107:Middlewares/Third_Party/FatFs/src/ff.c **** 
 13435              		.loc 1 6107 4 is_stmt 1 view .LVU4511
6107:Middlewares/Third_Party/FatFs/src/ff.c **** 
 13436              		.loc 1 6107 12 view .LVU4512
6107:Middlewares/Third_Party/FatFs/src/ff.c **** 
 13437              		.loc 1 6107 6 is_stmt 0 view .LVU4513
 13438 0152 1020     		movs	r0, #16
6107:Middlewares/Third_Party/FatFs/src/ff.c **** 
 13439              		.loc 1 6107 4 view .LVU4514
 13440 0154 E9E7     		b	.L993
 13441              	.LVL1579:
 13442              	.L988:
6110:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 13443              		.loc 1 6110 4 is_stmt 1 view .LVU4515
 13444 0156 08A8     		add	r0, sp, #32
 13445 0158 FFF7FEFF 		bl	putc_bfd
 13446              	.LVL1580:
6110:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 13447              		.loc 1 6110 22 view .LVU4516
6110:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
ARM GAS  /tmp/ccBfkcjf.s 			page 412


 13448              		.loc 1 6110 4 is_stmt 0 view .LVU4517
 13449 015c 5CE7     		b	.L978
 13450              	.LVL1581:
 13451              	.L995:
6082:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'S' :					/* String */
 13452              		.loc 1 6082 3 view .LVU4518
 13453 015e 0220     		movs	r0, #2
 13454 0160 E3E7     		b	.L993
 13455              	.L1022:
6100:Middlewares/Third_Party/FatFs/src/ff.c **** 
 13456              		.loc 1 6100 6 view .LVU4519
 13457 0162 0820     		movs	r0, #8
 13458 0164 E1E7     		b	.L993
 13459              	.LVL1582:
 13460              	.L1005:
6114:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 13461              		.loc 1 6114 88 discriminator 2 view .LVU4520
 13462 0166 442B     		cmp	r3, #68
 13463 0168 04D0     		beq	.L1029
6114:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 13464              		.loc 1 6114 88 view .LVU4521
 13465 016a 1B9A     		ldr	r2, [sp, #108]
 13466 016c 171D     		adds	r7, r2, #4
 13467 016e 1B97     		str	r7, [sp, #108]
 13468 0170 1268     		ldr	r2, [r2]
 13469 0172 E1E7     		b	.L1006
 13470              	.L1029:
6114:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 13471              		.loc 1 6114 71 view .LVU4522
 13472 0174 1B9A     		ldr	r2, [sp, #108]
 13473 0176 171D     		adds	r7, r2, #4
 13474 0178 1B97     		str	r7, [sp, #108]
 13475 017a 1268     		ldr	r2, [r2]
 13476 017c DCE7     		b	.L1006
 13477              	.LVL1583:
 13478              	.L1031:
6120:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
6121:Middlewares/Third_Party/FatFs/src/ff.c **** 			d = (TCHAR)(v % r); v /= r;
6122:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 13479              		.loc 1 6122 17 view .LVU4523
 13480 017e 2727     		movs	r7, #39
 13481              	.L1010:
 13482              		.loc 1 6122 17 discriminator 5 view .LVU4524
 13483 0180 3B44     		add	r3, r3, r7
 13484              	.LVL1584:
 13485              		.loc 1 6122 17 discriminator 5 view .LVU4525
 13486 0182 DBB2     		uxtb	r3, r3
 13487              	.LVL1585:
 13488              	.L1009:
6123:Middlewares/Third_Party/FatFs/src/ff.c **** 			str[i++] = d + '0';
 13489              		.loc 1 6123 4 is_stmt 1 view .LVU4526
 13490              		.loc 1 6123 9 is_stmt 0 view .LVU4527
 13491 0184 0CF10107 		add	r7, ip, #1
 13492              	.LVL1586:
 13493              		.loc 1 6123 17 view .LVU4528
 13494 0188 3033     		adds	r3, r3, #48
 13495              	.LVL1587:
ARM GAS  /tmp/ccBfkcjf.s 			page 413


 13496              		.loc 1 6123 13 view .LVU4529
 13497 018a 0CF17009 		add	r9, ip, #112
 13498 018e E944     		add	r9, sp, r9
 13499 0190 09F8703C 		strb	r3, [r9, #-112]
6124:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (v && i < sizeof str / sizeof str[0]);
 13500              		.loc 1 6124 11 is_stmt 1 view .LVU4530
 13501              		.loc 1 6124 3 is_stmt 0 view .LVU4531
 13502 0194 C645     		cmp	lr, r8
 13503 0196 98BF     		it	ls
 13504 0198 1F2F     		cmpls	r7, #31
 13505 019a 0ED8     		bhi	.L1030
6123:Middlewares/Third_Party/FatFs/src/ff.c **** 			str[i++] = d + '0';
 13506              		.loc 1 6123 9 view .LVU4532
 13507 019c BC46     		mov	ip, r7
 13508              	.LVL1588:
 13509              	.L1011:
6120:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 13510              		.loc 1 6120 3 is_stmt 1 view .LVU4533
6121:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 13511              		.loc 1 6121 4 view .LVU4534
6121:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 13512              		.loc 1 6121 18 is_stmt 0 view .LVU4535
 13513 019e 8646     		mov	lr, r0
 13514 01a0 B2FBF0F7 		udiv	r7, r2, r0
 13515 01a4 00FB1723 		mls	r3, r0, r7, r2
6121:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 13516              		.loc 1 6121 6 view .LVU4536
 13517 01a8 DBB2     		uxtb	r3, r3
 13518              	.LVL1589:
6121:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 13519              		.loc 1 6121 24 is_stmt 1 view .LVU4537
 13520 01aa 9046     		mov	r8, r2
6121:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 13521              		.loc 1 6121 26 is_stmt 0 view .LVU4538
 13522 01ac 3A46     		mov	r2, r7
 13523              	.LVL1590:
6122:Middlewares/Third_Party/FatFs/src/ff.c **** 			str[i++] = d + '0';
 13524              		.loc 1 6122 4 is_stmt 1 view .LVU4539
6122:Middlewares/Third_Party/FatFs/src/ff.c **** 			str[i++] = d + '0';
 13525              		.loc 1 6122 7 is_stmt 0 view .LVU4540
 13526 01ae 092B     		cmp	r3, #9
 13527 01b0 E8D9     		bls	.L1009
6122:Middlewares/Third_Party/FatFs/src/ff.c **** 			str[i++] = d + '0';
 13528              		.loc 1 6122 15 is_stmt 1 discriminator 1 view .LVU4541
6122:Middlewares/Third_Party/FatFs/src/ff.c **** 			str[i++] = d + '0';
 13529              		.loc 1 6122 17 is_stmt 0 discriminator 1 view .LVU4542
 13530 01b2 7829     		cmp	r1, #120
 13531 01b4 E3D0     		beq	.L1031
6122:Middlewares/Third_Party/FatFs/src/ff.c **** 			str[i++] = d + '0';
 13532              		.loc 1 6122 17 view .LVU4543
 13533 01b6 0727     		movs	r7, #7
 13534 01b8 E2E7     		b	.L1010
 13535              	.LVL1591:
 13536              	.L1030:
6125:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (f & 8) str[i++] = '-';
 13537              		.loc 1 6125 3 is_stmt 1 view .LVU4544
 13538              		.loc 1 6125 6 is_stmt 0 view .LVU4545
ARM GAS  /tmp/ccBfkcjf.s 			page 414


 13539 01ba 16F0080F 		tst	r6, #8
 13540 01be 08D0     		beq	.L1012
 13541              		.loc 1 6125 14 is_stmt 1 discriminator 1 view .LVU4546
 13542              	.LVL1592:
 13543              		.loc 1 6125 23 is_stmt 0 discriminator 1 view .LVU4547
 13544 01c0 07F17003 		add	r3, r7, #112
 13545 01c4 0DEB0307 		add	r7, sp, r3
 13546 01c8 2D23     		movs	r3, #45
 13547 01ca 07F8703C 		strb	r3, [r7, #-112]
 13548              		.loc 1 6125 19 discriminator 1 view .LVU4548
 13549 01ce 0CF10207 		add	r7, ip, #2
 13550              	.LVL1593:
 13551              	.L1012:
6126:Middlewares/Third_Party/FatFs/src/ff.c **** 		j = i; d = (f & 1) ? '0' : ' ';
 13552              		.loc 1 6126 3 is_stmt 1 view .LVU4549
 13553              		.loc 1 6126 10 view .LVU4550
 13554              		.loc 1 6126 12 is_stmt 0 view .LVU4551
 13555 01d2 16F0010F 		tst	r6, #1
 13556 01d6 03D0     		beq	.L1025
 13557              		.loc 1 6126 12 view .LVU4552
 13558 01d8 4FF0300A 		mov	r10, #48
 13559              	.L1013:
 13560              	.LVL1594:
6127:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (!(f & 2) && j++ < w) putc_bfd(&pb, d);
 13561              		.loc 1 6127 3 is_stmt 1 discriminator 4 view .LVU4553
6126:Middlewares/Third_Party/FatFs/src/ff.c **** 		j = i; d = (f & 1) ? '0' : ' ';
 13562              		.loc 1 6126 5 is_stmt 0 discriminator 4 view .LVU4554
 13563 01dc B846     		mov	r8, r7
 13564              		.loc 1 6127 9 discriminator 4 view .LVU4555
 13565 01de 07E0     		b	.L1014
 13566              	.LVL1595:
 13567              	.L1025:
6126:Middlewares/Third_Party/FatFs/src/ff.c **** 		j = i; d = (f & 1) ? '0' : ' ';
 13568              		.loc 1 6126 12 view .LVU4556
 13569 01e0 4FF0200A 		mov	r10, #32
 13570 01e4 FAE7     		b	.L1013
 13571              	.LVL1596:
 13572              	.L1016:
 13573              		.loc 1 6127 31 is_stmt 1 discriminator 3 view .LVU4557
 13574 01e6 5146     		mov	r1, r10
 13575 01e8 08A8     		add	r0, sp, #32
 13576 01ea FFF7FEFF 		bl	putc_bfd
 13577              	.LVL1597:
 13578              		.loc 1 6127 23 is_stmt 0 discriminator 3 view .LVU4558
 13579 01ee C846     		mov	r8, r9
 13580              	.LVL1598:
 13581              	.L1014:
 13582              		.loc 1 6127 9 is_stmt 1 discriminator 1 view .LVU4559
 13583 01f0 16F0020F 		tst	r6, #2
 13584 01f4 04D1     		bne	.L1017
 13585              		.loc 1 6127 23 is_stmt 0 discriminator 2 view .LVU4560
 13586 01f6 08F10109 		add	r9, r8, #1
 13587              	.LVL1599:
 13588              		.loc 1 6127 19 discriminator 2 view .LVU4561
 13589 01fa A045     		cmp	r8, r4
 13590 01fc F3D3     		bcc	.L1016
 13591              		.loc 1 6127 23 view .LVU4562
ARM GAS  /tmp/ccBfkcjf.s 			page 415


 13592 01fe C846     		mov	r8, r9
 13593              	.LVL1600:
 13594              	.L1017:
6128:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 13595              		.loc 1 6128 3 is_stmt 1 discriminator 1 view .LVU4563
6129:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, str[--i]);
 13596              		.loc 1 6129 4 discriminator 1 view .LVU4564
 13597 0200 013F     		subs	r7, r7, #1
 13598              	.LVL1601:
 13599              		.loc 1 6129 4 is_stmt 0 discriminator 1 view .LVU4565
 13600 0202 07F17003 		add	r3, r7, #112
 13601 0206 6B44     		add	r3, sp, r3
 13602 0208 13F8701C 		ldrb	r1, [r3, #-112]	@ zero_extendqisi2
 13603 020c 08A8     		add	r0, sp, #32
 13604 020e FFF7FEFF 		bl	putc_bfd
 13605              	.LVL1602:
6130:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (i);
 13606              		.loc 1 6130 11 is_stmt 1 discriminator 1 view .LVU4566
 13607              		.loc 1 6130 3 is_stmt 0 discriminator 1 view .LVU4567
 13608 0212 002F     		cmp	r7, #0
 13609 0214 F4D1     		bne	.L1017
 13610              	.LVL1603:
 13611              	.L1018:
6131:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (j++ < w) putc_bfd(&pb, d);
 13612              		.loc 1 6131 9 is_stmt 1 discriminator 1 view .LVU4568
 13613              		.loc 1 6131 11 is_stmt 0 discriminator 1 view .LVU4569
 13614 0216 08F10106 		add	r6, r8, #1
 13615              	.LVL1604:
 13616              		.loc 1 6131 9 discriminator 1 view .LVU4570
 13617 021a A045     		cmp	r8, r4
 13618 021c BFF4FCAE 		bcs	.L978
 13619              		.loc 1 6131 19 is_stmt 1 discriminator 2 view .LVU4571
 13620 0220 5146     		mov	r1, r10
 13621 0222 08A8     		add	r0, sp, #32
 13622 0224 FFF7FEFF 		bl	putc_bfd
 13623              	.LVL1605:
 13624              		.loc 1 6131 11 is_stmt 0 discriminator 2 view .LVU4572
 13625 0228 B046     		mov	r8, r6
 13626 022a F4E7     		b	.L1018
 13627              	.LVL1606:
 13628              	.L979:
6132:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
6133:Middlewares/Third_Party/FatFs/src/ff.c **** 
6134:Middlewares/Third_Party/FatFs/src/ff.c **** 	va_end(arp);
 13629              		.loc 1 6134 2 is_stmt 1 view .LVU4573
6135:Middlewares/Third_Party/FatFs/src/ff.c **** 
6136:Middlewares/Third_Party/FatFs/src/ff.c **** 	return putc_flush(&pb);
 13630              		.loc 1 6136 2 view .LVU4574
 13631              		.loc 1 6136 9 is_stmt 0 view .LVU4575
 13632 022c 08A8     		add	r0, sp, #32
 13633 022e FFF7FEFF 		bl	putc_flush
 13634              	.LVL1607:
6137:Middlewares/Third_Party/FatFs/src/ff.c **** }
 13635              		.loc 1 6137 1 view .LVU4576
 13636 0232 1DB0     		add	sp, sp, #116
 13637              	.LCFI140:
 13638              		.cfi_def_cfa_offset 44
ARM GAS  /tmp/ccBfkcjf.s 			page 416


 13639              		@ sp needed
 13640 0234 BDE8F047 		pop	{r4, r5, r6, r7, r8, r9, r10, lr}
 13641              	.LCFI141:
 13642              		.cfi_restore 14
 13643              		.cfi_restore 10
 13644              		.cfi_restore 9
 13645              		.cfi_restore 8
 13646              		.cfi_restore 7
 13647              		.cfi_restore 6
 13648              		.cfi_restore 5
 13649              		.cfi_restore 4
 13650              		.cfi_def_cfa_offset 12
 13651 0238 03B0     		add	sp, sp, #12
 13652              	.LCFI142:
 13653              		.cfi_restore 3
 13654              		.cfi_restore 2
 13655              		.cfi_restore 1
 13656              		.cfi_def_cfa_offset 0
 13657 023a 7047     		bx	lr
 13658              		.cfi_endproc
 13659              	.LFE416:
 13661              		.section	.bss.FatFs,"aw",%nobits
 13662              		.align	2
 13663              		.set	.LANCHOR2,. + 0
 13666              	FatFs:
 13667 0000 00000000 		.space	4
 13668              		.section	.bss.Files,"aw",%nobits
 13669              		.align	2
 13670              		.set	.LANCHOR0,. + 0
 13673              	Files:
 13674 0000 00000000 		.space	32
 13674      00000000 
 13674      00000000 
 13674      00000000 
 13674      00000000 
 13675              		.section	.bss.Fsid,"aw",%nobits
 13676              		.align	1
 13677              		.set	.LANCHOR3,. + 0
 13680              	Fsid:
 13681 0000 0000     		.space	2
 13682              		.section	.bss.LfnBuf,"aw",%nobits
 13683              		.align	2
 13684              		.set	.LANCHOR4,. + 0
 13687              	LfnBuf:
 13688 0000 00000000 		.space	512
 13688      00000000 
 13688      00000000 
 13688      00000000 
 13688      00000000 
 13689              		.section	.rodata.ExCvt,"a"
 13690              		.align	2
 13691              		.set	.LANCHOR5,. + 0
 13694              	ExCvt:
 13695 0000 43554541 		.ascii	"CUEAAAACEEEIIIAAE\222\222OOOUUYOUO\234O\236\237AIOU"
 13695      41414143 
 13695      45454549 
 13695      49494141 
ARM GAS  /tmp/ccBfkcjf.s 			page 417


 13695      4592924F 
 13696 0024 A5A5A6A7 		.ascii	"\245\245\246\247\250\251\252\253\254\255\256\257\260"
 13696      A8A9AAAB 
 13696      ACADAEAF 
 13696      B0
 13697 0031 B1B2B3B4 		.ascii	"\261\262\263\264AAA\270\271\272\273\274\275\276\277"
 13697      414141B8 
 13697      B9BABBBC 
 13697      BDBEBF
 13698 0040 C0C1C2C3 		.ascii	"\300\301\302\303\304\305AA\310\311\312\313\314\315\316"
 13698      C4C54141 
 13698      C8C9CACB 
 13698      CCCDCE
 13699 004f CFD1D145 		.ascii	"\317\321\321EEEIIII\331\332\333\334\335I\337O\341OO"
 13699      45454949 
 13699      4949D9DA 
 13699      DBDCDD49 
 13699      DF4FE14F 
 13700 0064 4F4FE6E8 		.ascii	"OO\346\350\350UUUYY\356\357\360\361\362\363\364\365"
 13700      E8555555 
 13700      5959EEEF 
 13700      F0F1F2F3 
 13700      F4F5
 13701 0076 F6F7F8F9 		.ascii	"\366\367\370\371\372\373\374\375\376\377"
 13701      FAFBFCFD 
 13701      FEFF
 13702              		.section	.rodata.LfnOfs,"a"
 13703              		.align	2
 13704              		.set	.LANCHOR1,. + 0
 13707              	LfnOfs:
 13708 0000 01030507 		.ascii	"\001\003\005\007\011\016\020\022\024\026\030\034\036"
 13708      090E1012 
 13708      1416181C 
 13708      1E
 13709              		.section	.rodata.cst.0,"a"
 13710              		.align	2
 13711              		.set	.LANCHOR7,. + 0
 13714              	cst.0:
 13715 0000 0100     		.short	1
 13716 0002 0400     		.short	4
 13717 0004 1000     		.short	16
 13718 0006 4000     		.short	64
 13719 0008 0001     		.short	256
 13720 000a 0002     		.short	512
 13721 000c 0000     		.short	0
 13722              		.section	.rodata.cst32.1,"a"
 13723              		.align	2
 13724              		.set	.LANCHOR6,. + 0
 13727              	cst32.1:
 13728 0000 0100     		.short	1
 13729 0002 0200     		.short	2
 13730 0004 0400     		.short	4
 13731 0006 0800     		.short	8
 13732 0008 1000     		.short	16
 13733 000a 2000     		.short	32
 13734 000c 0000     		.short	0
 13735              		.text
ARM GAS  /tmp/ccBfkcjf.s 			page 418


 13736              	.Letext0:
 13737              		.file 2 "Middlewares/Third_Party/FatFs/src/integer.h"
 13738              		.file 3 "Middlewares/Third_Party/FatFs/src/ff.h"
 13739              		.file 4 "Middlewares/Third_Party/FatFs/src/diskio.h"
 13740              		.file 5 "/usr/lib/gcc/arm-none-eabi/10.3.1/include/stdarg.h"
 13741              		.file 6 "<built-in>"
ARM GAS  /tmp/ccBfkcjf.s 			page 419


DEFINED SYMBOLS
                            *ABS*:0000000000000000 ff.c
     /tmp/ccBfkcjf.s:17     .text.ld_word:0000000000000000 $t
     /tmp/ccBfkcjf.s:24     .text.ld_word:0000000000000000 ld_word
     /tmp/ccBfkcjf.s:52     .text.ld_dword:0000000000000000 $t
     /tmp/ccBfkcjf.s:58     .text.ld_dword:0000000000000000 ld_dword
     /tmp/ccBfkcjf.s:97     .text.st_word:0000000000000000 $t
     /tmp/ccBfkcjf.s:103    .text.st_word:0000000000000000 st_word
     /tmp/ccBfkcjf.s:128    .text.st_dword:0000000000000000 $t
     /tmp/ccBfkcjf.s:134    .text.st_dword:0000000000000000 st_dword
     /tmp/ccBfkcjf.s:173    .text.mem_cpy:0000000000000000 $t
     /tmp/ccBfkcjf.s:179    .text.mem_cpy:0000000000000000 mem_cpy
     /tmp/ccBfkcjf.s:219    .text.mem_set:0000000000000000 $t
     /tmp/ccBfkcjf.s:225    .text.mem_set:0000000000000000 mem_set
     /tmp/ccBfkcjf.s:252    .text.mem_cmp:0000000000000000 $t
     /tmp/ccBfkcjf.s:258    .text.mem_cmp:0000000000000000 mem_cmp
     /tmp/ccBfkcjf.s:301    .text.chk_chr:0000000000000000 $t
     /tmp/ccBfkcjf.s:307    .text.chk_chr:0000000000000000 chk_chr
     /tmp/ccBfkcjf.s:343    .text.chk_lock:0000000000000000 $t
     /tmp/ccBfkcjf.s:349    .text.chk_lock:0000000000000000 chk_lock
     /tmp/ccBfkcjf.s:487    .text.chk_lock:0000000000000078 $d
     /tmp/ccBfkcjf.s:492    .text.enq_lock:0000000000000000 $t
     /tmp/ccBfkcjf.s:498    .text.enq_lock:0000000000000000 enq_lock
     /tmp/ccBfkcjf.s:545    .text.enq_lock:000000000000001c $d
     /tmp/ccBfkcjf.s:550    .text.inc_lock:0000000000000000 $t
     /tmp/ccBfkcjf.s:556    .text.inc_lock:0000000000000000 inc_lock
     /tmp/ccBfkcjf.s:735    .text.inc_lock:00000000000000a0 $d
     /tmp/ccBfkcjf.s:740    .text.dec_lock:0000000000000000 $t
     /tmp/ccBfkcjf.s:746    .text.dec_lock:0000000000000000 dec_lock
     /tmp/ccBfkcjf.s:829    .text.dec_lock:000000000000003c $d
     /tmp/ccBfkcjf.s:834    .text.clear_lock:0000000000000000 $t
     /tmp/ccBfkcjf.s:840    .text.clear_lock:0000000000000000 clear_lock
     /tmp/ccBfkcjf.s:921    .text.clear_lock:0000000000000038 $d
     /tmp/ccBfkcjf.s:926    .text.clust2sect:0000000000000000 $t
     /tmp/ccBfkcjf.s:932    .text.clust2sect:0000000000000000 clust2sect
     /tmp/ccBfkcjf.s:972    .text.clmt_clust:0000000000000000 $t
     /tmp/ccBfkcjf.s:978    .text.clmt_clust:0000000000000000 clmt_clust
     /tmp/ccBfkcjf.s:1049   .text.ld_clust:0000000000000000 $t
     /tmp/ccBfkcjf.s:1055   .text.ld_clust:0000000000000000 ld_clust
     /tmp/ccBfkcjf.s:1111   .text.st_clust:0000000000000000 $t
     /tmp/ccBfkcjf.s:1117   .text.st_clust:0000000000000000 st_clust
     /tmp/ccBfkcjf.s:1166   .text.pick_lfn:0000000000000000 $t
     /tmp/ccBfkcjf.s:1172   .text.pick_lfn:0000000000000000 pick_lfn
     /tmp/ccBfkcjf.s:1317   .text.pick_lfn:0000000000000080 $d
     /tmp/ccBfkcjf.s:1322   .text.put_lfn:0000000000000000 $t
     /tmp/ccBfkcjf.s:1328   .text.put_lfn:0000000000000000 put_lfn
     /tmp/ccBfkcjf.s:1457   .text.put_lfn:0000000000000074 $d
     /tmp/ccBfkcjf.s:1462   .text.gen_numname:0000000000000000 $t
     /tmp/ccBfkcjf.s:1468   .text.gen_numname:0000000000000000 gen_numname
     /tmp/ccBfkcjf.s:1682   .text.sum_sfn:0000000000000000 $t
     /tmp/ccBfkcjf.s:1688   .text.sum_sfn:0000000000000000 sum_sfn
     /tmp/ccBfkcjf.s:1735   .text.get_ldnumber:0000000000000000 $t
     /tmp/ccBfkcjf.s:1741   .text.get_ldnumber:0000000000000000 get_ldnumber
     /tmp/ccBfkcjf.s:1843   .text.putc_init:0000000000000000 $t
     /tmp/ccBfkcjf.s:1849   .text.putc_init:0000000000000000 putc_init
     /tmp/ccBfkcjf.s:1872   .text.validate:0000000000000000 $t
     /tmp/ccBfkcjf.s:1878   .text.validate:0000000000000000 validate
ARM GAS  /tmp/ccBfkcjf.s 			page 420


     /tmp/ccBfkcjf.s:1987   .text.sync_window:0000000000000000 $t
     /tmp/ccBfkcjf.s:1993   .text.sync_window:0000000000000000 sync_window
     /tmp/ccBfkcjf.s:2102   .text.move_window:0000000000000000 $t
     /tmp/ccBfkcjf.s:2108   .text.move_window:0000000000000000 move_window
     /tmp/ccBfkcjf.s:2179   .text.check_fs:0000000000000000 $t
     /tmp/ccBfkcjf.s:2185   .text.check_fs:0000000000000000 check_fs
     /tmp/ccBfkcjf.s:2281   .text.check_fs:000000000000006c $d
     /tmp/ccBfkcjf.s:2288   .text.find_volume:0000000000000000 $t
     /tmp/ccBfkcjf.s:2294   .text.find_volume:0000000000000000 find_volume
     /tmp/ccBfkcjf.s:2967   .text.find_volume:0000000000000314 $d
     /tmp/ccBfkcjf.s:2975   .text.find_volume:0000000000000328 $t
     /tmp/ccBfkcjf.s:3029   .text.put_fat:0000000000000000 $t
     /tmp/ccBfkcjf.s:3035   .text.put_fat:0000000000000000 put_fat
     /tmp/ccBfkcjf.s:3323   .text.get_fat:0000000000000000 $t
     /tmp/ccBfkcjf.s:3329   .text.get_fat:0000000000000000 get_fat
     /tmp/ccBfkcjf.s:3577   .text.dir_sdi:0000000000000000 $t
     /tmp/ccBfkcjf.s:3583   .text.dir_sdi:0000000000000000 dir_sdi
     /tmp/ccBfkcjf.s:3790   .text.create_chain:0000000000000000 $t
     /tmp/ccBfkcjf.s:3796   .text.create_chain:0000000000000000 create_chain
     /tmp/ccBfkcjf.s:4029   .text.remove_chain:0000000000000000 $t
     /tmp/ccBfkcjf.s:4035   .text.remove_chain:0000000000000000 remove_chain
     /tmp/ccBfkcjf.s:4196   .text.dir_next:0000000000000000 $t
     /tmp/ccBfkcjf.s:4202   .text.dir_next:0000000000000000 dir_next
     /tmp/ccBfkcjf.s:4511   .text.dir_alloc:0000000000000000 $t
     /tmp/ccBfkcjf.s:4517   .text.dir_alloc:0000000000000000 dir_alloc
     /tmp/ccBfkcjf.s:4629   .text.dir_read:0000000000000000 $t
     /tmp/ccBfkcjf.s:4635   .text.dir_read:0000000000000000 dir_read
     /tmp/ccBfkcjf.s:4856   .text.dir_remove:0000000000000000 $t
     /tmp/ccBfkcjf.s:4862   .text.dir_remove:0000000000000000 dir_remove
     /tmp/ccBfkcjf.s:4970   .text.sync_fs:0000000000000000 $t
     /tmp/ccBfkcjf.s:4976   .text.sync_fs:0000000000000000 sync_fs
     /tmp/ccBfkcjf.s:5090   .text.sync_fs:0000000000000080 $d
     /tmp/ccBfkcjf.s:5096   .rodata.create_name.str1.4:0000000000000000 $d
     /tmp/ccBfkcjf.s:5103   .text.create_name:0000000000000000 $t
     /tmp/ccBfkcjf.s:5109   .text.create_name:0000000000000000 create_name
     /tmp/ccBfkcjf.s:5662   .text.create_name:0000000000000228 $d
     /tmp/ccBfkcjf.s:5669   .text.get_fileinfo:0000000000000000 $t
     /tmp/ccBfkcjf.s:5675   .text.get_fileinfo:0000000000000000 get_fileinfo
     /tmp/ccBfkcjf.s:5975   .text.cmp_lfn:0000000000000000 $t
     /tmp/ccBfkcjf.s:5981   .text.cmp_lfn:0000000000000000 cmp_lfn
     /tmp/ccBfkcjf.s:6141   .text.cmp_lfn:000000000000009c $d
     /tmp/ccBfkcjf.s:6146   .text.dir_find:0000000000000000 $t
     /tmp/ccBfkcjf.s:6152   .text.dir_find:0000000000000000 dir_find
     /tmp/ccBfkcjf.s:6401   .text.follow_path:0000000000000000 $t
     /tmp/ccBfkcjf.s:6407   .text.follow_path:0000000000000000 follow_path
     /tmp/ccBfkcjf.s:6575   .text.dir_register:0000000000000000 $t
     /tmp/ccBfkcjf.s:6581   .text.dir_register:0000000000000000 dir_register
     /tmp/ccBfkcjf.s:6891   .text.dir_register:000000000000013c $d
     /tmp/ccBfkcjf.s:6896   .text.f_mount:0000000000000000 $t
     /tmp/ccBfkcjf.s:6903   .text.f_mount:0000000000000000 f_mount
     /tmp/ccBfkcjf.s:7019   .text.f_mount:000000000000005c $d
     /tmp/ccBfkcjf.s:7024   .text.f_open:0000000000000000 $t
     /tmp/ccBfkcjf.s:7031   .text.f_open:0000000000000000 f_open
     /tmp/ccBfkcjf.s:7590   .text.f_read:0000000000000000 $t
     /tmp/ccBfkcjf.s:7597   .text.f_read:0000000000000000 f_read
     /tmp/ccBfkcjf.s:8027   .text.f_write:0000000000000000 $t
     /tmp/ccBfkcjf.s:8034   .text.f_write:0000000000000000 f_write
ARM GAS  /tmp/ccBfkcjf.s 			page 421


     /tmp/ccBfkcjf.s:8508   .text.putc_bfd:0000000000000000 $t
     /tmp/ccBfkcjf.s:8514   .text.putc_bfd:0000000000000000 putc_bfd
     /tmp/ccBfkcjf.s:8625   .text.putc_flush:0000000000000000 $t
     /tmp/ccBfkcjf.s:8631   .text.putc_flush:0000000000000000 putc_flush
     /tmp/ccBfkcjf.s:8710   .text.f_sync:0000000000000000 $t
     /tmp/ccBfkcjf.s:8717   .text.f_sync:0000000000000000 f_sync
     /tmp/ccBfkcjf.s:8865   .text.f_close:0000000000000000 $t
     /tmp/ccBfkcjf.s:8872   .text.f_close:0000000000000000 f_close
     /tmp/ccBfkcjf.s:8941   .text.f_lseek:0000000000000000 $t
     /tmp/ccBfkcjf.s:8948   .text.f_lseek:0000000000000000 f_lseek
     /tmp/ccBfkcjf.s:9657   .text.f_opendir:0000000000000000 $t
     /tmp/ccBfkcjf.s:9664   .text.f_opendir:0000000000000000 f_opendir
     /tmp/ccBfkcjf.s:9833   .text.f_closedir:0000000000000000 $t
     /tmp/ccBfkcjf.s:9840   .text.f_closedir:0000000000000000 f_closedir
     /tmp/ccBfkcjf.s:9906   .text.f_readdir:0000000000000000 $t
     /tmp/ccBfkcjf.s:9913   .text.f_readdir:0000000000000000 f_readdir
     /tmp/ccBfkcjf.s:10018  .text.f_stat:0000000000000000 $t
     /tmp/ccBfkcjf.s:10025  .text.f_stat:0000000000000000 f_stat
     /tmp/ccBfkcjf.s:10118  .text.f_getfree:0000000000000000 $t
     /tmp/ccBfkcjf.s:10125  .text.f_getfree:0000000000000000 f_getfree
     /tmp/ccBfkcjf.s:10408  .text.f_truncate:0000000000000000 $t
     /tmp/ccBfkcjf.s:10415  .text.f_truncate:0000000000000000 f_truncate
     /tmp/ccBfkcjf.s:10608  .text.f_unlink:0000000000000000 $t
     /tmp/ccBfkcjf.s:10615  .text.f_unlink:0000000000000000 f_unlink
     /tmp/ccBfkcjf.s:10841  .text.f_mkdir:0000000000000000 $t
     /tmp/ccBfkcjf.s:10848  .text.f_mkdir:0000000000000000 f_mkdir
     /tmp/ccBfkcjf.s:11225  .text.f_rename:0000000000000000 $t
     /tmp/ccBfkcjf.s:11232  .text.f_rename:0000000000000000 f_rename
     /tmp/ccBfkcjf.s:11510  .rodata.f_mkfs.str1.4:0000000000000000 $d
     /tmp/ccBfkcjf.s:11520  .text.f_mkfs:0000000000000000 $t
     /tmp/ccBfkcjf.s:11527  .text.f_mkfs:0000000000000000 f_mkfs
     /tmp/ccBfkcjf.s:12112  .text.f_mkfs:00000000000002b8 $d
     /tmp/ccBfkcjf.s:12120  .text.f_mkfs:00000000000002cc $t
     /tmp/ccBfkcjf.s:12756  .text.f_mkfs:000000000000064c $d
     /tmp/ccBfkcjf.s:12765  .text.f_mkfs:0000000000000664 $t
     /tmp/ccBfkcjf.s:12816  .text.f_gets:0000000000000000 $t
     /tmp/ccBfkcjf.s:12823  .text.f_gets:0000000000000000 f_gets
     /tmp/ccBfkcjf.s:12942  .text.f_putc:0000000000000000 $t
     /tmp/ccBfkcjf.s:12949  .text.f_putc:0000000000000000 f_putc
     /tmp/ccBfkcjf.s:12993  .text.f_puts:0000000000000000 $t
     /tmp/ccBfkcjf.s:13000  .text.f_puts:0000000000000000 f_puts
     /tmp/ccBfkcjf.s:13059  .text.f_printf:0000000000000000 $t
     /tmp/ccBfkcjf.s:13066  .text.f_printf:0000000000000000 f_printf
     /tmp/ccBfkcjf.s:13250  .text.f_printf:000000000000009e $d
     /tmp/ccBfkcjf.s:13662  .bss.FatFs:0000000000000000 $d
     /tmp/ccBfkcjf.s:13666  .bss.FatFs:0000000000000000 FatFs
     /tmp/ccBfkcjf.s:13669  .bss.Files:0000000000000000 $d
     /tmp/ccBfkcjf.s:13673  .bss.Files:0000000000000000 Files
     /tmp/ccBfkcjf.s:13676  .bss.Fsid:0000000000000000 $d
     /tmp/ccBfkcjf.s:13680  .bss.Fsid:0000000000000000 Fsid
     /tmp/ccBfkcjf.s:13683  .bss.LfnBuf:0000000000000000 $d
     /tmp/ccBfkcjf.s:13687  .bss.LfnBuf:0000000000000000 LfnBuf
     /tmp/ccBfkcjf.s:13690  .rodata.ExCvt:0000000000000000 $d
     /tmp/ccBfkcjf.s:13694  .rodata.ExCvt:0000000000000000 ExCvt
     /tmp/ccBfkcjf.s:13703  .rodata.LfnOfs:0000000000000000 $d
     /tmp/ccBfkcjf.s:13707  .rodata.LfnOfs:0000000000000000 LfnOfs
     /tmp/ccBfkcjf.s:13710  .rodata.cst.0:0000000000000000 $d
ARM GAS  /tmp/ccBfkcjf.s 			page 422


     /tmp/ccBfkcjf.s:13714  .rodata.cst.0:0000000000000000 cst.0
     /tmp/ccBfkcjf.s:13723  .rodata.cst32.1:0000000000000000 $d
     /tmp/ccBfkcjf.s:13727  .rodata.cst32.1:0000000000000000 cst32.1
     /tmp/ccBfkcjf.s:13274  .text.f_printf:00000000000000b5 $d
     /tmp/ccBfkcjf.s:13274  .text.f_printf:00000000000000b6 $t

UNDEFINED SYMBOLS
disk_status
disk_write
disk_read
disk_initialize
disk_ioctl
ff_convert
ff_wtoupper
get_fattime
